diff -crN package/ipmitool.orig/Config.in package/ipmitool/Config.in
*** package/ipmitool.orig/Config.in	1969-12-31 16:00:00.000000000 -0800
--- package/ipmitool/Config.in	2012-08-06 10:12:50.212346000 -0700
***************
*** 0 ****
--- 1,8 ----
+ config BR2_PACKAGE_IPMITOOL
+ 	bool "ipmitool"
+ 	help
+ 	  Utility for managing and configuring devices that
+ 	  support the Intelligent Platform Management Interface
+ 	  (IPMI) version 1.5 and version 2.0 specifications.
+ 
+ 	  http://ipmitool.sourceforge.net
diff -crN package/ipmitool.orig/ipmitool-1.8.11-config_in.patch package/ipmitool/ipmitool-1.8.11-config_in.patch
*** package/ipmitool.orig/ipmitool-1.8.11-config_in.patch	1969-12-31 16:00:00.000000000 -0800
--- package/ipmitool/ipmitool-1.8.11-config_in.patch	2012-08-06 14:49:48.954240000 -0700
***************
*** 0 ****
--- 1,12701 ----
+ diff -cNr ipmitool-1.8.11.orig/configure.in ipmitool-1.8.11/configure.in
+ *** ipmitool-1.8.11.orig/configure.in	2009-02-25 12:38:51.000000000 -0800
+ --- ipmitool-1.8.11/configure.in	2012-08-06 14:21:50.717379000 -0700
+ ***************
+ *** 1,9 ****
+   dnl
+   dnl autoconf for ipmitool
+   dnl
+ ! AC_INIT([src/ipmitool.c])
+   AC_CANONICAL_SYSTEM
+ ! AM_INIT_AUTOMAKE([ipmitool], [1.8.11])
+   AM_CONFIG_HEADER(config.h)
+   AC_CONFIG_SRCDIR([src/ipmitool.c])
+   AC_PREREQ(2.50)
+ --- 1,9 ----
+   dnl
+   dnl autoconf for ipmitool
+   dnl
+ ! AC_INIT([ipmitool],[1.8.11])
+   AC_CANONICAL_SYSTEM
+ ! AM_INIT_AUTOMAKE([foreign])
+   AM_CONFIG_HEADER(config.h)
+   AC_CONFIG_SRCDIR([src/ipmitool.c])
+   AC_PREREQ(2.50)
+ ***************
+ *** 508,514 ****
+   	else
+   	return(0);
+   	}
+ ! 	],[],[AC_DEFINE(HAVE_PRAGMA_PACK,[1],[Define to 1 if you need to use #pragma pack instead of __attribute__ ((packed))])]
+   )
+   
+   
+ --- 508,515 ----
+   	else
+   	return(0);
+   	}
+ ! 	],[],[AC_DEFINE(HAVE_PRAGMA_PACK,[1],[Define to 1 if you need to use #pragma pack instead of __attribute__ ((packed))])],
+ ! 	[AC_DEFINE(HAVE_PRAGMA_PACK,[1],[Define to 1 if you need to use #pragma pack instead of __attribute__ ((packed))])]
+   )
+   
+   
+ diff -cNr ipmitool-1.8.11.orig/aclocal.m4 ipmitool-1.8.11/aclocal.m4
+ *** ipmitool-1.8.11.orig/aclocal.m4	2009-02-25 13:21:30.000000000 -0800
+ --- ipmitool-1.8.11/aclocal.m4	2012-08-06 14:22:10.800701000 -0700
+ ***************
+ *** 1,4 ****
+ ! # generated automatically by aclocal 1.9.5 -*- Autoconf -*-
+   
+   # Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,
+   # 2005  Free Software Foundation, Inc.
+ --- 1,4 ----
+ ! # generated automatically by aclocal 1.9.6 -*- Autoconf -*-
+   
+   # Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,
+   # 2005  Free Software Foundation, Inc.
+ ***************
+ *** 13,19 ****
+   
+   # libtool.m4 - Configure libtool for the host system. -*-Autoconf-*-
+   
+ ! # serial 47 AC_PROG_LIBTOOL
+   
+   
+   # AC_PROVIDE_IFELSE(MACRO-NAME, IF-PROVIDED, IF-NOT-PROVIDED)
+ --- 13,19 ----
+   
+   # libtool.m4 - Configure libtool for the host system. -*-Autoconf-*-
+   
+ ! # serial 48 AC_PROG_LIBTOOL
+   
+   
+   # AC_PROVIDE_IFELSE(MACRO-NAME, IF-PROVIDED, IF-NOT-PROVIDED)
+ ***************
+ *** 143,149 ****
+   default_ofile=libtool
+   can_build_shared=yes
+   
+ ! # All known linkers require a `.a' archive for static linking (except M$VC,
+   # which needs '.lib').
+   libext=a
+   ltmain="$ac_aux_dir/ltmain.sh"
+ --- 143,149 ----
+   default_ofile=libtool
+   can_build_shared=yes
+   
+ ! # All known linkers require a `.a' archive for static linking (except MSVC,
+   # which needs '.lib').
+   libext=a
+   ltmain="$ac_aux_dir/ltmain.sh"
+ ***************
+ *** 163,168 ****
+ --- 163,169 ----
+   test -z "$AS" && AS=as
+   test -z "$CC" && CC=cc
+   test -z "$LTCC" && LTCC=$CC
+ + test -z "$LTCFLAGS" && LTCFLAGS=$CFLAGS
+   test -z "$DLLTOOL" && DLLTOOL=dlltool
+   test -z "$LD" && LD=ld
+   test -z "$LN_S" && LN_S="ln -s"
+ ***************
+ *** 182,191 ****
+   if test -n "$RANLIB"; then
+     case $host_os in
+     openbsd*)
+ !     old_postinstall_cmds="\$RANLIB -t \$oldlib~$old_postinstall_cmds"
+       ;;
+     *)
+ !     old_postinstall_cmds="\$RANLIB \$oldlib~$old_postinstall_cmds"
+       ;;
+     esac
+     old_archive_cmds="$old_archive_cmds~\$RANLIB \$oldlib"
+ --- 183,192 ----
+   if test -n "$RANLIB"; then
+     case $host_os in
+     openbsd*)
+ !     old_postinstall_cmds="$old_postinstall_cmds~\$RANLIB -t \$oldlib"
+       ;;
+     *)
+ !     old_postinstall_cmds="$old_postinstall_cmds~\$RANLIB \$oldlib"
+       ;;
+     esac
+     old_archive_cmds="$old_archive_cmds~\$RANLIB \$oldlib"
+ ***************
+ *** 233,238 ****
+ --- 234,242 ----
+   # If no C compiler was specified, use CC.
+   LTCC=${LTCC-"$CC"}
+   
+ + # If no C compiler flags were specified, use CFLAGS.
+ + LTCFLAGS=${LTCFLAGS-"$CFLAGS"}
+ + 
+   # Allow CC to be a program name with arguments.
+   compiler=$CC
+   ])# _LT_AC_SYS_COMPILER
+ ***************
+ *** 261,267 ****
+   AC_DEFUN([_LT_COMPILER_BOILERPLATE],
+   [ac_outfile=conftest.$ac_objext
+   printf "$lt_simple_compile_test_code" >conftest.$ac_ext
+ ! eval "$ac_compile" 2>&1 >/dev/null | $SED '/^$/d' >conftest.err
+   _lt_compiler_boilerplate=`cat conftest.err`
+   $rm conftest*
+   ])# _LT_COMPILER_BOILERPLATE
+ --- 265,271 ----
+   AC_DEFUN([_LT_COMPILER_BOILERPLATE],
+   [ac_outfile=conftest.$ac_objext
+   printf "$lt_simple_compile_test_code" >conftest.$ac_ext
+ ! eval "$ac_compile" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err
+   _lt_compiler_boilerplate=`cat conftest.err`
+   $rm conftest*
+   ])# _LT_COMPILER_BOILERPLATE
+ ***************
+ *** 274,280 ****
+   AC_DEFUN([_LT_LINKER_BOILERPLATE],
+   [ac_outfile=conftest.$ac_objext
+   printf "$lt_simple_link_test_code" >conftest.$ac_ext
+ ! eval "$ac_link" 2>&1 >/dev/null | $SED '/^$/d' >conftest.err
+   _lt_linker_boilerplate=`cat conftest.err`
+   $rm conftest*
+   ])# _LT_LINKER_BOILERPLATE
+ --- 278,284 ----
+   AC_DEFUN([_LT_LINKER_BOILERPLATE],
+   [ac_outfile=conftest.$ac_objext
+   printf "$lt_simple_link_test_code" >conftest.$ac_ext
+ ! eval "$ac_link" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err
+   _lt_linker_boilerplate=`cat conftest.err`
+   $rm conftest*
+   ])# _LT_LINKER_BOILERPLATE
+ ***************
+ *** 359,366 ****
+   # find a string as large as possible, as long as the shell can cope with it
+     for cmd in 'sed 50q "[$]0"' 'sed 20q "[$]0"' 'sed 10q "[$]0"' 'sed 2q "[$]0"' 'echo test'; do
+       # expected sizes: less than 2Kb, 1Kb, 512 bytes, 16 bytes, ...
+ !     if (echo_test_string="`eval $cmd`") 2>/dev/null &&
+ !        echo_test_string="`eval $cmd`" &&
+          (test "X$echo_test_string" = "X$echo_test_string") 2>/dev/null
+       then
+         break
+ --- 363,370 ----
+   # find a string as large as possible, as long as the shell can cope with it
+     for cmd in 'sed 50q "[$]0"' 'sed 20q "[$]0"' 'sed 10q "[$]0"' 'sed 2q "[$]0"' 'echo test'; do
+       # expected sizes: less than 2Kb, 1Kb, 512 bytes, 16 bytes, ...
+ !     if (echo_test_string=`eval $cmd`) 2>/dev/null &&
+ !        echo_test_string=`eval $cmd` &&
+          (test "X$echo_test_string" = "X$echo_test_string") 2>/dev/null
+       then
+         break
+ ***************
+ *** 529,535 ****
+     # Find out which ABI we are using.
+     echo 'int i;' > conftest.$ac_ext
+     if AC_TRY_EVAL(ac_compile); then
+ !     case "`/usr/bin/file conftest.o`" in
+       *32-bit*)
+         case $host in
+           x86_64-*linux*)
+ --- 533,539 ----
+     # Find out which ABI we are using.
+     echo 'int i;' > conftest.$ac_ext
+     if AC_TRY_EVAL(ac_compile); then
+ !     case `/usr/bin/file conftest.o` in
+       *32-bit*)
+         case $host in
+           x86_64-*linux*)
+ ***************
+ *** 580,585 ****
+ --- 584,605 ----
+       CFLAGS="$SAVE_CFLAGS"
+     fi
+     ;;
+ + sparc*-*solaris*)
+ +   # Find out which ABI we are using.
+ +   echo 'int i;' > conftest.$ac_ext
+ +   if AC_TRY_EVAL(ac_compile); then
+ +     case `/usr/bin/file conftest.o` in
+ +     *64-bit*)
+ +       case $lt_cv_prog_gnu_ld in
+ +       yes*) LD="${LD-ld} -m elf64_sparc" ;;
+ +       *)    LD="${LD-ld} -64" ;;
+ +       esac
+ +       ;;
+ +     esac
+ +   fi
+ +   rm -rf conftest*
+ +   ;;
+ + 
+   AC_PROVIDE_IFELSE([AC_LIBTOOL_WIN32_DLL],
+   [*-*-cygwin* | *-*-mingw* | *-*-pw32*)
+     AC_CHECK_TOOL(DLLTOOL, dlltool, false)
+ ***************
+ *** 611,617 ****
+      # with a dollar sign (not a hyphen), so the echo should work correctly.
+      # The option is referenced via a variable to avoid confusing sed.
+      lt_compile=`echo "$ac_compile" | $SED \
+ !    -e 's:.*FLAGS}? :&$lt_compiler_flag :; t' \
+      -e 's: [[^ ]]*conftest\.: $lt_compiler_flag&:; t' \
+      -e 's:$: $lt_compiler_flag:'`
+      (eval echo "\"\$as_me:__oline__: $lt_compile\"" >&AS_MESSAGE_LOG_FD)
+ --- 631,637 ----
+      # with a dollar sign (not a hyphen), so the echo should work correctly.
+      # The option is referenced via a variable to avoid confusing sed.
+      lt_compile=`echo "$ac_compile" | $SED \
+ !    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
+      -e 's: [[^ ]]*conftest\.: $lt_compiler_flag&:; t' \
+      -e 's:$: $lt_compiler_flag:'`
+      (eval echo "\"\$as_me:__oline__: $lt_compile\"" >&AS_MESSAGE_LOG_FD)
+ ***************
+ *** 622,630 ****
+      if (exit $ac_status) && test -s "$ac_outfile"; then
+        # The compiler can only warn and ignore the option if not recognized
+        # So say no if there are warnings other than the usual output.
+ !      $echo "X$_lt_compiler_boilerplate" | $Xsed >conftest.exp
+ !      $SED '/^$/d' conftest.err >conftest.er2
+ !      if test ! -s conftest.err || diff conftest.exp conftest.er2 >/dev/null; then
+          $2=yes
+        fi
+      fi
+ --- 642,650 ----
+      if (exit $ac_status) && test -s "$ac_outfile"; then
+        # The compiler can only warn and ignore the option if not recognized
+        # So say no if there are warnings other than the usual output.
+ !      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
+ !      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
+ !      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
+          $2=yes
+        fi
+      fi
+ ***************
+ *** 650,662 ****
+      LDFLAGS="$LDFLAGS $3"
+      printf "$lt_simple_link_test_code" > conftest.$ac_ext
+      if (eval $ac_link 2>conftest.err) && test -s conftest$ac_exeext; then
+ !      # The compiler can only warn and ignore the option if not recognized
+        # So say no if there are warnings
+        if test -s conftest.err; then
+          # Append any errors to the config.log.
+          cat conftest.err 1>&AS_MESSAGE_LOG_FD
+ !        $echo "X$_lt_linker_boilerplate" | $Xsed > conftest.exp
+ !        $SED '/^$/d' conftest.err >conftest.er2
+          if diff conftest.exp conftest.er2 >/dev/null; then
+            $2=yes
+          fi
+ --- 670,682 ----
+      LDFLAGS="$LDFLAGS $3"
+      printf "$lt_simple_link_test_code" > conftest.$ac_ext
+      if (eval $ac_link 2>conftest.err) && test -s conftest$ac_exeext; then
+ !      # The linker can only warn and ignore the option if not recognized
+        # So say no if there are warnings
+        if test -s conftest.err; then
+          # Append any errors to the config.log.
+          cat conftest.err 1>&AS_MESSAGE_LOG_FD
+ !        $echo "X$_lt_linker_boilerplate" | $Xsed -e '/^$/d' > conftest.exp
+ !        $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
+          if diff conftest.exp conftest.er2 >/dev/null; then
+            $2=yes
+          fi
+ ***************
+ *** 725,749 ****
+       elif test -x /usr/sbin/sysctl; then
+         lt_cv_sys_max_cmd_len=`/usr/sbin/sysctl -n kern.argmax`
+       else
+ !       lt_cv_sys_max_cmd_len=65536 # usable default for *BSD
+       fi
+       # And add a safety zone
+       lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \/ 4`
+       lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \* 3`
+       ;;
+     osf*)
+       # Dr. Hans Ekkehard Plesser reports seeing a kernel panic running configure
+       # due to this test when exec_disable_arg_limit is 1 on Tru64. It is not
+       # nice to cause kernel panics so lets avoid the loop below.
+       # First set a reasonable default.
+       lt_cv_sys_max_cmd_len=16384
+ !     # 
+       if test -x /sbin/sysconfig; then
+         case `/sbin/sysconfig -q proc exec_disable_arg_limit` in
+           *1*) lt_cv_sys_max_cmd_len=-1 ;;
+         esac
+       fi
+       ;;
+     *)
+       # If test is not a shell built-in, we'll probably end up computing a
+       # maximum length that is only half of the actual maximum length, but
+ --- 745,786 ----
+       elif test -x /usr/sbin/sysctl; then
+         lt_cv_sys_max_cmd_len=`/usr/sbin/sysctl -n kern.argmax`
+       else
+ !       lt_cv_sys_max_cmd_len=65536	# usable default for all BSDs
+       fi
+       # And add a safety zone
+       lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \/ 4`
+       lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \* 3`
+       ;;
+ + 
+ +   interix*)
+ +     # We know the value 262144 and hardcode it with a safety zone (like BSD)
+ +     lt_cv_sys_max_cmd_len=196608
+ +     ;;
+ + 
+     osf*)
+       # Dr. Hans Ekkehard Plesser reports seeing a kernel panic running configure
+       # due to this test when exec_disable_arg_limit is 1 on Tru64. It is not
+       # nice to cause kernel panics so lets avoid the loop below.
+       # First set a reasonable default.
+       lt_cv_sys_max_cmd_len=16384
+ !     #
+       if test -x /sbin/sysconfig; then
+         case `/sbin/sysconfig -q proc exec_disable_arg_limit` in
+           *1*) lt_cv_sys_max_cmd_len=-1 ;;
+         esac
+       fi
+       ;;
+ +   sco3.2v5*)
+ +     lt_cv_sys_max_cmd_len=102400
+ +     ;;
+ +   sysv5* | sco5v6* | sysv4.2uw2*)
+ +     kargmax=`grep ARG_MAX /etc/conf/cf.d/stune 2>/dev/null`
+ +     if test -n "$kargmax"; then
+ +       lt_cv_sys_max_cmd_len=`echo $kargmax | sed 's/.*[[ 	]]//'`
+ +     else
+ +       lt_cv_sys_max_cmd_len=32768
+ +     fi
+ +     ;;
+     *)
+       # If test is not a shell built-in, we'll probably end up computing a
+       # maximum length that is only half of the actual maximum length, but
+ ***************
+ *** 775,781 ****
+   
+   
+   # _LT_AC_CHECK_DLFCN
+ ! # --------------------
+   AC_DEFUN([_LT_AC_CHECK_DLFCN],
+   [AC_CHECK_HEADERS(dlfcn.h)dnl
+   ])# _LT_AC_CHECK_DLFCN
+ --- 812,818 ----
+   
+   
+   # _LT_AC_CHECK_DLFCN
+ ! # ------------------
+   AC_DEFUN([_LT_AC_CHECK_DLFCN],
+   [AC_CHECK_HEADERS(dlfcn.h)dnl
+   ])# _LT_AC_CHECK_DLFCN
+ ***************
+ *** 783,789 ****
+   
+   # _LT_AC_TRY_DLOPEN_SELF (ACTION-IF-TRUE, ACTION-IF-TRUE-W-USCORE,
+   #                           ACTION-IF-FALSE, ACTION-IF-CROSS-COMPILING)
+ ! # ------------------------------------------------------------------
+   AC_DEFUN([_LT_AC_TRY_DLOPEN_SELF],
+   [AC_REQUIRE([_LT_AC_CHECK_DLFCN])dnl
+   if test "$cross_compiling" = yes; then :
+ --- 820,826 ----
+   
+   # _LT_AC_TRY_DLOPEN_SELF (ACTION-IF-TRUE, ACTION-IF-TRUE-W-USCORE,
+   #                           ACTION-IF-FALSE, ACTION-IF-CROSS-COMPILING)
+ ! # ---------------------------------------------------------------------
+   AC_DEFUN([_LT_AC_TRY_DLOPEN_SELF],
+   [AC_REQUIRE([_LT_AC_CHECK_DLFCN])dnl
+   if test "$cross_compiling" = yes; then :
+ ***************
+ *** 849,865 ****
+         else if (dlsym( self,"_fnord")) status = $lt_dlneed_uscore;
+         /* dlclose (self); */
+       }
+   
+       exit (status);
+   }]
+   EOF
+     if AC_TRY_EVAL(ac_link) && test -s conftest${ac_exeext} 2>/dev/null; then
+ !     (./conftest; exit; ) 2>/dev/null
+       lt_status=$?
+       case x$lt_status in
+         x$lt_dlno_uscore) $1 ;;
+         x$lt_dlneed_uscore) $2 ;;
+ !       x$lt_unknown|x*) $3 ;;
+       esac
+     else :
+       # compilation failed
+ --- 886,904 ----
+         else if (dlsym( self,"_fnord")) status = $lt_dlneed_uscore;
+         /* dlclose (self); */
+       }
+ +   else
+ +     puts (dlerror ());
+   
+       exit (status);
+   }]
+   EOF
+     if AC_TRY_EVAL(ac_link) && test -s conftest${ac_exeext} 2>/dev/null; then
+ !     (./conftest; exit; ) >&AS_MESSAGE_LOG_FD 2>/dev/null
+       lt_status=$?
+       case x$lt_status in
+         x$lt_dlno_uscore) $1 ;;
+         x$lt_dlneed_uscore) $2 ;;
+ !       x$lt_dlunknown|x*) $3 ;;
+       esac
+     else :
+       # compilation failed
+ ***************
+ *** 871,877 ****
+   
+   
+   # AC_LIBTOOL_DLOPEN_SELF
+ ! # -------------------
+   AC_DEFUN([AC_LIBTOOL_DLOPEN_SELF],
+   [AC_REQUIRE([_LT_AC_CHECK_DLFCN])dnl
+   if test "x$enable_dlopen" != xyes; then
+ --- 910,916 ----
+   
+   
+   # AC_LIBTOOL_DLOPEN_SELF
+ ! # ----------------------
+   AC_DEFUN([AC_LIBTOOL_DLOPEN_SELF],
+   [AC_REQUIRE([_LT_AC_CHECK_DLFCN])dnl
+   if test "x$enable_dlopen" != xyes; then
+ ***************
+ *** 942,948 ****
+       test "x$ac_cv_header_dlfcn_h" = xyes && CPPFLAGS="$CPPFLAGS -DHAVE_DLFCN_H"
+   
+       save_LDFLAGS="$LDFLAGS"
+ !     eval LDFLAGS=\"\$LDFLAGS $export_dynamic_flag_spec\"
+   
+       save_LIBS="$LIBS"
+       LIBS="$lt_cv_dlopen_libs $LIBS"
+ --- 981,987 ----
+       test "x$ac_cv_header_dlfcn_h" = xyes && CPPFLAGS="$CPPFLAGS -DHAVE_DLFCN_H"
+   
+       save_LDFLAGS="$LDFLAGS"
+ !     wl=$lt_prog_compiler_wl eval LDFLAGS=\"\$LDFLAGS $export_dynamic_flag_spec\"
+   
+       save_LIBS="$LIBS"
+       LIBS="$lt_cv_dlopen_libs $LIBS"
+ ***************
+ *** 955,961 ****
+       ])
+   
+       if test "x$lt_cv_dlopen_self" = xyes; then
+ !       LDFLAGS="$LDFLAGS $link_static_flag"
+         AC_CACHE_CHECK([whether a statically linked program can dlopen itself],
+       	  lt_cv_dlopen_self_static, [dnl
+   	  _LT_AC_TRY_DLOPEN_SELF(
+ --- 994,1000 ----
+       ])
+   
+       if test "x$lt_cv_dlopen_self" = xyes; then
+ !       wl=$lt_prog_compiler_wl eval LDFLAGS=\"\$LDFLAGS $lt_prog_compiler_static\"
+         AC_CACHE_CHECK([whether a statically linked program can dlopen itself],
+       	  lt_cv_dlopen_self_static, [dnl
+   	  _LT_AC_TRY_DLOPEN_SELF(
+ ***************
+ *** 1003,1009 ****
+      # Note that $ac_compile itself does not contain backslashes and begins
+      # with a dollar sign (not a hyphen), so the echo should work correctly.
+      lt_compile=`echo "$ac_compile" | $SED \
+ !    -e 's:.*FLAGS}? :&$lt_compiler_flag :; t' \
+      -e 's: [[^ ]]*conftest\.: $lt_compiler_flag&:; t' \
+      -e 's:$: $lt_compiler_flag:'`
+      (eval echo "\"\$as_me:__oline__: $lt_compile\"" >&AS_MESSAGE_LOG_FD)
+ --- 1042,1048 ----
+      # Note that $ac_compile itself does not contain backslashes and begins
+      # with a dollar sign (not a hyphen), so the echo should work correctly.
+      lt_compile=`echo "$ac_compile" | $SED \
+ !    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
+      -e 's: [[^ ]]*conftest\.: $lt_compiler_flag&:; t' \
+      -e 's:$: $lt_compiler_flag:'`
+      (eval echo "\"\$as_me:__oline__: $lt_compile\"" >&AS_MESSAGE_LOG_FD)
+ ***************
+ *** 1015,1027 ****
+      then
+        # The compiler can only warn and ignore the option if not recognized
+        # So say no if there are warnings
+ !      $echo "X$_lt_compiler_boilerplate" | $Xsed > out/conftest.exp
+ !      $SED '/^$/d' out/conftest.err >out/conftest.er2
+ !      if test ! -s out/conftest.err || diff out/conftest.exp out/conftest.er2 >/dev/null; then
+          _LT_AC_TAGVAR(lt_cv_prog_compiler_c_o, $1)=yes
+        fi
+      fi
+ !    chmod u+w .
+      $rm conftest*
+      # SGI C++ compiler will create directory out/ii_files/ for
+      # template instantiation
+ --- 1054,1066 ----
+      then
+        # The compiler can only warn and ignore the option if not recognized
+        # So say no if there are warnings
+ !      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
+ !      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
+ !      if test ! -s out/conftest.er2 || diff out/conftest.exp out/conftest.er2 >/dev/null; then
+          _LT_AC_TAGVAR(lt_cv_prog_compiler_c_o, $1)=yes
+        fi
+      fi
+ !    chmod u+w . 2>&AS_MESSAGE_LOG_FD
+      $rm conftest*
+      # SGI C++ compiler will create directory out/ii_files/ for
+      # template instantiation
+ ***************
+ *** 1281,1287 ****
+         dlpath=`$SHELL 2>&1 -c '\''. $dir/'\''\${base_file}'\''i;echo \$dlname'\''`~
+         dldir=$destdir/`dirname \$dlpath`~
+         test -d \$dldir || mkdir -p \$dldir~
+ !       $install_prog $dir/$dlname \$dldir/$dlname'
+       postuninstall_cmds='dldll=`$SHELL 2>&1 -c '\''. $file; echo \$dlname'\''`~
+         dlpath=$dir/\$dldll~
+          $rm \$dlpath'
+ --- 1320,1327 ----
+         dlpath=`$SHELL 2>&1 -c '\''. $dir/'\''\${base_file}'\''i;echo \$dlname'\''`~
+         dldir=$destdir/`dirname \$dlpath`~
+         test -d \$dldir || mkdir -p \$dldir~
+ !       $install_prog $dir/$dlname \$dldir/$dlname~
+ !       chmod a+x \$dldir/$dlname'
+       postuninstall_cmds='dldll=`$SHELL 2>&1 -c '\''. $file; echo \$dlname'\''`~
+         dlpath=$dir/\$dldll~
+          $rm \$dlpath'
+ ***************
+ *** 1334,1340 ****
+     soname_spec='${libname}${release}${major}$shared_ext'
+     shlibpath_overrides_runpath=yes
+     shlibpath_var=DYLD_LIBRARY_PATH
+ !   shrext_cmds='$(test .$module = .yes && echo .so || echo .dylib)'
+     # Apple's gcc prints 'gcc -print-search-dirs' doesn't operate the same.
+     if test "$GCC" = yes; then
+       sys_lib_search_path_spec=`$CC -print-search-dirs | tr "\n" "$PATH_SEPARATOR" | sed -e 's/libraries:/@libraries:/' | tr "@" "\n" | grep "^libraries:" | sed -e "s/^libraries://" -e "s,=/,/,g" -e "s,$PATH_SEPARATOR, ,g" -e "s,.*,& /lib /usr/lib /usr/local/lib,g"`
+ --- 1374,1380 ----
+     soname_spec='${libname}${release}${major}$shared_ext'
+     shlibpath_overrides_runpath=yes
+     shlibpath_var=DYLD_LIBRARY_PATH
+ !   shrext_cmds='`test .$module = .yes && echo .so || echo .dylib`'
+     # Apple's gcc prints 'gcc -print-search-dirs' doesn't operate the same.
+     if test "$GCC" = yes; then
+       sys_lib_search_path_spec=`$CC -print-search-dirs | tr "\n" "$PATH_SEPARATOR" | sed -e 's/libraries:/@libraries:/' | tr "@" "\n" | grep "^libraries:" | sed -e "s/^libraries://" -e "s,=/,/,g" -e "s,$PATH_SEPARATOR, ,g" -e "s,.*,& /lib /usr/lib /usr/local/lib,g"`
+ ***************
+ *** 1372,1378 ****
+   freebsd* | dragonfly*)
+     # DragonFly does not have aout.  When/if they implement a new
+     # versioning mechanism, adjust this.
+ !   objformat=`test -x /usr/bin/objformat && /usr/bin/objformat || echo aout`
+     version_type=freebsd-$objformat
+     case $version_type in
+       freebsd-elf*)
+ --- 1412,1425 ----
+   freebsd* | dragonfly*)
+     # DragonFly does not have aout.  When/if they implement a new
+     # versioning mechanism, adjust this.
+ !   if test -x /usr/bin/objformat; then
+ !     objformat=`/usr/bin/objformat`
+ !   else
+ !     case $host_os in
+ !     freebsd[[123]]*) objformat=aout ;;
+ !     *) objformat=elf ;;
+ !     esac
+ !   fi
+     version_type=freebsd-$objformat
+     case $version_type in
+       freebsd-elf*)
+ ***************
+ *** 1394,1403 ****
+       shlibpath_overrides_runpath=yes
+       hardcode_into_libs=yes
+       ;;
+ !   *) # from 3.2 on
+       shlibpath_overrides_runpath=no
+       hardcode_into_libs=yes
+       ;;
+     esac
+     ;;
+   
+ --- 1441,1455 ----
+       shlibpath_overrides_runpath=yes
+       hardcode_into_libs=yes
+       ;;
+ !   freebsd3.[[2-9]]* | freebsdelf3.[[2-9]]* | \
+ !   freebsd4.[[0-5]] | freebsdelf4.[[0-5]] | freebsd4.1.1 | freebsdelf4.1.1)
+       shlibpath_overrides_runpath=no
+       hardcode_into_libs=yes
+       ;;
+ +   freebsd*) # from 4.6 on
+ +     shlibpath_overrides_runpath=yes
+ +     hardcode_into_libs=yes
+ +     ;;
+     esac
+     ;;
+   
+ ***************
+ *** 1417,1423 ****
+     version_type=sunos
+     need_lib_prefix=no
+     need_version=no
+ !   case "$host_cpu" in
+     ia64*)
+       shrext_cmds='.so'
+       hardcode_into_libs=yes
+ --- 1469,1475 ----
+     version_type=sunos
+     need_lib_prefix=no
+     need_version=no
+ !   case $host_cpu in
+     ia64*)
+       shrext_cmds='.so'
+       hardcode_into_libs=yes
+ ***************
+ *** 1457,1462 ****
+ --- 1509,1526 ----
+     postinstall_cmds='chmod 555 $lib'
+     ;;
+   
+ + interix3*)
+ +   version_type=linux
+ +   need_lib_prefix=no
+ +   need_version=no
+ +   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major ${libname}${shared_ext}'
+ +   soname_spec='${libname}${release}${shared_ext}$major'
+ +   dynamic_linker='Interix 3.x ld.so.1 (PE, like ELF)'
+ +   shlibpath_var=LD_LIBRARY_PATH
+ +   shlibpath_overrides_runpath=no
+ +   hardcode_into_libs=yes
+ +   ;;
+ + 
+   irix5* | irix6* | nonstopux*)
+     case $host_os in
+       nonstopux*) version_type=nonstopux ;;
+ ***************
+ *** 1533,1539 ****
+   
+     # Append ld.so.conf contents to the search path
+     if test -f /etc/ld.so.conf; then
+ !     lt_ld_extra=`awk '/^include / { system(sprintf("cd /etc; cat %s", \[$]2)); skip = 1; } { if (!skip) print \[$]0; skip = 0; }' < /etc/ld.so.conf | $SED -e 's/#.*//;s/[:,\t]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;/^$/d' | tr '\n' ' '`
+       sys_lib_dlsearch_path_spec="/lib${libsuff} /usr/lib${libsuff} $lt_ld_extra"
+     fi
+   
+ --- 1597,1603 ----
+   
+     # Append ld.so.conf contents to the search path
+     if test -f /etc/ld.so.conf; then
+ !     lt_ld_extra=`awk '/^include / { system(sprintf("cd /etc; cat %s 2>/dev/null", \[$]2)); skip = 1; } { if (!skip) print \[$]0; skip = 0; }' < /etc/ld.so.conf | $SED -e 's/#.*//;s/[:,	]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;/^$/d' | tr '\n' ' '`
+       sys_lib_dlsearch_path_spec="/lib${libsuff} /usr/lib${libsuff} $lt_ld_extra"
+     fi
+   
+ ***************
+ *** 1595,1602 ****
+   
+   openbsd*)
+     version_type=sunos
+     need_lib_prefix=no
+ !   need_version=no
+     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'
+     finish_cmds='PATH="\$PATH:/sbin" ldconfig -m $libdir'
+     shlibpath_var=LD_LIBRARY_PATH
+ --- 1659,1671 ----
+   
+   openbsd*)
+     version_type=sunos
+ +   sys_lib_dlsearch_path_spec="/usr/lib"
+     need_lib_prefix=no
+ !   # Some older versions of OpenBSD (3.3 at least) *do* need versioned libs.
+ !   case $host_os in
+ !     openbsd3.3 | openbsd3.3.*) need_version=yes ;;
+ !     *)                         need_version=no  ;;
+ !   esac
+     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'
+     finish_cmds='PATH="\$PATH:/sbin" ldconfig -m $libdir'
+     shlibpath_var=LD_LIBRARY_PATH
+ ***************
+ *** 1634,1646 ****
+     sys_lib_dlsearch_path_spec="$sys_lib_search_path_spec"
+     ;;
+   
+ - sco3.2v5*)
+ -   version_type=osf
+ -   soname_spec='${libname}${release}${shared_ext}$major'
+ -   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+ -   shlibpath_var=LD_LIBRARY_PATH
+ -   ;;
+ - 
+   solaris*)
+     version_type=linux
+     need_lib_prefix=no
+ --- 1703,1708 ----
+ ***************
+ *** 1666,1672 ****
+     need_version=yes
+     ;;
+   
+ ! sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)
+     version_type=linux
+     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+     soname_spec='${libname}${release}${shared_ext}$major'
+ --- 1728,1734 ----
+     need_version=yes
+     ;;
+   
+ ! sysv4 | sysv4.3*)
+     version_type=linux
+     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+     soname_spec='${libname}${release}${shared_ext}$major'
+ ***************
+ *** 1699,1704 ****
+ --- 1761,1789 ----
+     fi
+     ;;
+   
+ + sysv5* | sco3.2v5* | sco5v6* | unixware* | OpenUNIX* | sysv4*uw2*)
+ +   version_type=freebsd-elf
+ +   need_lib_prefix=no
+ +   need_version=no
+ +   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext} $libname${shared_ext}'
+ +   soname_spec='${libname}${release}${shared_ext}$major'
+ +   shlibpath_var=LD_LIBRARY_PATH
+ +   hardcode_into_libs=yes
+ +   if test "$with_gnu_ld" = yes; then
+ +     sys_lib_search_path_spec='/usr/local/lib /usr/gnu/lib /usr/ccs/lib /usr/lib /lib'
+ +     shlibpath_overrides_runpath=no
+ +   else
+ +     sys_lib_search_path_spec='/usr/ccs/lib /usr/lib'
+ +     shlibpath_overrides_runpath=yes
+ +     case $host_os in
+ +       sco3.2v5*)
+ +         sys_lib_search_path_spec="$sys_lib_search_path_spec /lib"
+ + 	;;
+ +     esac
+ +   fi
+ +   sys_lib_dlsearch_path_spec='/usr/lib'
+ +   ;;
+ + 
+   uts4*)
+     version_type=linux
+     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+ ***************
+ *** 1712,1717 ****
+ --- 1797,1807 ----
+   esac
+   AC_MSG_RESULT([$dynamic_linker])
+   test "$dynamic_linker" = no && can_build_shared=no
+ + 
+ + variables_saved_for_relink="PATH $shlibpath_var $runpath_var"
+ + if test "$GCC" = yes; then
+ +   variables_saved_for_relink="$variables_saved_for_relink GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH"
+ + fi
+   ])# AC_LIBTOOL_SYS_DYNAMIC_LINKER
+   
+   
+ ***************
+ *** 1736,1741 ****
+ --- 1826,1834 ----
+         AC_MSG_WARN([using `LTCC=$LTCC', extracted from `$ofile'])
+       fi
+     fi
+ +   if test -z "$LTCFLAGS"; then
+ +     eval "`$SHELL ${ofile} --config | grep '^LTCFLAGS='`"
+ +   fi
+   
+     # Extract list of available tagged configurations in $ofile.
+     # Note that this assumes the entire list is on one line.
+ ***************
+ *** 1826,1832 ****
+   
+   # AC_LIBTOOL_WIN32_DLL
+   # --------------------
+ ! # declare package support for building win32 dll's
+   AC_DEFUN([AC_LIBTOOL_WIN32_DLL],
+   [AC_BEFORE([$0], [AC_LIBTOOL_SETUP])
+   ])# AC_LIBTOOL_WIN32_DLL
+ --- 1919,1925 ----
+   
+   # AC_LIBTOOL_WIN32_DLL
+   # --------------------
+ ! # declare package support for building win32 DLLs
+   AC_DEFUN([AC_LIBTOOL_WIN32_DLL],
+   [AC_BEFORE([$0], [AC_LIBTOOL_SETUP])
+   ])# AC_LIBTOOL_WIN32_DLL
+ ***************
+ *** 1864,1870 ****
+   
+   # AC_DISABLE_SHARED
+   # -----------------
+ ! #- set the default shared flag to --disable-shared
+   AC_DEFUN([AC_DISABLE_SHARED],
+   [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl
+   AC_ENABLE_SHARED(no)
+ --- 1957,1963 ----
+   
+   # AC_DISABLE_SHARED
+   # -----------------
+ ! # set the default shared flag to --disable-shared
+   AC_DEFUN([AC_DISABLE_SHARED],
+   [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl
+   AC_ENABLE_SHARED(no)
+ ***************
+ *** 2000,2006 ****
+         if test -n "$file_magic_test_file"; then
+   	case $deplibs_check_method in
+   	"file_magic "*)
+ ! 	  file_magic_regex="`expr \"$deplibs_check_method\" : \"file_magic \(.*\)\"`"
+   	  MAGIC_CMD="$lt_cv_path_MAGIC_CMD"
+   	  if eval $file_magic_cmd \$file_magic_test_file 2> /dev/null |
+   	    $EGREP "$file_magic_regex" > /dev/null; then
+ --- 2093,2099 ----
+         if test -n "$file_magic_test_file"; then
+   	case $deplibs_check_method in
+   	"file_magic "*)
+ ! 	  file_magic_regex=`expr "$deplibs_check_method" : "file_magic \(.*\)"`
+   	  MAGIC_CMD="$lt_cv_path_MAGIC_CMD"
+   	  if eval $file_magic_cmd \$file_magic_test_file 2> /dev/null |
+   	    $EGREP "$file_magic_regex" > /dev/null; then
+ ***************
+ *** 2110,2116 ****
+       if test -f "$ac_dir/$ac_prog" || test -f "$ac_dir/$ac_prog$ac_exeext"; then
+         lt_cv_path_LD="$ac_dir/$ac_prog"
+         # Check to see if the program is GNU ld.  I'd rather use --version,
+ !       # but apparently some GNU ld's only accept -v.
+         # Break only if it was the GNU/non-GNU ld that we prefer.
+         case `"$lt_cv_path_LD" -v 2>&1 </dev/null` in
+         *GNU* | *'with BFD'*)
+ --- 2203,2209 ----
+       if test -f "$ac_dir/$ac_prog" || test -f "$ac_dir/$ac_prog$ac_exeext"; then
+         lt_cv_path_LD="$ac_dir/$ac_prog"
+         # Check to see if the program is GNU ld.  I'd rather use --version,
+ !       # but apparently some variants of GNU ld only accept -v.
+         # Break only if it was the GNU/non-GNU ld that we prefer.
+         case `"$lt_cv_path_LD" -v 2>&1 </dev/null` in
+         *GNU* | *'with BFD'*)
+ ***************
+ *** 2142,2148 ****
+   AC_DEFUN([AC_PROG_LD_GNU],
+   [AC_REQUIRE([AC_PROG_EGREP])dnl
+   AC_CACHE_CHECK([if the linker ($LD) is GNU ld], lt_cv_prog_gnu_ld,
+ ! [# I'd rather use --version here, but apparently some GNU ld's only accept -v.
+   case `$LD -v 2>&1 </dev/null` in
+   *GNU* | *'with BFD'*)
+     lt_cv_prog_gnu_ld=yes
+ --- 2235,2241 ----
+   AC_DEFUN([AC_PROG_LD_GNU],
+   [AC_REQUIRE([AC_PROG_EGREP])dnl
+   AC_CACHE_CHECK([if the linker ($LD) is GNU ld], lt_cv_prog_gnu_ld,
+ ! [# I'd rather use --version here, but apparently some GNU lds only accept -v.
+   case `$LD -v 2>&1 </dev/null` in
+   *GNU* | *'with BFD'*)
+     lt_cv_prog_gnu_ld=yes
+ ***************
+ *** 2172,2178 ****
+   case $host_os in
+     darwin*)
+       if test "$GCC" = yes; then
+ !       reload_cmds='$CC -nostdlib ${wl}-r -o $output$reload_objs'
+       else
+         reload_cmds='$LD$reload_flag -o $output$reload_objs'
+       fi
+ --- 2265,2271 ----
+   case $host_os in
+     darwin*)
+       if test "$GCC" = yes; then
+ !       reload_cmds='$LTCC $LTCFLAGS -nostdlib ${wl}-r -o $output$reload_objs'
+       else
+         reload_cmds='$LD$reload_flag -o $output$reload_objs'
+       fi
+ ***************
+ *** 2256,2262 ****
+   
+   hpux10.20* | hpux11*)
+     lt_cv_file_magic_cmd=/usr/bin/file
+ !   case "$host_cpu" in
+     ia64*)
+       lt_cv_deplibs_check_method='file_magic (s[[0-9]][[0-9]][[0-9]]|ELF-[[0-9]][[0-9]]) shared object file - IA64'
+       lt_cv_file_magic_test_file=/usr/lib/hpux32/libc.so
+ --- 2349,2355 ----
+   
+   hpux10.20* | hpux11*)
+     lt_cv_file_magic_cmd=/usr/bin/file
+ !   case $host_cpu in
+     ia64*)
+       lt_cv_deplibs_check_method='file_magic (s[[0-9]][[0-9]][[0-9]]|ELF-[[0-9]][[0-9]]) shared object file - IA64'
+       lt_cv_file_magic_test_file=/usr/lib/hpux32/libc.so
+ ***************
+ *** 2272,2277 ****
+ --- 2365,2375 ----
+     esac
+     ;;
+   
+ + interix3*)
+ +   # PIC code is broken on Interix 3.x, that's why |\.a not |_pic\.a here
+ +   lt_cv_deplibs_check_method='match_pattern /lib[[^/]]+(\.so|\.a)$'
+ +   ;;
+ + 
+   irix5* | irix6* | nonstopux*)
+     case $LD in
+     *-32|*"-32 ") libmagic=32-bit;;
+ ***************
+ *** 2317,2331 ****
+     lt_cv_deplibs_check_method=pass_all
+     ;;
+   
+ - sco3.2v5*)
+ -   lt_cv_deplibs_check_method=pass_all
+ -   ;;
+ - 
+   solaris*)
+     lt_cv_deplibs_check_method=pass_all
+     ;;
+   
+ ! sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)
+     case $host_vendor in
+     motorola)
+       lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[ML]]SB (shared object|dynamic lib) M[[0-9]][[0-9]]* Version [[0-9]]'
+ --- 2415,2425 ----
+     lt_cv_deplibs_check_method=pass_all
+     ;;
+   
+   solaris*)
+     lt_cv_deplibs_check_method=pass_all
+     ;;
+   
+ ! sysv4 | sysv4.3*)
+     case $host_vendor in
+     motorola)
+       lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[ML]]SB (shared object|dynamic lib) M[[0-9]][[0-9]]* Version [[0-9]]'
+ ***************
+ *** 2346,2355 ****
+     siemens)
+       lt_cv_deplibs_check_method=pass_all
+       ;;
+     esac
+     ;;
+   
+ ! sysv5OpenUNIX8* | sysv5UnixWare7* | sysv5uw[[78]]* | unixware7* | sysv4*uw2*)
+     lt_cv_deplibs_check_method=pass_all
+     ;;
+   esac
+ --- 2440,2452 ----
+     siemens)
+       lt_cv_deplibs_check_method=pass_all
+       ;;
+ +   pc)
+ +     lt_cv_deplibs_check_method=pass_all
+ +     ;;
+     esac
+     ;;
+   
+ ! sysv5* | sco3.2v5* | sco5v6* | unixware* | OpenUNIX* | sysv4*uw2*)
+     lt_cv_deplibs_check_method=pass_all
+     ;;
+   esac
+ ***************
+ *** 2369,2404 ****
+     # Let the user override the test.
+     lt_cv_path_NM="$NM"
+   else
+ !   lt_save_ifs="$IFS"; IFS=$PATH_SEPARATOR
+ !   for ac_dir in $PATH /usr/ccs/bin /usr/ucb /bin; do
+ !     IFS="$lt_save_ifs"
+ !     test -z "$ac_dir" && ac_dir=.
+ !     tmp_nm="$ac_dir/${ac_tool_prefix}nm"
+ !     if test -f "$tmp_nm" || test -f "$tmp_nm$ac_exeext" ; then
+ !       # Check to see if the nm accepts a BSD-compat flag.
+ !       # Adding the `sed 1q' prevents false positives on HP-UX, which says:
+ !       #   nm: unknown option "B" ignored
+ !       # Tru64's nm complains that /dev/null is an invalid object file
+ !       case `"$tmp_nm" -B /dev/null 2>&1 | sed '1q'` in
+ !       */dev/null* | *'Invalid file or object type'*)
+ ! 	lt_cv_path_NM="$tmp_nm -B"
+ ! 	break
+ !         ;;
+ !       *)
+ ! 	case `"$tmp_nm" -p /dev/null 2>&1 | sed '1q'` in
+ ! 	*/dev/null*)
+ ! 	  lt_cv_path_NM="$tmp_nm -p"
+   	  break
+   	  ;;
+   	*)
+ ! 	  lt_cv_path_NM=${lt_cv_path_NM="$tmp_nm"} # keep the first match, but
+ ! 	  continue # so that we can try to find one that supports BSD flags
+   	  ;;
+   	esac
+ !       esac
+ !     fi
+     done
+ -   IFS="$lt_save_ifs"
+     test -z "$lt_cv_path_NM" && lt_cv_path_NM=nm
+   fi])
+   NM="$lt_cv_path_NM"
+ --- 2466,2508 ----
+     # Let the user override the test.
+     lt_cv_path_NM="$NM"
+   else
+ !   lt_nm_to_check="${ac_tool_prefix}nm"
+ !   if test -n "$ac_tool_prefix" && test "$build" = "$host"; then 
+ !     lt_nm_to_check="$lt_nm_to_check nm"
+ !   fi
+ !   for lt_tmp_nm in $lt_nm_to_check; do
+ !     lt_save_ifs="$IFS"; IFS=$PATH_SEPARATOR
+ !     for ac_dir in $PATH /usr/ccs/bin/elf /usr/ccs/bin /usr/ucb /bin; do
+ !       IFS="$lt_save_ifs"
+ !       test -z "$ac_dir" && ac_dir=.
+ !       tmp_nm="$ac_dir/$lt_tmp_nm"
+ !       if test -f "$tmp_nm" || test -f "$tmp_nm$ac_exeext" ; then
+ ! 	# Check to see if the nm accepts a BSD-compat flag.
+ ! 	# Adding the `sed 1q' prevents false positives on HP-UX, which says:
+ ! 	#   nm: unknown option "B" ignored
+ ! 	# Tru64's nm complains that /dev/null is an invalid object file
+ ! 	case `"$tmp_nm" -B /dev/null 2>&1 | sed '1q'` in
+ ! 	*/dev/null* | *'Invalid file or object type'*)
+ ! 	  lt_cv_path_NM="$tmp_nm -B"
+   	  break
+   	  ;;
+   	*)
+ ! 	  case `"$tmp_nm" -p /dev/null 2>&1 | sed '1q'` in
+ ! 	  */dev/null*)
+ ! 	    lt_cv_path_NM="$tmp_nm -p"
+ ! 	    break
+ ! 	    ;;
+ ! 	  *)
+ ! 	    lt_cv_path_NM=${lt_cv_path_NM="$tmp_nm"} # keep the first match, but
+ ! 	    continue # so that we can try to find one that supports BSD flags
+ ! 	    ;;
+ ! 	  esac
+   	  ;;
+   	esac
+ !       fi
+ !     done
+ !     IFS="$lt_save_ifs"
+     done
+     test -z "$lt_cv_path_NM" && lt_cv_path_NM=nm
+   fi])
+   NM="$lt_cv_path_NM"
+ ***************
+ *** 2430,2442 ****
+   # -----------------------------------
+   # sets LIBLTDL to the link flags for the libltdl convenience library and
+   # LTDLINCL to the include flags for the libltdl header and adds
+ ! # --enable-ltdl-convenience to the configure arguments.  Note that LIBLTDL
+ ! # and LTDLINCL are not AC_SUBSTed, nor is AC_CONFIG_SUBDIRS called.  If
+ ! # DIRECTORY is not provided, it is assumed to be `libltdl'.  LIBLTDL will
+ ! # be prefixed with '${top_builddir}/' and LTDLINCL will be prefixed with
+ ! # '${top_srcdir}/' (note the single quotes!).  If your package is not
+ ! # flat and you're not using automake, define top_builddir and
+ ! # top_srcdir appropriately in the Makefiles.
+   AC_DEFUN([AC_LIBLTDL_CONVENIENCE],
+   [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl
+     case $enable_ltdl_convenience in
+ --- 2534,2546 ----
+   # -----------------------------------
+   # sets LIBLTDL to the link flags for the libltdl convenience library and
+   # LTDLINCL to the include flags for the libltdl header and adds
+ ! # --enable-ltdl-convenience to the configure arguments.  Note that
+ ! # AC_CONFIG_SUBDIRS is not called here.  If DIRECTORY is not provided,
+ ! # it is assumed to be `libltdl'.  LIBLTDL will be prefixed with
+ ! # '${top_builddir}/' and LTDLINCL will be prefixed with '${top_srcdir}/'
+ ! # (note the single quotes!).  If your package is not flat and you're not
+ ! # using automake, define top_builddir and top_srcdir appropriately in
+ ! # the Makefiles.
+   AC_DEFUN([AC_LIBLTDL_CONVENIENCE],
+   [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl
+     case $enable_ltdl_convenience in
+ ***************
+ *** 2455,2467 ****
+   # -----------------------------------
+   # sets LIBLTDL to the link flags for the libltdl installable library and
+   # LTDLINCL to the include flags for the libltdl header and adds
+ ! # --enable-ltdl-install to the configure arguments.  Note that LIBLTDL
+ ! # and LTDLINCL are not AC_SUBSTed, nor is AC_CONFIG_SUBDIRS called.  If
+ ! # DIRECTORY is not provided and an installed libltdl is not found, it is
+ ! # assumed to be `libltdl'.  LIBLTDL will be prefixed with '${top_builddir}/'
+ ! # and LTDLINCL will be prefixed with '${top_srcdir}/' (note the single
+ ! # quotes!).  If your package is not flat and you're not using automake,
+ ! # define top_builddir and top_srcdir appropriately in the Makefiles.
+   # In the future, this macro may have to be called after AC_PROG_LIBTOOL.
+   AC_DEFUN([AC_LIBLTDL_INSTALLABLE],
+   [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl
+ --- 2559,2571 ----
+   # -----------------------------------
+   # sets LIBLTDL to the link flags for the libltdl installable library and
+   # LTDLINCL to the include flags for the libltdl header and adds
+ ! # --enable-ltdl-install to the configure arguments.  Note that
+ ! # AC_CONFIG_SUBDIRS is not called here.  If DIRECTORY is not provided,
+ ! # and an installed libltdl is not found, it is assumed to be `libltdl'.
+ ! # LIBLTDL will be prefixed with '${top_builddir}/'# and LTDLINCL with
+ ! # '${top_srcdir}/' (note the single quotes!).  If your package is not
+ ! # flat and you're not using automake, define top_builddir and top_srcdir
+ ! # appropriately in the Makefiles.
+   # In the future, this macro may have to be called after AC_PROG_LIBTOOL.
+   AC_DEFUN([AC_LIBLTDL_INSTALLABLE],
+   [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl
+ ***************
+ *** 2504,2510 ****
+   ])# _LT_AC_LANG_CXX
+   
+   # _LT_AC_PROG_CXXCPP
+ ! # ---------------
+   AC_DEFUN([_LT_AC_PROG_CXXCPP],
+   [
+   AC_REQUIRE([AC_PROG_CXX])
+ --- 2608,2614 ----
+   ])# _LT_AC_LANG_CXX
+   
+   # _LT_AC_PROG_CXXCPP
+ ! # ------------------
+   AC_DEFUN([_LT_AC_PROG_CXXCPP],
+   [
+   AC_REQUIRE([AC_PROG_CXX])
+ ***************
+ *** 2553,2559 ****
+   
+   
+   # AC_LIBTOOL_RC
+ ! # --------------
+   # enable support for Windows resource files
+   AC_DEFUN([AC_LIBTOOL_RC],
+   [AC_REQUIRE([LT_AC_PROG_RC])
+ --- 2657,2663 ----
+   
+   
+   # AC_LIBTOOL_RC
+ ! # -------------
+   # enable support for Windows resource files
+   AC_DEFUN([AC_LIBTOOL_RC],
+   [AC_REQUIRE([LT_AC_PROG_RC])
+ ***************
+ *** 2590,2626 ****
+   _LT_COMPILER_BOILERPLATE
+   _LT_LINKER_BOILERPLATE
+   
+ - #
+ - # Check for any special shared library compilation flags.
+ - #
+ - _LT_AC_TAGVAR(lt_prog_cc_shlib, $1)=
+ - if test "$GCC" = no; then
+ -   case $host_os in
+ -   sco3.2v5*)
+ -     _LT_AC_TAGVAR(lt_prog_cc_shlib, $1)='-belf'
+ -     ;;
+ -   esac
+ - fi
+ - if test -n "$_LT_AC_TAGVAR(lt_prog_cc_shlib, $1)"; then
+ -   AC_MSG_WARN([`$CC' requires `$_LT_AC_TAGVAR(lt_prog_cc_shlib, $1)' to build shared libraries])
+ -   if echo "$old_CC $old_CFLAGS " | grep "[[ 	]]$_LT_AC_TAGVAR(lt_prog_cc_shlib, $1)[[ 	]]" >/dev/null; then :
+ -   else
+ -     AC_MSG_WARN([add `$_LT_AC_TAGVAR(lt_prog_cc_shlib, $1)' to the CC or CFLAGS env variable and reconfigure])
+ -     _LT_AC_TAGVAR(lt_cv_prog_cc_can_build_shared, $1)=no
+ -   fi
+ - fi
+ - 
+ - 
+ - #
+ - # Check to make sure the static flag actually works.
+ - #
+ - AC_LIBTOOL_LINKER_OPTION([if $compiler static flag $_LT_AC_TAGVAR(lt_prog_compiler_static, $1) works],
+ -   _LT_AC_TAGVAR(lt_prog_compiler_static_works, $1),
+ -   $_LT_AC_TAGVAR(lt_prog_compiler_static, $1),
+ -   [],
+ -   [_LT_AC_TAGVAR(lt_prog_compiler_static, $1)=])
+ - 
+ - 
+   AC_LIBTOOL_PROG_COMPILER_NO_RTTI($1)
+   AC_LIBTOOL_PROG_COMPILER_PIC($1)
+   AC_LIBTOOL_PROG_CC_C_O($1)
+ --- 2694,2699 ----
+ ***************
+ *** 2629,2637 ****
+   AC_LIBTOOL_SYS_DYNAMIC_LINKER($1)
+   AC_LIBTOOL_PROG_LD_HARDCODE_LIBPATH($1)
+   AC_LIBTOOL_SYS_LIB_STRIP
+ ! AC_LIBTOOL_DLOPEN_SELF($1)
+   
+ ! # Report which librarie types wil actually be built
+   AC_MSG_CHECKING([if libtool supports shared libraries])
+   AC_MSG_RESULT([$can_build_shared])
+   
+ --- 2702,2710 ----
+   AC_LIBTOOL_SYS_DYNAMIC_LINKER($1)
+   AC_LIBTOOL_PROG_LD_HARDCODE_LIBPATH($1)
+   AC_LIBTOOL_SYS_LIB_STRIP
+ ! AC_LIBTOOL_DLOPEN_SELF
+   
+ ! # Report which library types will actually be built
+   AC_MSG_CHECKING([if libtool supports shared libraries])
+   AC_MSG_RESULT([$can_build_shared])
+   
+ ***************
+ *** 2640,2646 ****
+   
+   # On AIX, shared libraries and static libraries use the same namespace, and
+   # are all built from PIC.
+ ! case "$host_os" in
+   aix3*)
+     test "$enable_shared" = yes && enable_static=no
+     if test -n "$RANLIB"; then
+ --- 2713,2719 ----
+   
+   # On AIX, shared libraries and static libraries use the same namespace, and
+   # are all built from PIC.
+ ! case $host_os in
+   aix3*)
+     test "$enable_shared" = yes && enable_static=no
+     if test -n "$RANLIB"; then
+ ***************
+ *** 2690,2695 ****
+ --- 2763,2769 ----
+   _LT_AC_TAGVAR(hardcode_libdir_flag_spec_ld, $1)=
+   _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=
+   _LT_AC_TAGVAR(hardcode_minus_L, $1)=no
+ + _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=unsupported
+   _LT_AC_TAGVAR(hardcode_automatic, $1)=no
+   _LT_AC_TAGVAR(module_cmds, $1)=
+   _LT_AC_TAGVAR(module_expsym_cmds, $1)=
+ ***************
+ *** 2707,2713 ****
+   _LT_AC_TAGVAR(compiler_lib_search_path, $1)=
+   
+   # Source file extension for C++ test sources.
+ ! ac_ext=cc
+   
+   # Object file extension for compiled C++ test sources.
+   objext=o
+ --- 2781,2787 ----
+   _LT_AC_TAGVAR(compiler_lib_search_path, $1)=
+   
+   # Source file extension for C++ test sources.
+ ! ac_ext=cpp
+   
+   # Object file extension for compiled C++ test sources.
+   objext=o
+ ***************
+ *** 2717,2723 ****
+   lt_simple_compile_test_code="int some_variable = 0;\n"
+   
+   # Code to be used in simple link tests
+ ! lt_simple_link_test_code='int main(int, char *[]) { return(0); }\n'
+   
+   # ltmain only uses $CC for tagged configurations so make sure $CC is set.
+   _LT_AC_SYS_COMPILER
+ --- 2791,2797 ----
+   lt_simple_compile_test_code="int some_variable = 0;\n"
+   
+   # Code to be used in simple link tests
+ ! lt_simple_link_test_code='int main(int, char *[[]]) { return(0); }\n'
+   
+   # ltmain only uses $CC for tagged configurations so make sure $CC is set.
+   _LT_AC_SYS_COMPILER
+ ***************
+ *** 2736,2747 ****
+   if test -n "${lt_cv_prog_gnu_ldcxx+set}"; then
+     lt_cv_prog_gnu_ld=$lt_cv_prog_gnu_ldcxx
+   else
+ !   unset lt_cv_prog_gnu_ld
+   fi
+   if test -n "${lt_cv_path_LDCXX+set}"; then
+     lt_cv_path_LD=$lt_cv_path_LDCXX
+   else
+ !   unset lt_cv_path_LD
+   fi
+   test -z "${LDCXX+set}" || LD=$LDCXX
+   CC=${CXX-"c++"}
+ --- 2810,2821 ----
+   if test -n "${lt_cv_prog_gnu_ldcxx+set}"; then
+     lt_cv_prog_gnu_ld=$lt_cv_prog_gnu_ldcxx
+   else
+ !   $as_unset lt_cv_prog_gnu_ld
+   fi
+   if test -n "${lt_cv_path_LDCXX+set}"; then
+     lt_cv_path_LD=$lt_cv_path_LDCXX
+   else
+ !   $as_unset lt_cv_path_LD
+   fi
+   test -z "${LDCXX+set}" || LD=$LDCXX
+   CC=${CXX-"c++"}
+ ***************
+ *** 2836,2841 ****
+ --- 2910,2916 ----
+   	    ;;
+   	  esac
+   	done
+ + 	;;
+         esac
+   
+         exp_sym_flag='-bexport'
+ ***************
+ *** 2873,2878 ****
+ --- 2948,2954 ----
+   	  _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-L$libdir'
+   	  _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=
+   	fi
+ + 	;;
+         esac
+         shared_flag='-shared'
+         if test "$aix_use_runtimelinking" = yes; then
+ ***************
+ *** 2904,2915 ****
+         _LT_AC_SYS_LIBPATH_AIX
+         _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-blibpath:$libdir:'"$aix_libpath"
+   
+ !       _LT_AC_TAGVAR(archive_expsym_cmds, $1)="\$CC"' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags `if test "x${allow_undefined_flag}" != "x"; then echo "${wl}${allow_undefined_flag}"; else :; fi` '"\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols $shared_flag"
+        else
+         if test "$host_cpu" = ia64; then
+   	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-R $libdir:/usr/lib:/lib'
+   	_LT_AC_TAGVAR(allow_undefined_flag, $1)="-z nodefs"
+ ! 	_LT_AC_TAGVAR(archive_expsym_cmds, $1)="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags ${wl}${allow_undefined_flag} '"\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols"
+         else
+   	# Determine the default libpath from the value encoded in an empty executable.
+   	_LT_AC_SYS_LIBPATH_AIX
+ --- 2980,2991 ----
+         _LT_AC_SYS_LIBPATH_AIX
+         _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-blibpath:$libdir:'"$aix_libpath"
+   
+ !       _LT_AC_TAGVAR(archive_expsym_cmds, $1)="\$CC"' -o $output_objdir/$soname $libobjs $deplibs '"\${wl}$no_entry_flag"' $compiler_flags `if test "x${allow_undefined_flag}" != "x"; then echo "${wl}${allow_undefined_flag}"; else :; fi` '"\${wl}$exp_sym_flag:\$export_symbols $shared_flag"
+        else
+         if test "$host_cpu" = ia64; then
+   	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-R $libdir:/usr/lib:/lib'
+   	_LT_AC_TAGVAR(allow_undefined_flag, $1)="-z nodefs"
+ ! 	_LT_AC_TAGVAR(archive_expsym_cmds, $1)="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs '"\${wl}$no_entry_flag"' $compiler_flags ${wl}${allow_undefined_flag} '"\${wl}$exp_sym_flag:\$export_symbols"
+         else
+   	# Determine the default libpath from the value encoded in an empty executable.
+   	_LT_AC_SYS_LIBPATH_AIX
+ ***************
+ *** 2918,2933 ****
+   	# -berok will link without error, but may produce a broken library.
+   	_LT_AC_TAGVAR(no_undefined_flag, $1)=' ${wl}-bernotok'
+   	_LT_AC_TAGVAR(allow_undefined_flag, $1)=' ${wl}-berok'
+ - 	# -bexpall does not export symbols beginning with underscore (_)
+ - 	_LT_AC_TAGVAR(always_export_symbols, $1)=yes
+   	# Exported symbols can be pulled into shared objects from archives
+ ! 	_LT_AC_TAGVAR(whole_archive_flag_spec, $1)=' '
+   	_LT_AC_TAGVAR(archive_cmds_need_lc, $1)=yes
+ ! 	# This is similar to how AIX traditionally builds it's shared libraries.
+ ! 	_LT_AC_TAGVAR(archive_expsym_cmds, $1)="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags ${wl}-bE:$export_symbols ${wl}-bnoentry${allow_undefined_flag}~$AR $AR_FLAGS $output_objdir/$libname$release.a $output_objdir/$soname'
+         fi
+       fi
+       ;;
+     chorus*)
+       case $cc_basename in
+         *)
+ --- 2994,3019 ----
+   	# -berok will link without error, but may produce a broken library.
+   	_LT_AC_TAGVAR(no_undefined_flag, $1)=' ${wl}-bernotok'
+   	_LT_AC_TAGVAR(allow_undefined_flag, $1)=' ${wl}-berok'
+   	# Exported symbols can be pulled into shared objects from archives
+ ! 	_LT_AC_TAGVAR(whole_archive_flag_spec, $1)='$convenience'
+   	_LT_AC_TAGVAR(archive_cmds_need_lc, $1)=yes
+ ! 	# This is similar to how AIX traditionally builds its shared libraries.
+ ! 	_LT_AC_TAGVAR(archive_expsym_cmds, $1)="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs ${wl}-bnoentry $compiler_flags ${wl}-bE:$export_symbols${allow_undefined_flag}~$AR $AR_FLAGS $output_objdir/$libname$release.a $output_objdir/$soname'
+         fi
+       fi
+       ;;
+ + 
+ +   beos*)
+ +     if $LD --help 2>&1 | grep ': supported targets:.* elf' > /dev/null; then
+ +       _LT_AC_TAGVAR(allow_undefined_flag, $1)=unsupported
+ +       # Joseph Beckenbach <jrb3@best.com> says some releases of gcc
+ +       # support --undefined.  This deserves some investigation.  FIXME
+ +       _LT_AC_TAGVAR(archive_cmds, $1)='$CC -nostart $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
+ +     else
+ +       _LT_AC_TAGVAR(ld_shlibs, $1)=no
+ +     fi
+ +     ;;
+ + 
+     chorus*)
+       case $cc_basename in
+         *)
+ ***************
+ *** 2937,2943 ****
+       esac
+       ;;
+   
+ - 
+     cygwin* | mingw* | pw32*)
+       # _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1) is actually meaningless,
+       # as there is no search path for DLLs.
+ --- 3023,3028 ----
+ ***************
+ *** 2947,2953 ****
+       _LT_AC_TAGVAR(enable_shared_with_static_runtimes, $1)=yes
+   
+       if $LD --help 2>&1 | grep 'auto-import' > /dev/null; then
+ !       _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared -nostdlib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -o $output_objdir/$soname ${wl}--image-base=0x10000000 ${wl}--out-implib,$lib'
+         # If the export-symbols file already is a .def file (1st line
+         # is EXPORTS), use it as is; otherwise, prepend...
+         _LT_AC_TAGVAR(archive_expsym_cmds, $1)='if test "x`$SED 1q $export_symbols`" = xEXPORTS; then
+ --- 3032,3038 ----
+       _LT_AC_TAGVAR(enable_shared_with_static_runtimes, $1)=yes
+   
+       if $LD --help 2>&1 | grep 'auto-import' > /dev/null; then
+ !       _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared -nostdlib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -o $output_objdir/$soname ${wl}--enable-auto-image-base -Xlinker --out-implib -Xlinker $lib'
+         # If the export-symbols file already is a .def file (1st line
+         # is EXPORTS), use it as is; otherwise, prepend...
+         _LT_AC_TAGVAR(archive_expsym_cmds, $1)='if test "x`$SED 1q $export_symbols`" = xEXPORTS; then
+ ***************
+ *** 2956,2968 ****
+   	echo EXPORTS > $output_objdir/$soname.def;
+   	cat $export_symbols >> $output_objdir/$soname.def;
+         fi~
+ !       $CC -shared -nostdlib $output_objdir/$soname.def $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -o $output_objdir/$soname ${wl}--image-base=0x10000000 ${wl}--out-implib,$lib'
+       else
+         _LT_AC_TAGVAR(ld_shlibs, $1)=no
+       fi
+     ;;
+         darwin* | rhapsody*)
+ !         case "$host_os" in
+           rhapsody* | darwin1.[[012]])
+            _LT_AC_TAGVAR(allow_undefined_flag, $1)='${wl}-undefined ${wl}suppress'
+            ;;
+ --- 3041,3053 ----
+   	echo EXPORTS > $output_objdir/$soname.def;
+   	cat $export_symbols >> $output_objdir/$soname.def;
+         fi~
+ !       $CC -shared -nostdlib $output_objdir/$soname.def $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -o $output_objdir/$soname ${wl}--enable-auto-image-base -Xlinker --out-implib -Xlinker $lib'
+       else
+         _LT_AC_TAGVAR(ld_shlibs, $1)=no
+       fi
+     ;;
+         darwin* | rhapsody*)
+ !         case $host_os in
+           rhapsody* | darwin1.[[012]])
+            _LT_AC_TAGVAR(allow_undefined_flag, $1)='${wl}-undefined ${wl}suppress'
+            ;;
+ ***************
+ *** 3000,3006 ****
+             _LT_AC_TAGVAR(archive_cmds, $1)='$CC -r -keep_private_externs -nostdlib -o ${lib}-master.o $libobjs~$CC -dynamiclib $allow_undefined_flag -o $lib ${lib}-master.o $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+           fi
+           _LT_AC_TAGVAR(module_cmds, $1)='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+ !         # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin ld's
+             if test "X$lt_int_apple_cc_single_mod" = Xyes ; then
+               _LT_AC_TAGVAR(archive_expsym_cmds, $1)='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib -single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             else
+ --- 3085,3091 ----
+             _LT_AC_TAGVAR(archive_cmds, $1)='$CC -r -keep_private_externs -nostdlib -o ${lib}-master.o $libobjs~$CC -dynamiclib $allow_undefined_flag -o $lib ${lib}-master.o $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+           fi
+           _LT_AC_TAGVAR(module_cmds, $1)='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+ !         # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
+             if test "X$lt_int_apple_cc_single_mod" = Xyes ; then
+               _LT_AC_TAGVAR(archive_expsym_cmds, $1)='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib -single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             else
+ ***************
+ *** 3013,3019 ****
+            output_verbose_link_cmd='echo'
+             _LT_AC_TAGVAR(archive_cmds, $1)='$CC -qmkshrobj ${wl}-single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $verstring'
+             _LT_AC_TAGVAR(module_cmds, $1)='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+ !           # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin ld's
+             _LT_AC_TAGVAR(archive_expsym_cmds, $1)='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -qmkshrobj ${wl}-single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}$rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             _LT_AC_TAGVAR(module_expsym_cmds, $1)='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             ;;
+ --- 3098,3104 ----
+            output_verbose_link_cmd='echo'
+             _LT_AC_TAGVAR(archive_cmds, $1)='$CC -qmkshrobj ${wl}-single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $verstring'
+             _LT_AC_TAGVAR(module_cmds, $1)='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+ !           # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
+             _LT_AC_TAGVAR(archive_expsym_cmds, $1)='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -qmkshrobj ${wl}-single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}$rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             _LT_AC_TAGVAR(module_expsym_cmds, $1)='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             ;;
+ ***************
+ *** 3093,3126 ****
+       ;;
+     hpux10*|hpux11*)
+       if test $with_gnu_ld = no; then
+ !       case "$host_cpu" in
+ !       hppa*64*)
+ ! 	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}+b ${wl}$libdir'
+   	_LT_AC_TAGVAR(hardcode_libdir_flag_spec_ld, $1)='+b $libdir'
+ - 	_LT_AC_TAGVAR(hardcode_libdir_separator, $1)=:
+ -         ;;
+ -       ia64*)
+ - 	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-L$libdir'
+           ;;
+         *)
+ - 	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}+b ${wl}$libdir'
+ - 	_LT_AC_TAGVAR(hardcode_libdir_separator, $1)=:
+   	_LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-E'
+           ;;
+         esac
+       fi
+ !     case "$host_cpu" in
+ !     hppa*64*)
+         _LT_AC_TAGVAR(hardcode_direct, $1)=no
+         _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
+         ;;
+ -     ia64*)
+ -       _LT_AC_TAGVAR(hardcode_direct, $1)=no
+ -       _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
+ -       _LT_AC_TAGVAR(hardcode_minus_L, $1)=yes # Not in the search PATH,
+ - 					      # but as the default
+ - 					      # location of the library.
+ -       ;;
+       *)
+         _LT_AC_TAGVAR(hardcode_direct, $1)=yes
+         _LT_AC_TAGVAR(hardcode_minus_L, $1)=yes # Not in the search PATH,
+ --- 3178,3200 ----
+       ;;
+     hpux10*|hpux11*)
+       if test $with_gnu_ld = no; then
+ !       _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}+b ${wl}$libdir'
+ !       _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=:
+ ! 
+ !       case $host_cpu in
+ !       hppa*64*|ia64*)
+   	_LT_AC_TAGVAR(hardcode_libdir_flag_spec_ld, $1)='+b $libdir'
+           ;;
+         *)
+   	_LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-E'
+           ;;
+         esac
+       fi
+ !     case $host_cpu in
+ !     hppa*64*|ia64*)
+         _LT_AC_TAGVAR(hardcode_direct, $1)=no
+         _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
+         ;;
+       *)
+         _LT_AC_TAGVAR(hardcode_direct, $1)=yes
+         _LT_AC_TAGVAR(hardcode_minus_L, $1)=yes # Not in the search PATH,
+ ***************
+ *** 3135,3143 ****
+   	_LT_AC_TAGVAR(ld_shlibs, $1)=no
+   	;;
+         aCC*)
+ ! 	case "$host_cpu" in
+ ! 	hppa*64*|ia64*)
+ ! 	  _LT_AC_TAGVAR(archive_cmds, $1)='$LD -b +h $soname -o $lib $linker_flags $libobjs $deplibs'
+   	  ;;
+   	*)
+   	  _LT_AC_TAGVAR(archive_cmds, $1)='$CC -b ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
+ --- 3209,3220 ----
+   	_LT_AC_TAGVAR(ld_shlibs, $1)=no
+   	;;
+         aCC*)
+ ! 	case $host_cpu in
+ ! 	hppa*64*)
+ ! 	  _LT_AC_TAGVAR(archive_cmds, $1)='$CC -b ${wl}+h ${wl}$soname -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
+ ! 	  ;;
+ ! 	ia64*)
+ ! 	  _LT_AC_TAGVAR(archive_cmds, $1)='$CC -b ${wl}+h ${wl}$soname ${wl}+nodefaultrpath -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
+   	  ;;
+   	*)
+   	  _LT_AC_TAGVAR(archive_cmds, $1)='$CC -b ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
+ ***************
+ *** 3156,3164 ****
+         *)
+   	if test "$GXX" = yes; then
+   	  if test $with_gnu_ld = no; then
+ ! 	    case "$host_cpu" in
+ ! 	    ia64*|hppa*64*)
+ ! 	      _LT_AC_TAGVAR(archive_cmds, $1)='$LD -b +h $soname -o $lib $linker_flags $libobjs $deplibs'
+   	      ;;
+   	    *)
+   	      _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared -nostdlib -fPIC ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
+ --- 3233,3244 ----
+         *)
+   	if test "$GXX" = yes; then
+   	  if test $with_gnu_ld = no; then
+ ! 	    case $host_cpu in
+ ! 	    hppa*64*)
+ ! 	      _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared -nostdlib -fPIC ${wl}+h ${wl}$soname -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
+ ! 	      ;;
+ ! 	    ia64*)
+ ! 	      _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared -nostdlib -fPIC ${wl}+h ${wl}$soname ${wl}+nodefaultrpath -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
+   	      ;;
+   	    *)
+   	      _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared -nostdlib -fPIC ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
+ ***************
+ *** 3172,3177 ****
+ --- 3252,3271 ----
+   	;;
+       esac
+       ;;
+ +   interix3*)
+ +     _LT_AC_TAGVAR(hardcode_direct, $1)=no
+ +     _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
+ +     _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath,$libdir'
+ +     _LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-E'
+ +     # Hack: On Interix 3.x, we cannot compile PIC because of a broken gcc.
+ +     # Instead, shared libraries are loaded at an image base (0x10000000 by
+ +     # default) and relocated if they conflict, which is a slow very memory
+ +     # consuming and fragmenting process.  To avoid this, we pick a random,
+ +     # 256 KiB-aligned image base between 0x50000000 and 0x6FFC0000 at link
+ +     # time.  Moving up from 0x10000000 also allows more sbrk(2) space.
+ +     _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-h,$soname ${wl}--image-base,`expr ${RANDOM-$$} % 4096 / 2 \* 262144 + 1342177280` -o $lib'
+ +     _LT_AC_TAGVAR(archive_expsym_cmds, $1)='sed "s,^,_," $export_symbols >$output_objdir/$soname.expsym~$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-h,$soname ${wl}--retain-symbols-file,$output_objdir/$soname.expsym ${wl}--image-base,`expr ${RANDOM-$$} % 4096 / 2 \* 262144 + 1342177280` -o $lib'
+ +     ;;
+     irix5* | irix6*)
+       case $cc_basename in
+         CC*)
+ ***************
+ *** 3252,3263 ****
+   	;;
+         pgCC*)
+           # Portland Group C++ compiler
+ ! 	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname ${wl}$soname -o $lib'
+ !   	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname ${wl}$soname ${wl}-retain-symbols-file ${wl}$export_symbols -o $lib'
+   
+   	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}--rpath ${wl}$libdir'
+   	_LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}--export-dynamic'
+ ! 	_LT_AC_TAGVAR(whole_archive_flag_spec, $1)=''
+           ;;
+         cxx*)
+   	# Compaq C++
+ --- 3346,3357 ----
+   	;;
+         pgCC*)
+           # Portland Group C++ compiler
+ ! 	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $pic_flag $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname ${wl}$soname -o $lib'
+ !   	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared $pic_flag $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname ${wl}$soname ${wl}-retain-symbols-file ${wl}$export_symbols -o $lib'
+   
+   	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}--rpath ${wl}$libdir'
+   	_LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}--export-dynamic'
+ ! 	_LT_AC_TAGVAR(whole_archive_flag_spec, $1)='${wl}--whole-archive`for conv in $convenience\"\"; do test  -n \"$conv\" && new_convenience=\"$new_convenience,$conv\"; done; $echo \"$new_convenience\"` ${wl}--no-whole-archive'
+           ;;
+         cxx*)
+   	# Compaq C++
+ ***************
+ *** 3454,3472 ****
+       # FIXME: insert proper C++ library support
+       _LT_AC_TAGVAR(ld_shlibs, $1)=no
+       ;;
+ -   sco*)
+ -     _LT_AC_TAGVAR(archive_cmds_need_lc, $1)=no
+ -     case $cc_basename in
+ -       CC*)
+ - 	# FIXME: insert proper C++ library support
+ - 	_LT_AC_TAGVAR(ld_shlibs, $1)=no
+ - 	;;
+ -       *)
+ - 	# FIXME: insert proper C++ library support
+ - 	_LT_AC_TAGVAR(ld_shlibs, $1)=no
+ - 	;;
+ -     esac
+ -     ;;
+     sunos4*)
+       case $cc_basename in
+         CC*)
+ --- 3548,3553 ----
+ ***************
+ *** 3489,3498 ****
+       case $cc_basename in
+         CC*)
+   	# Sun C++ 4.2, 5.x and Centerline C++
+   	_LT_AC_TAGVAR(no_undefined_flag, $1)=' -zdefs'
+ ! 	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -G${allow_undefined_flag} -nolib -h$soname -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
+   	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$echo "{ global:" > $lib.exp~cat $export_symbols | $SED -e "s/\(.*\)/\1;/" >> $lib.exp~$echo "local: *; };" >> $lib.exp~
+ ! 	$CC -G${allow_undefined_flag} -nolib ${wl}-M ${wl}$lib.exp -h$soname -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags~$rm $lib.exp'
+   
+   	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-R$libdir'
+   	_LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
+ --- 3570,3580 ----
+       case $cc_basename in
+         CC*)
+   	# Sun C++ 4.2, 5.x and Centerline C++
+ +         _LT_AC_TAGVAR(archive_cmds_need_lc,$1)=yes
+   	_LT_AC_TAGVAR(no_undefined_flag, $1)=' -zdefs'
+ ! 	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -G${allow_undefined_flag}  -h$soname -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
+   	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$echo "{ global:" > $lib.exp~cat $export_symbols | $SED -e "s/\(.*\)/\1;/" >> $lib.exp~$echo "local: *; };" >> $lib.exp~
+ ! 	$CC -G${allow_undefined_flag}  ${wl}-M ${wl}$lib.exp -h$soname -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags~$rm $lib.exp'
+   
+   	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-R$libdir'
+   	_LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
+ ***************
+ *** 3512,3526 ****
+   	esac
+   	_LT_AC_TAGVAR(link_all_deplibs, $1)=yes
+   
+ ! 	# Commands to make compiler produce verbose output that lists
+ ! 	# what "hidden" libraries, object files and flags are used when
+ ! 	# linking a shared library.
+ ! 	#
+ ! 	# There doesn't appear to be a way to prevent this compiler from
+ ! 	# explicitly linking system object files so we need to strip them
+ ! 	# from the output so that they don't get included in the library
+ ! 	# dependencies.
+ ! 	output_verbose_link_cmd='templist=`$CC -G $CFLAGS -v conftest.$objext 2>&1 | grep "\-[[LR]]"`; list=""; for z in $templist; do case $z in conftest.$objext) list="$list $z";; *.$objext);; *) list="$list $z";;esac; done; echo $list'
+   
+   	# Archives containing C++ object files must be created using
+   	# "CC -xar", where "CC" is the Sun C++ compiler.  This is
+ --- 3594,3600 ----
+   	esac
+   	_LT_AC_TAGVAR(link_all_deplibs, $1)=yes
+   
+ ! 	output_verbose_link_cmd='echo'
+   
+   	# Archives containing C++ object files must be created using
+   	# "CC -xar", where "CC" is the Sun C++ compiler.  This is
+ ***************
+ *** 3566,3573 ****
+   	;;
+       esac
+       ;;
+ !   sysv5OpenUNIX8* | sysv5UnixWare7* | sysv5uw[[78]]* | unixware7*)
+       _LT_AC_TAGVAR(archive_cmds_need_lc, $1)=no
+       ;;
+     tandem*)
+       case $cc_basename in
+ --- 3640,3698 ----
+   	;;
+       esac
+       ;;
+ !   sysv4*uw2* | sysv5OpenUNIX* | sysv5UnixWare7.[[01]].[[10]]* | unixware7* | sco3.2v5.0.[[024]]*)
+ !     _LT_AC_TAGVAR(no_undefined_flag, $1)='${wl}-z,text'
+       _LT_AC_TAGVAR(archive_cmds_need_lc, $1)=no
+ +     _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
+ +     runpath_var='LD_RUN_PATH'
+ + 
+ +     case $cc_basename in
+ +       CC*)
+ + 	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -G ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
+ + 	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -G ${wl}-Bexport:$export_symbols ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
+ + 	;;
+ +       *)
+ + 	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
+ + 	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared ${wl}-Bexport:$export_symbols ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
+ + 	;;
+ +     esac
+ +     ;;
+ +   sysv5* | sco3.2v5* | sco5v6*)
+ +     # Note: We can NOT use -z defs as we might desire, because we do not
+ +     # link with -lc, and that would cause any symbols used from libc to
+ +     # always be unresolved, which means just about no library would
+ +     # ever link correctly.  If we're not using GNU ld we use -z text
+ +     # though, which does catch some bad symbols but isn't as heavy-handed
+ +     # as -z defs.
+ +     # For security reasons, it is highly recommended that you always
+ +     # use absolute paths for naming shared libraries, and exclude the
+ +     # DT_RUNPATH tag from executables and libraries.  But doing so
+ +     # requires that you compile everything twice, which is a pain.
+ +     # So that behaviour is only enabled if SCOABSPATH is set to a
+ +     # non-empty value in the environment.  Most likely only useful for
+ +     # creating official distributions of packages.
+ +     # This is a hack until libtool officially supports absolute path
+ +     # names for shared libraries.
+ +     _LT_AC_TAGVAR(no_undefined_flag, $1)='${wl}-z,text'
+ +     _LT_AC_TAGVAR(allow_undefined_flag, $1)='${wl}-z,nodefs'
+ +     _LT_AC_TAGVAR(archive_cmds_need_lc, $1)=no
+ +     _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
+ +     _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='`test -z "$SCOABSPATH" && echo ${wl}-R,$libdir`'
+ +     _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=':'
+ +     _LT_AC_TAGVAR(link_all_deplibs, $1)=yes
+ +     _LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-Bexport'
+ +     runpath_var='LD_RUN_PATH'
+ + 
+ +     case $cc_basename in
+ +       CC*)
+ + 	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -G ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ + 	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -G ${wl}-Bexport:$export_symbols ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ + 	;;
+ +       *)
+ + 	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ + 	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared ${wl}-Bexport:$export_symbols ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ + 	;;
+ +     esac
+       ;;
+     tandem*)
+       case $cc_basename in
+ ***************
+ *** 3604,3611 ****
+   AC_LIBTOOL_PROG_LD_SHLIBS($1)
+   AC_LIBTOOL_SYS_DYNAMIC_LINKER($1)
+   AC_LIBTOOL_PROG_LD_HARDCODE_LIBPATH($1)
+ - AC_LIBTOOL_SYS_LIB_STRIP
+ - AC_LIBTOOL_DLOPEN_SELF($1)
+   
+   AC_LIBTOOL_CONFIG($1)
+   
+ --- 3729,3734 ----
+ ***************
+ *** 3623,3629 ****
+   ])# AC_LIBTOOL_LANG_CXX_CONFIG
+   
+   # AC_LIBTOOL_POSTDEP_PREDEP([TAGNAME])
+ ! # ------------------------
+   # Figure out "hidden" library dependencies from verbose
+   # compiler output when linking a shared library.
+   # Parse the compiler output and extract the necessary
+ --- 3746,3752 ----
+   ])# AC_LIBTOOL_LANG_CXX_CONFIG
+   
+   # AC_LIBTOOL_POSTDEP_PREDEP([TAGNAME])
+ ! # ------------------------------------
+   # Figure out "hidden" library dependencies from verbose
+   # compiler output when linking a shared library.
+   # Parse the compiler output and extract the necessary
+ ***************
+ *** 3677,3683 ****
+     # The `*' in the case matches for architectures that use `case' in
+     # $output_verbose_cmd can trigger glob expansion during the loop
+     # eval without this substitution.
+ !   output_verbose_link_cmd="`$echo \"X$output_verbose_link_cmd\" | $Xsed -e \"$no_glob_subst\"`"
+   
+     for p in `eval $output_verbose_link_cmd`; do
+       case $p in
+ --- 3800,3806 ----
+     # The `*' in the case matches for architectures that use `case' in
+     # $output_verbose_cmd can trigger glob expansion during the loop
+     # eval without this substitution.
+ !   output_verbose_link_cmd=`$echo "X$output_verbose_link_cmd" | $Xsed -e "$no_glob_subst"`
+   
+     for p in `eval $output_verbose_link_cmd`; do
+       case $p in
+ ***************
+ *** 3753,3765 ****
+   
+   $rm -f confest.$objext
+   
+   case " $_LT_AC_TAGVAR(postdeps, $1) " in
+   *" -lc "*) _LT_AC_TAGVAR(archive_cmds_need_lc, $1)=no ;;
+   esac
+   ])# AC_LIBTOOL_POSTDEP_PREDEP
+   
+   # AC_LIBTOOL_LANG_F77_CONFIG
+ ! # ------------------------
+   # Ensure that the configuration vars for the C compiler are
+   # suitably defined.  Those variables are subsequently used by
+   # AC_LIBTOOL_CONFIG to write the compiler configuration to `libtool'.
+ --- 3876,3912 ----
+   
+   $rm -f confest.$objext
+   
+ + # PORTME: override above test on systems where it is broken
+ + ifelse([$1],[CXX],
+ + [case $host_os in
+ + interix3*)
+ +   # Interix 3.5 installs completely hosed .la files for C++, so rather than
+ +   # hack all around it, let's just trust "g++" to DTRT.
+ +   _LT_AC_TAGVAR(predep_objects,$1)=
+ +   _LT_AC_TAGVAR(postdep_objects,$1)=
+ +   _LT_AC_TAGVAR(postdeps,$1)=
+ +   ;;
+ + 
+ + solaris*)
+ +   case $cc_basename in
+ +   CC*)
+ +     # Adding this requires a known-good setup of shared libraries for
+ +     # Sun compiler versions before 5.6, else PIC objects from an old
+ +     # archive will be linked into the output, leading to subtle bugs.
+ +     _LT_AC_TAGVAR(postdeps,$1)='-lCstd -lCrun'
+ +     ;;
+ +   esac
+ +   ;;
+ + esac
+ + ])
+ + 
+   case " $_LT_AC_TAGVAR(postdeps, $1) " in
+   *" -lc "*) _LT_AC_TAGVAR(archive_cmds_need_lc, $1)=no ;;
+   esac
+   ])# AC_LIBTOOL_POSTDEP_PREDEP
+   
+   # AC_LIBTOOL_LANG_F77_CONFIG
+ ! # --------------------------
+   # Ensure that the configuration vars for the C compiler are
+   # suitably defined.  Those variables are subsequently used by
+   # AC_LIBTOOL_CONFIG to write the compiler configuration to `libtool'.
+ ***************
+ *** 3822,3828 ****
+   
+   # On AIX, shared libraries and static libraries use the same namespace, and
+   # are all built from PIC.
+ ! case "$host_os" in
+   aix3*)
+     test "$enable_shared" = yes && enable_static=no
+     if test -n "$RANLIB"; then
+ --- 3969,3975 ----
+   
+   # On AIX, shared libraries and static libraries use the same namespace, and
+   # are all built from PIC.
+ ! case $host_os in
+   aix3*)
+     test "$enable_shared" = yes && enable_static=no
+     if test -n "$RANLIB"; then
+ ***************
+ *** 3843,3850 ****
+   test "$enable_shared" = yes || enable_static=yes
+   AC_MSG_RESULT([$enable_static])
+   
+ - test "$_LT_AC_TAGVAR(ld_shlibs, $1)" = no && can_build_shared=no
+ - 
+   _LT_AC_TAGVAR(GCC, $1)="$G77"
+   _LT_AC_TAGVAR(LD, $1)="$LD"
+   
+ --- 3990,3995 ----
+ ***************
+ *** 3854,3861 ****
+   AC_LIBTOOL_PROG_LD_SHLIBS($1)
+   AC_LIBTOOL_SYS_DYNAMIC_LINKER($1)
+   AC_LIBTOOL_PROG_LD_HARDCODE_LIBPATH($1)
+ - AC_LIBTOOL_SYS_LIB_STRIP
+ - 
+   
+   AC_LIBTOOL_CONFIG($1)
+   
+ --- 3999,4004 ----
+ ***************
+ *** 3912,3919 ****
+   AC_LIBTOOL_PROG_LD_SHLIBS($1)
+   AC_LIBTOOL_SYS_DYNAMIC_LINKER($1)
+   AC_LIBTOOL_PROG_LD_HARDCODE_LIBPATH($1)
+ - AC_LIBTOOL_SYS_LIB_STRIP
+ - AC_LIBTOOL_DLOPEN_SELF($1)
+   
+   AC_LIBTOOL_CONFIG($1)
+   
+ --- 4055,4060 ----
+ ***************
+ *** 3923,3929 ****
+   
+   
+   # AC_LIBTOOL_LANG_RC_CONFIG
+ ! # --------------------------
+   # Ensure that the configuration vars for the Windows resource compiler are
+   # suitably defined.  Those variables are subsequently used by
+   # AC_LIBTOOL_CONFIG to write the compiler configuration to `libtool'.
+ --- 4064,4070 ----
+   
+   
+   # AC_LIBTOOL_LANG_RC_CONFIG
+ ! # -------------------------
+   # Ensure that the configuration vars for the Windows resource compiler are
+   # suitably defined.  Those variables are subsequently used by
+   # AC_LIBTOOL_CONFIG to write the compiler configuration to `libtool'.
+ ***************
+ *** 3986,3992 ****
+     # Now quote all the things that may contain metacharacters while being
+     # careful not to overquote the AC_SUBSTed values.  We take copies of the
+     # variables and quote the copies for generation of the libtool script.
+ !   for var in echo old_CC old_CFLAGS AR AR_FLAGS EGREP RANLIB LN_S LTCC NM \
+       SED SHELL STRIP \
+       libname_spec library_names_spec soname_spec extract_expsyms_cmds \
+       old_striplib striplib file_magic_cmd finish_cmds finish_eval \
+ --- 4127,4133 ----
+     # Now quote all the things that may contain metacharacters while being
+     # careful not to overquote the AC_SUBSTed values.  We take copies of the
+     # variables and quote the copies for generation of the libtool script.
+ !   for var in echo old_CC old_CFLAGS AR AR_FLAGS EGREP RANLIB LN_S LTCC LTCFLAGS NM \
+       SED SHELL STRIP \
+       libname_spec library_names_spec soname_spec extract_expsyms_cmds \
+       old_striplib striplib file_magic_cmd finish_cmds finish_eval \
+ ***************
+ *** 4155,4166 ****
+ --- 4296,4313 ----
+   # A C compiler.
+   LTCC=$lt_LTCC
+   
+ + # LTCC compiler flags.
+ + LTCFLAGS=$lt_LTCFLAGS
+ + 
+   # A language-specific compiler.
+   CC=$lt_[]_LT_AC_TAGVAR(compiler, $1)
+   
+   # Is the compiler the GNU C compiler?
+   with_gcc=$_LT_AC_TAGVAR(GCC, $1)
+   
+ + gcc_dir=\`gcc -print-file-name=. | $SED 's,/\.$,,'\`
+ + gcc_ver=\`gcc -dumpversion\`
+ + 
+   # An ERE matcher.
+   EGREP=$lt_EGREP
+   
+ ***************
+ *** 4294,4304 ****
+   
+   # Dependencies to place before the objects being linked to create a
+   # shared library.
+ ! predep_objects=$lt_[]_LT_AC_TAGVAR(predep_objects, $1)
+   
+   # Dependencies to place after the objects being linked to create a
+   # shared library.
+ ! postdep_objects=$lt_[]_LT_AC_TAGVAR(postdep_objects, $1)
+   
+   # Dependencies to place before the objects being linked to create a
+   # shared library.
+ --- 4441,4451 ----
+   
+   # Dependencies to place before the objects being linked to create a
+   # shared library.
+ ! predep_objects=\`echo $lt_[]_LT_AC_TAGVAR(predep_objects, $1) | \$SED -e "s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g"\`
+   
+   # Dependencies to place after the objects being linked to create a
+   # shared library.
+ ! postdep_objects=\`echo $lt_[]_LT_AC_TAGVAR(postdep_objects, $1) | \$SED -e "s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g"\`
+   
+   # Dependencies to place before the objects being linked to create a
+   # shared library.
+ ***************
+ *** 4310,4316 ****
+   
+   # The library search path used internally by the compiler when linking
+   # a shared library.
+ ! compiler_lib_search_path=$lt_[]_LT_AC_TAGVAR(compiler_lib_search_path, $1)
+   
+   # Method to check whether dependent libraries are shared objects.
+   deplibs_check_method=$lt_deplibs_check_method
+ --- 4457,4463 ----
+   
+   # The library search path used internally by the compiler when linking
+   # a shared library.
+ ! compiler_lib_search_path=\`echo $lt_[]_LT_AC_TAGVAR(compiler_lib_search_path, $1) | \$SED -e "s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g"\`
+   
+   # Method to check whether dependent libraries are shared objects.
+   deplibs_check_method=$lt_deplibs_check_method
+ ***************
+ *** 4390,4396 ****
+   link_all_deplibs=$_LT_AC_TAGVAR(link_all_deplibs, $1)
+   
+   # Compile-time system search path for libraries
+ ! sys_lib_search_path_spec=$lt_sys_lib_search_path_spec
+   
+   # Run-time system search path for libraries
+   sys_lib_dlsearch_path_spec=$lt_sys_lib_dlsearch_path_spec
+ --- 4537,4543 ----
+   link_all_deplibs=$_LT_AC_TAGVAR(link_all_deplibs, $1)
+   
+   # Compile-time system search path for libraries
+ ! sys_lib_search_path_spec=\`echo $lt_sys_lib_search_path_spec | \$SED -e "s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g"\`
+   
+   # Run-time system search path for libraries
+   sys_lib_dlsearch_path_spec=$lt_sys_lib_dlsearch_path_spec
+ ***************
+ *** 4528,4536 ****
+   osf*)
+     symcode='[[BCDEGQRST]]'
+     ;;
+ ! solaris* | sysv5*)
+     symcode='[[BDRT]]'
+     ;;
+   sysv4)
+     symcode='[[DFNSTU]]'
+     ;;
+ --- 4675,4692 ----
+   osf*)
+     symcode='[[BCDEGQRST]]'
+     ;;
+ ! solaris*)
+     symcode='[[BDRT]]'
+     ;;
+ + sco3.2v5*)
+ +   symcode='[[DT]]'
+ +   ;;
+ + sysv4.2uw2*)
+ +   symcode='[[DT]]'
+ +   ;;
+ + sysv5* | sco5v6* | unixware* | OpenUNIX*)
+ +   symcode='[[ABDT]]'
+ +   ;;
+   sysv4)
+     symcode='[[DFNSTU]]'
+     ;;
+ ***************
+ *** 4713,4718 ****
+ --- 4869,4878 ----
+         # DJGPP does not support shared libraries at all
+         _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)=
+         ;;
+ +     interix3*)
+ +       # Interix 3.x gcc -fpic/-fPIC options generate broken code.
+ +       # Instead, we relocate shared libraries at runtime.
+ +       ;;
+       sysv4*MP*)
+         if test -d /usr/nec; then
+   	_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)=-Kconform_pic
+ ***************
+ *** 4721,4727 ****
+       hpux*)
+         # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
+         # not for PA HP-UX.
+ !       case "$host_cpu" in
+         hppa*64*|ia64*)
+   	;;
+         *)
+ --- 4881,4887 ----
+       hpux*)
+         # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
+         # not for PA HP-UX.
+ !       case $host_cpu in
+         hppa*64*|ia64*)
+   	;;
+         *)
+ ***************
+ *** 4782,4796 ****
+   	case $cc_basename in
+   	  CC*)
+   	    _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
+ ! 	    _LT_AC_TAGVAR(lt_prog_compiler_static, $1)="${ac_cv_prog_cc_wl}-a ${ac_cv_prog_cc_wl}archive"
+   	    if test "$host_cpu" != ia64; then
+   	      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='+Z'
+   	    fi
+   	    ;;
+   	  aCC*)
+   	    _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
+ ! 	    _LT_AC_TAGVAR(lt_prog_compiler_static, $1)="${ac_cv_prog_cc_wl}-a ${ac_cv_prog_cc_wl}archive"
+ ! 	    case "$host_cpu" in
+   	    hppa*64*|ia64*)
+   	      # +Z the default
+   	      ;;
+ --- 4942,4956 ----
+   	case $cc_basename in
+   	  CC*)
+   	    _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
+ ! 	    _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='${wl}-a ${wl}archive'
+   	    if test "$host_cpu" != ia64; then
+   	      _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='+Z'
+   	    fi
+   	    ;;
+   	  aCC*)
+   	    _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
+ ! 	    _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='${wl}-a ${wl}archive'
+ ! 	    case $host_cpu in
+   	    hppa*64*|ia64*)
+   	      # +Z the default
+   	      ;;
+ ***************
+ *** 4803,4808 ****
+ --- 4963,4972 ----
+   	    ;;
+   	esac
+   	;;
+ +       interix*)
+ + 	# This is c89, which is MS Visual C++ (no shared libs)
+ + 	# Anyone wants to do a port?
+ + 	;;
+         irix5* | irix6* | nonstopux*)
+   	case $cc_basename in
+   	  CC*)
+ ***************
+ *** 4831,4837 ****
+   	    # Portland Group C++ compiler.
+   	    _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
+   	    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-fpic'
+ ! 	    _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-static'
+   	    ;;
+   	  cxx*)
+   	    # Compaq C++
+ --- 4995,5001 ----
+   	    # Portland Group C++ compiler.
+   	    _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
+   	    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-fpic'
+ ! 	    _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
+   	    ;;
+   	  cxx*)
+   	    # Compaq C++
+ ***************
+ *** 4882,4896 ****
+   	;;
+         psos*)
+   	;;
+ -       sco*)
+ - 	case $cc_basename in
+ - 	  CC*)
+ - 	    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-fPIC'
+ - 	    ;;
+ - 	  *)
+ - 	    ;;
+ - 	esac
+ - 	;;
+         solaris*)
+   	case $cc_basename in
+   	  CC*)
+ --- 5046,5051 ----
+ ***************
+ *** 4932,4938 ****
+   	    ;;
+   	esac
+   	;;
+ !       unixware*)
+   	;;
+         vxworks*)
+   	;;
+ --- 5087,5100 ----
+   	    ;;
+   	esac
+   	;;
+ !       sysv5* | unixware* | sco3.2v5* | sco5v6* | OpenUNIX*)
+ ! 	case $cc_basename in
+ ! 	  CC*)
+ ! 	    _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
+ ! 	    _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'
+ ! 	    _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
+ ! 	    ;;
+ ! 	esac
+   	;;
+         vxworks*)
+   	;;
+ ***************
+ *** 4979,4984 ****
+ --- 5141,5151 ----
+         _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-fno-common'
+         ;;
+   
+ +     interix3*)
+ +       # Interix 3.x gcc -fpic/-fPIC options generate broken code.
+ +       # Instead, we relocate shared libraries at runtime.
+ +       ;;
+ + 
+       msdosdjgpp*)
+         # Just because we use GCC doesn't mean we suddenly get shared libraries
+         # on systems that don't support them.
+ ***************
+ *** 4995,5001 ****
+       hpux*)
+         # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
+         # not for PA HP-UX.
+ !       case "$host_cpu" in
+         hppa*64*|ia64*)
+   	# +Z the default
+   	;;
+ --- 5162,5168 ----
+       hpux*)
+         # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
+         # not for PA HP-UX.
+ !       case $host_cpu in
+         hppa*64*|ia64*)
+   	# +Z the default
+   	;;
+ ***************
+ *** 5042,5048 ****
+         _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
+         # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
+         # not for PA HP-UX.
+ !       case "$host_cpu" in
+         hppa*64*|ia64*)
+   	# +Z the default
+   	;;
+ --- 5209,5215 ----
+         _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
+         # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
+         # not for PA HP-UX.
+ !       case $host_cpu in
+         hppa*64*|ia64*)
+   	# +Z the default
+   	;;
+ ***************
+ *** 5072,5083 ****
+   	_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'
+   	_LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-static'
+           ;;
+ !       pgcc* | pgf77* | pgf90*)
+           # Portland Group compilers (*not* the Pentium gcc compiler,
+   	# which looks to be a dead project)
+   	_LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
+   	_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-fpic'
+ ! 	_LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-static'
+           ;;
+         ccc*)
+           _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
+ --- 5239,5250 ----
+   	_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'
+   	_LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-static'
+           ;;
+ !       pgcc* | pgf77* | pgf90* | pgf95*)
+           # Portland Group compilers (*not* the Pentium gcc compiler,
+   	# which looks to be a dead project)
+   	_LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
+   	_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-fpic'
+ ! 	_LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
+           ;;
+         ccc*)
+           _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
+ ***************
+ *** 5093,5103 ****
+         _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-non_shared'
+         ;;
+   
+ -     sco3.2v5*)
+ -       _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-Kpic'
+ -       _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-dn'
+ -       ;;
+ - 
+       solaris*)
+         _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'
+         _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
+ --- 5260,5265 ----
+ ***************
+ *** 5115,5121 ****
+         _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
+         ;;
+   
+ !     sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)
+         _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
+         _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'
+         _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
+ --- 5277,5283 ----
+         _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
+         ;;
+   
+ !     sysv4 | sysv4.2uw2* | sysv4.3*)
+         _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
+         _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'
+         _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
+ ***************
+ *** 5128,5133 ****
+ --- 5290,5301 ----
+         fi
+         ;;
+   
+ +     sysv5* | unixware* | sco3.2v5* | sco5v6* | OpenUNIX*)
+ +       _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
+ +       _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'
+ +       _LT_AC_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
+ +       ;;
+ + 
+       unicos*)
+         _LT_AC_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
+         _LT_AC_TAGVAR(lt_prog_compiler_can_build_shared, $1)=no
+ ***************
+ *** 5160,5166 ****
+       [_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)=
+        _LT_AC_TAGVAR(lt_prog_compiler_can_build_shared, $1)=no])
+   fi
+ ! case "$host_os" in
+     # For platforms which do not support PIC, -DPIC is meaningless:
+     *djgpp*)
+       _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)=
+ --- 5328,5334 ----
+       [_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)=
+        _LT_AC_TAGVAR(lt_prog_compiler_can_build_shared, $1)=no])
+   fi
+ ! case $host_os in
+     # For platforms which do not support PIC, -DPIC is meaningless:
+     *djgpp*)
+       _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)=
+ ***************
+ *** 5169,5174 ****
+ --- 5337,5352 ----
+       _LT_AC_TAGVAR(lt_prog_compiler_pic, $1)="$_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)ifelse([$1],[],[ -DPIC],[ifelse([$1],[CXX],[ -DPIC],[])])"
+       ;;
+   esac
+ + 
+ + #
+ + # Check to make sure the static flag actually works.
+ + #
+ + wl=$_LT_AC_TAGVAR(lt_prog_compiler_wl, $1) eval lt_tmp_static_flag=\"$_LT_AC_TAGVAR(lt_prog_compiler_static, $1)\"
+ + AC_LIBTOOL_LINKER_OPTION([if $compiler static flag $lt_tmp_static_flag works],
+ +   _LT_AC_TAGVAR(lt_prog_compiler_static_works, $1),
+ +   $lt_tmp_static_flag,
+ +   [],
+ +   [_LT_AC_TAGVAR(lt_prog_compiler_static, $1)=])
+   ])
+   
+   
+ ***************
+ *** 5247,5252 ****
+ --- 5425,5434 ----
+         with_gnu_ld=no
+       fi
+       ;;
+ +   interix*)
+ +     # we just hope/assume this is gcc and not c89 (= MSVC++)
+ +     with_gnu_ld=yes
+ +     ;;
+     openbsd*)
+       with_gnu_ld=no
+       ;;
+ ***************
+ *** 5256,5262 ****
+     if test "$with_gnu_ld" = yes; then
+       # If archive_cmds runs LD, not CC, wlarc should be empty
+       wlarc='${wl}'
+ !     
+       # Set some defaults for GNU ld with shared library support. These
+       # are reset later if shared libraries are not supported. Putting them
+       # here allows them to be overridden if necessary.
+ --- 5438,5444 ----
+     if test "$with_gnu_ld" = yes; then
+       # If archive_cmds runs LD, not CC, wlarc should be empty
+       wlarc='${wl}'
+ ! 
+       # Set some defaults for GNU ld with shared library support. These
+       # are reset later if shared libraries are not supported. Putting them
+       # here allows them to be overridden if necessary.
+ ***************
+ *** 5277,5283 ****
+         *\ 2.11.*) ;; # other 2.11 versions
+         *) supports_anon_versioning=yes ;;
+       esac
+ !     
+       # See if GNU ld supports shared libraries.
+       case $host_os in
+       aix3* | aix4* | aix5*)
+ --- 5459,5465 ----
+         *\ 2.11.*) ;; # other 2.11 versions
+         *) supports_anon_versioning=yes ;;
+       esac
+ ! 
+       # See if GNU ld supports shared libraries.
+       case $host_os in
+       aix3* | aix4* | aix5*)
+ ***************
+ *** 5331,5337 ****
+         _LT_AC_TAGVAR(export_symbols_cmds, $1)='$NM $libobjs $convenience | $global_symbol_pipe | $SED -e '\''/^[[BCDGRS]] /s/.* \([[^ ]]*\)/\1 DATA/'\'' | $SED -e '\''/^[[AITW]] /s/.* //'\'' | sort | uniq > $export_symbols'
+   
+         if $LD --help 2>&1 | grep 'auto-import' > /dev/null; then
+ !         _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $libobjs $deplibs $compiler_flags -o $output_objdir/$soname ${wl}--image-base=0x10000000 ${wl}--out-implib,$lib'
+   	# If the export-symbols file already is a .def file (1st line
+   	# is EXPORTS), use it as is; otherwise, prepend...
+   	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='if test "x`$SED 1q $export_symbols`" = xEXPORTS; then
+ --- 5513,5519 ----
+         _LT_AC_TAGVAR(export_symbols_cmds, $1)='$NM $libobjs $convenience | $global_symbol_pipe | $SED -e '\''/^[[BCDGRS]] /s/.* \([[^ ]]*\)/\1 DATA/'\'' | $SED -e '\''/^[[AITW]] /s/.* //'\'' | sort | uniq > $export_symbols'
+   
+         if $LD --help 2>&1 | grep 'auto-import' > /dev/null; then
+ !         _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $libobjs $deplibs $compiler_flags -o $output_objdir/$soname ${wl}--enable-auto-image-base -Xlinker --out-implib -Xlinker $lib'
+   	# If the export-symbols file already is a .def file (1st line
+   	# is EXPORTS), use it as is; otherwise, prepend...
+   	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='if test "x`$SED 1q $export_symbols`" = xEXPORTS; then
+ ***************
+ *** 5340,5361 ****
+   	  echo EXPORTS > $output_objdir/$soname.def;
+   	  cat $export_symbols >> $output_objdir/$soname.def;
+   	fi~
+ ! 	$CC -shared $output_objdir/$soname.def $libobjs $deplibs $compiler_flags -o $output_objdir/$soname ${wl}--image-base=0x10000000  ${wl}--out-implib,$lib'
+         else
+   	_LT_AC_TAGVAR(ld_shlibs, $1)=no
+         fi
+         ;;
+   
+       linux*)
+         if $LD --help 2>&1 | grep ': supported targets:.* elf' > /dev/null; then
+   	tmp_addflag=
+   	case $cc_basename,$host_cpu in
+   	pgcc*)				# Portland Group C compiler
+ ! 	  _LT_AC_TAGVAR(whole_archive_flag_spec, $1)=
+   	  ;;
+ ! 	pgf77* | pgf90* )			# Portland Group f77 and f90 compilers
+ ! 	  _LT_AC_TAGVAR(whole_archive_flag_spec, $1)=
+ ! 	  tmp_addflag=' -fpic -Mnomain' ;;
+   	ecc*,ia64* | icc*,ia64*)		# Intel C compiler on ia64
+   	  tmp_addflag=' -i_dynamic' ;;
+   	efc*,ia64* | ifort*,ia64*)	# Intel Fortran compiler on ia64
+ --- 5522,5559 ----
+   	  echo EXPORTS > $output_objdir/$soname.def;
+   	  cat $export_symbols >> $output_objdir/$soname.def;
+   	fi~
+ ! 	$CC -shared $output_objdir/$soname.def $libobjs $deplibs $compiler_flags -o $output_objdir/$soname ${wl}--enable-auto-image-base -Xlinker --out-implib -Xlinker $lib'
+         else
+   	_LT_AC_TAGVAR(ld_shlibs, $1)=no
+         fi
+         ;;
+   
+ +     interix3*)
+ +       _LT_AC_TAGVAR(hardcode_direct, $1)=no
+ +       _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
+ +       _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath,$libdir'
+ +       _LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-E'
+ +       # Hack: On Interix 3.x, we cannot compile PIC because of a broken gcc.
+ +       # Instead, shared libraries are loaded at an image base (0x10000000 by
+ +       # default) and relocated if they conflict, which is a slow very memory
+ +       # consuming and fragmenting process.  To avoid this, we pick a random,
+ +       # 256 KiB-aligned image base between 0x50000000 and 0x6FFC0000 at link
+ +       # time.  Moving up from 0x10000000 also allows more sbrk(2) space.
+ +       _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-h,$soname ${wl}--image-base,`expr ${RANDOM-$$} % 4096 / 2 \* 262144 + 1342177280` -o $lib'
+ +       _LT_AC_TAGVAR(archive_expsym_cmds, $1)='sed "s,^,_," $export_symbols >$output_objdir/$soname.expsym~$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-h,$soname ${wl}--retain-symbols-file,$output_objdir/$soname.expsym ${wl}--image-base,`expr ${RANDOM-$$} % 4096 / 2 \* 262144 + 1342177280` -o $lib'
+ +       ;;
+ + 
+       linux*)
+         if $LD --help 2>&1 | grep ': supported targets:.* elf' > /dev/null; then
+   	tmp_addflag=
+   	case $cc_basename,$host_cpu in
+   	pgcc*)				# Portland Group C compiler
+ ! 	  _LT_AC_TAGVAR(whole_archive_flag_spec, $1)='${wl}--whole-archive`for conv in $convenience\"\"; do test  -n \"$conv\" && new_convenience=\"$new_convenience,$conv\"; done; $echo \"$new_convenience\"` ${wl}--no-whole-archive'
+ ! 	  tmp_addflag=' $pic_flag'
+   	  ;;
+ ! 	pgf77* | pgf90* | pgf95*)	# Portland Group f77 and f90 compilers
+ ! 	  _LT_AC_TAGVAR(whole_archive_flag_spec, $1)='${wl}--whole-archive`for conv in $convenience\"\"; do test  -n \"$conv\" && new_convenience=\"$new_convenience,$conv\"; done; $echo \"$new_convenience\"` ${wl}--no-whole-archive'
+ ! 	  tmp_addflag=' $pic_flag -Mnomain' ;;
+   	ecc*,ia64* | icc*,ia64*)		# Intel C compiler on ia64
+   	  tmp_addflag=' -i_dynamic' ;;
+   	efc*,ia64* | ifort*,ia64*)	# Intel Fortran compiler on ia64
+ ***************
+ *** 5386,5392 ****
+         fi
+         ;;
+   
+ !     solaris* | sysv5*)
+         if $LD -v 2>&1 | grep 'BFD 2\.8' > /dev/null; then
+   	_LT_AC_TAGVAR(ld_shlibs, $1)=no
+   	cat <<EOF 1>&2
+ --- 5584,5590 ----
+         fi
+         ;;
+   
+ !     solaris*)
+         if $LD -v 2>&1 | grep 'BFD 2\.8' > /dev/null; then
+   	_LT_AC_TAGVAR(ld_shlibs, $1)=no
+   	cat <<EOF 1>&2
+ ***************
+ *** 5407,5412 ****
+ --- 5605,5637 ----
+         fi
+         ;;
+   
+ +     sysv5* | sco3.2v5* | sco5v6* | unixware* | OpenUNIX*)
+ +       case `$LD -v 2>&1` in
+ +         *\ [[01]].* | *\ 2.[[0-9]].* | *\ 2.1[[0-5]].*) 
+ + 	_LT_AC_TAGVAR(ld_shlibs, $1)=no
+ + 	cat <<_LT_EOF 1>&2
+ + 
+ + *** Warning: Releases of the GNU linker prior to 2.16.91.0.3 can not
+ + *** reliably create shared libraries on SCO systems.  Therefore, libtool
+ + *** is disabling shared libraries support.  We urge you to upgrade GNU
+ + *** binutils to release 2.16.91.0.3 or newer.  Another option is to modify
+ + *** your PATH or compiler configuration so that the native linker is
+ + *** used, and then restart.
+ + 
+ + _LT_EOF
+ + 	;;
+ + 	*)
+ + 	  if $LD --help 2>&1 | grep ': supported targets:.* elf' > /dev/null; then
+ + 	    _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='`test -z "$SCOABSPATH" && echo ${wl}-rpath,$libdir`'
+ + 	    _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib'
+ + 	    _LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname,\${SCOABSPATH:+${install_libdir}/}$soname,-retain-symbols-file,$export_symbols -o $lib'
+ + 	  else
+ + 	    _LT_AC_TAGVAR(ld_shlibs, $1)=no
+ + 	  fi
+ + 	;;
+ +       esac
+ +       ;;
+ + 
+       sunos4*)
+         _LT_AC_TAGVAR(archive_cmds, $1)='$LD -assert pure-text -Bshareable -o $lib $libobjs $deplibs $linker_flags'
+         wlarc=
+ ***************
+ *** 5440,5446 ****
+         # Note: this linker hardcodes the directories in LIBPATH if there
+         # are no directories specified by -L.
+         _LT_AC_TAGVAR(hardcode_minus_L, $1)=yes
+ !       if test "$GCC" = yes && test -z "$link_static_flag"; then
+   	# Neither direct hardcoding nor static linking is supported with a
+   	# broken collect2.
+   	_LT_AC_TAGVAR(hardcode_direct, $1)=unsupported
+ --- 5665,5671 ----
+         # Note: this linker hardcodes the directories in LIBPATH if there
+         # are no directories specified by -L.
+         _LT_AC_TAGVAR(hardcode_minus_L, $1)=yes
+ !       if test "$GCC" = yes && test -z "$lt_prog_compiler_static"; then
+   	# Neither direct hardcoding nor static linking is supported with a
+   	# broken collect2.
+   	_LT_AC_TAGVAR(hardcode_direct, $1)=unsupported
+ ***************
+ *** 5474,5479 ****
+ --- 5699,5705 ----
+     	    break
+     	  fi
+   	  done
+ + 	  ;;
+   	esac
+   
+   	exp_sym_flag='-bexport'
+ ***************
+ *** 5511,5516 ****
+ --- 5737,5743 ----
+     	  _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-L$libdir'
+     	  _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=
+   	  fi
+ + 	  ;;
+   	esac
+   	shared_flag='-shared'
+   	if test "$aix_use_runtimelinking" = yes; then
+ ***************
+ *** 5523,5533 ****
+     	# chokes on -Wl,-G. The following line is correct:
+   	  shared_flag='-G'
+   	else
+ !   	if test "$aix_use_runtimelinking" = yes; then
+   	    shared_flag='${wl}-G'
+   	  else
+   	    shared_flag='${wl}-bM:SRE'
+ !   	fi
+   	fi
+         fi
+   
+ --- 5750,5760 ----
+     	# chokes on -Wl,-G. The following line is correct:
+   	  shared_flag='-G'
+   	else
+ ! 	  if test "$aix_use_runtimelinking" = yes; then
+   	    shared_flag='${wl}-G'
+   	  else
+   	    shared_flag='${wl}-bM:SRE'
+ ! 	  fi
+   	fi
+         fi
+   
+ ***************
+ *** 5541,5552 ****
+          # Determine the default libpath from the value encoded in an empty executable.
+          _LT_AC_SYS_LIBPATH_AIX
+          _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-blibpath:$libdir:'"$aix_libpath"
+ ! 	_LT_AC_TAGVAR(archive_expsym_cmds, $1)="\$CC"' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags `if test "x${allow_undefined_flag}" != "x"; then echo "${wl}${allow_undefined_flag}"; else :; fi` '"\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols $shared_flag"
+          else
+   	if test "$host_cpu" = ia64; then
+   	  _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-R $libdir:/usr/lib:/lib'
+   	  _LT_AC_TAGVAR(allow_undefined_flag, $1)="-z nodefs"
+ ! 	  _LT_AC_TAGVAR(archive_expsym_cmds, $1)="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags ${wl}${allow_undefined_flag} '"\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols"
+   	else
+   	 # Determine the default libpath from the value encoded in an empty executable.
+   	 _LT_AC_SYS_LIBPATH_AIX
+ --- 5768,5779 ----
+          # Determine the default libpath from the value encoded in an empty executable.
+          _LT_AC_SYS_LIBPATH_AIX
+          _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-blibpath:$libdir:'"$aix_libpath"
+ ! 	_LT_AC_TAGVAR(archive_expsym_cmds, $1)="\$CC"' -o $output_objdir/$soname $libobjs $deplibs '"\${wl}$no_entry_flag"' $compiler_flags `if test "x${allow_undefined_flag}" != "x"; then echo "${wl}${allow_undefined_flag}"; else :; fi` '"\${wl}$exp_sym_flag:\$export_symbols $shared_flag"
+          else
+   	if test "$host_cpu" = ia64; then
+   	  _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-R $libdir:/usr/lib:/lib'
+   	  _LT_AC_TAGVAR(allow_undefined_flag, $1)="-z nodefs"
+ ! 	  _LT_AC_TAGVAR(archive_expsym_cmds, $1)="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs '"\${wl}$no_entry_flag"' $compiler_flags ${wl}${allow_undefined_flag} '"\${wl}$exp_sym_flag:\$export_symbols"
+   	else
+   	 # Determine the default libpath from the value encoded in an empty executable.
+   	 _LT_AC_SYS_LIBPATH_AIX
+ ***************
+ *** 5555,5567 ****
+   	  # -berok will link without error, but may produce a broken library.
+   	  _LT_AC_TAGVAR(no_undefined_flag, $1)=' ${wl}-bernotok'
+   	  _LT_AC_TAGVAR(allow_undefined_flag, $1)=' ${wl}-berok'
+ - 	  # -bexpall does not export symbols beginning with underscore (_)
+ - 	  _LT_AC_TAGVAR(always_export_symbols, $1)=yes
+   	  # Exported symbols can be pulled into shared objects from archives
+ ! 	  _LT_AC_TAGVAR(whole_archive_flag_spec, $1)=' '
+   	  _LT_AC_TAGVAR(archive_cmds_need_lc, $1)=yes
+ ! 	  # This is similar to how AIX traditionally builds it's shared libraries.
+ ! 	  _LT_AC_TAGVAR(archive_expsym_cmds, $1)="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags ${wl}-bE:$export_symbols ${wl}-bnoentry${allow_undefined_flag}~$AR $AR_FLAGS $output_objdir/$libname$release.a $output_objdir/$soname'
+   	fi
+         fi
+         ;;
+ --- 5782,5792 ----
+   	  # -berok will link without error, but may produce a broken library.
+   	  _LT_AC_TAGVAR(no_undefined_flag, $1)=' ${wl}-bernotok'
+   	  _LT_AC_TAGVAR(allow_undefined_flag, $1)=' ${wl}-berok'
+   	  # Exported symbols can be pulled into shared objects from archives
+ ! 	  _LT_AC_TAGVAR(whole_archive_flag_spec, $1)='$convenience'
+   	  _LT_AC_TAGVAR(archive_cmds_need_lc, $1)=yes
+ ! 	  # This is similar to how AIX traditionally builds its shared libraries.
+ ! 	  _LT_AC_TAGVAR(archive_expsym_cmds, $1)="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs ${wl}-bnoentry $compiler_flags ${wl}-bE:$export_symbols${allow_undefined_flag}~$AR $AR_FLAGS $output_objdir/$libname$release.a $output_objdir/$soname'
+   	fi
+         fi
+         ;;
+ ***************
+ *** 5600,5606 ****
+         ;;
+   
+       darwin* | rhapsody*)
+ !       case "$host_os" in
+           rhapsody* | darwin1.[[012]])
+            _LT_AC_TAGVAR(allow_undefined_flag, $1)='${wl}-undefined ${wl}suppress'
+            ;;
+ --- 5825,5831 ----
+         ;;
+   
+       darwin* | rhapsody*)
+ !       case $host_os in
+           rhapsody* | darwin1.[[012]])
+            _LT_AC_TAGVAR(allow_undefined_flag, $1)='${wl}-undefined ${wl}suppress'
+            ;;
+ ***************
+ *** 5629,5635 ****
+       	output_verbose_link_cmd='echo'
+           _LT_AC_TAGVAR(archive_cmds, $1)='$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+         _LT_AC_TAGVAR(module_cmds, $1)='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+ !       # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin ld's
+         _LT_AC_TAGVAR(archive_expsym_cmds, $1)='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+         _LT_AC_TAGVAR(module_expsym_cmds, $1)='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+       else
+ --- 5854,5860 ----
+       	output_verbose_link_cmd='echo'
+           _LT_AC_TAGVAR(archive_cmds, $1)='$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+         _LT_AC_TAGVAR(module_cmds, $1)='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+ !       # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
+         _LT_AC_TAGVAR(archive_expsym_cmds, $1)='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+         _LT_AC_TAGVAR(module_expsym_cmds, $1)='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+       else
+ ***************
+ *** 5638,5644 ****
+            output_verbose_link_cmd='echo'
+            _LT_AC_TAGVAR(archive_cmds, $1)='$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $verstring'
+            _LT_AC_TAGVAR(module_cmds, $1)='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+ !           # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin ld's
+            _LT_AC_TAGVAR(archive_expsym_cmds, $1)='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}$rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             _LT_AC_TAGVAR(module_expsym_cmds, $1)='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             ;;
+ --- 5863,5869 ----
+            output_verbose_link_cmd='echo'
+            _LT_AC_TAGVAR(archive_cmds, $1)='$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $verstring'
+            _LT_AC_TAGVAR(module_cmds, $1)='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+ !           # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
+            _LT_AC_TAGVAR(archive_expsym_cmds, $1)='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}$rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             _LT_AC_TAGVAR(module_expsym_cmds, $1)='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             ;;
+ ***************
+ *** 5702,5748 ****
+         _LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-E'
+         ;;
+   
+ !     hpux10* | hpux11*)
+         if test "$GCC" = yes -a "$with_gnu_ld" = no; then
+ ! 	case "$host_cpu" in
+ ! 	hppa*64*|ia64*)
+   	  _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared ${wl}+h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
+   	  ;;
+   	*)
+   	  _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared -fPIC ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $libobjs $deplibs $compiler_flags'
+   	  ;;
+   	esac
+         else
+ ! 	case "$host_cpu" in
+ ! 	hppa*64*|ia64*)
+ ! 	  _LT_AC_TAGVAR(archive_cmds, $1)='$LD -b +h $soname -o $lib $libobjs $deplibs $linker_flags'
+   	  ;;
+   	*)
+ ! 	  _LT_AC_TAGVAR(archive_cmds, $1)='$LD -b +h $soname +b $install_libdir -o $lib $libobjs $deplibs $linker_flags'
+   	  ;;
+   	esac
+         fi
+         if test "$with_gnu_ld" = no; then
+ ! 	case "$host_cpu" in
+ ! 	hppa*64*)
+ ! 	  _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}+b ${wl}$libdir'
+   	  _LT_AC_TAGVAR(hardcode_libdir_flag_spec_ld, $1)='+b $libdir'
+ - 	  _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=:
+   	  _LT_AC_TAGVAR(hardcode_direct, $1)=no
+   	  _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
+   	  ;;
+ - 	ia64*)
+ - 	  _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='-L$libdir'
+ - 	  _LT_AC_TAGVAR(hardcode_direct, $1)=no
+ - 	  _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
+ - 
+ - 	  # hardcode_minus_L: Not really in the search PATH,
+ - 	  # but as the default location of the library.
+ - 	  _LT_AC_TAGVAR(hardcode_minus_L, $1)=yes
+ - 	  ;;
+   	*)
+ - 	  _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}+b ${wl}$libdir'
+ - 	  _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=:
+   	  _LT_AC_TAGVAR(hardcode_direct, $1)=yes
+   	  _LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-E'
+   
+ --- 5927,5988 ----
+         _LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-E'
+         ;;
+   
+ !     hpux10*)
+         if test "$GCC" = yes -a "$with_gnu_ld" = no; then
+ ! 	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared -fPIC ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $libobjs $deplibs $compiler_flags'
+ !       else
+ ! 	_LT_AC_TAGVAR(archive_cmds, $1)='$LD -b +h $soname +b $install_libdir -o $lib $libobjs $deplibs $linker_flags'
+ !       fi
+ !       if test "$with_gnu_ld" = no; then
+ ! 	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}+b ${wl}$libdir'
+ ! 	_LT_AC_TAGVAR(hardcode_libdir_separator, $1)=:
+ ! 
+ ! 	_LT_AC_TAGVAR(hardcode_direct, $1)=yes
+ ! 	_LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-E'
+ ! 
+ ! 	# hardcode_minus_L: Not really in the search PATH,
+ ! 	# but as the default location of the library.
+ ! 	_LT_AC_TAGVAR(hardcode_minus_L, $1)=yes
+ !       fi
+ !       ;;
+ ! 
+ !     hpux11*)
+ !       if test "$GCC" = yes -a "$with_gnu_ld" = no; then
+ ! 	case $host_cpu in
+ ! 	hppa*64*)
+   	  _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared ${wl}+h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
+   	  ;;
+ + 	ia64*)
+ + 	  _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared ${wl}+h ${wl}$soname ${wl}+nodefaultrpath -o $lib $libobjs $deplibs $compiler_flags'
+ + 	  ;;
+   	*)
+   	  _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared -fPIC ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $libobjs $deplibs $compiler_flags'
+   	  ;;
+   	esac
+         else
+ ! 	case $host_cpu in
+ ! 	hppa*64*)
+ ! 	  _LT_AC_TAGVAR(archive_cmds, $1)='$CC -b ${wl}+h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ ! 	  ;;
+ ! 	ia64*)
+ ! 	  _LT_AC_TAGVAR(archive_cmds, $1)='$CC -b ${wl}+h ${wl}$soname ${wl}+nodefaultrpath -o $lib $libobjs $deplibs $compiler_flags'
+   	  ;;
+   	*)
+ ! 	  _LT_AC_TAGVAR(archive_cmds, $1)='$CC -b ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $libobjs $deplibs $compiler_flags'
+   	  ;;
+   	esac
+         fi
+         if test "$with_gnu_ld" = no; then
+ ! 	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}+b ${wl}$libdir'
+ ! 	_LT_AC_TAGVAR(hardcode_libdir_separator, $1)=:
+ ! 
+ ! 	case $host_cpu in
+ ! 	hppa*64*|ia64*)
+   	  _LT_AC_TAGVAR(hardcode_libdir_flag_spec_ld, $1)='+b $libdir'
+   	  _LT_AC_TAGVAR(hardcode_direct, $1)=no
+   	  _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
+   	  ;;
+   	*)
+   	  _LT_AC_TAGVAR(hardcode_direct, $1)=yes
+   	  _LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-E'
+   
+ ***************
+ *** 5844,5857 ****
+         _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=:
+         ;;
+   
+ -     sco3.2v5*)
+ -       _LT_AC_TAGVAR(archive_cmds, $1)='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
+ -       _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
+ -       _LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-Bexport'
+ -       runpath_var=LD_RUN_PATH
+ -       hardcode_runpath_var=yes
+ -       ;;
+ - 
+       solaris*)
+         _LT_AC_TAGVAR(no_undefined_flag, $1)=' -z text'
+         if test "$GCC" = yes; then
+ --- 6084,6089 ----
+ ***************
+ *** 5937,5972 ****
+         fi
+         ;;
+   
+ !     sysv4.2uw2*)
+ !       _LT_AC_TAGVAR(archive_cmds, $1)='$LD -G -o $lib $libobjs $deplibs $linker_flags'
+ !       _LT_AC_TAGVAR(hardcode_direct, $1)=yes
+ !       _LT_AC_TAGVAR(hardcode_minus_L, $1)=no
+         _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
+ !       hardcode_runpath_var=yes
+ !       runpath_var=LD_RUN_PATH
+ !       ;;
+   
+ -    sysv5OpenUNIX8* | sysv5UnixWare7* |  sysv5uw[[78]]* | unixware7*)
+ -       _LT_AC_TAGVAR(no_undefined_flag, $1)='${wl}-z ${wl}text'
+         if test "$GCC" = yes; then
+ ! 	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared ${wl}-h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
+         else
+ ! 	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -G ${wl}-h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
+         fi
+ -       runpath_var='LD_RUN_PATH'
+ -       _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
+         ;;
+   
+ !     sysv5*)
+ !       _LT_AC_TAGVAR(no_undefined_flag, $1)=' -z text'
+ !       # $CC -shared without GNU ld will not create a library from C++
+ !       # object files and a static libstdc++, better avoid it by now
+ !       _LT_AC_TAGVAR(archive_cmds, $1)='$LD -G${allow_undefined_flag} -h $soname -o $lib $libobjs $deplibs $linker_flags'
+ !       _LT_AC_TAGVAR(archive_expsym_cmds, $1)='$echo "{ global:" > $lib.exp~cat $export_symbols | $SED -e "s/\(.*\)/\1;/" >> $lib.exp~$echo "local: *; };" >> $lib.exp~
+ !   		$LD -G${allow_undefined_flag} -M $lib.exp -h $soname -o $lib $libobjs $deplibs $linker_flags~$rm $lib.exp'
+ !       _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)=
+         _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
+         runpath_var='LD_RUN_PATH'
+         ;;
+   
+       uts4*)
+ --- 6169,6213 ----
+         fi
+         ;;
+   
+ !     sysv4*uw2* | sysv5OpenUNIX* | sysv5UnixWare7.[[01]].[[10]]* | unixware7*)
+ !       _LT_AC_TAGVAR(no_undefined_flag, $1)='${wl}-z,text'
+ !       _LT_AC_TAGVAR(archive_cmds_need_lc, $1)=no
+         _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
+ !       runpath_var='LD_RUN_PATH'
+   
+         if test "$GCC" = yes; then
+ ! 	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
+ ! 	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared ${wl}-Bexport:$export_symbols ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
+         else
+ ! 	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -G ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
+ ! 	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -G ${wl}-Bexport:$export_symbols ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
+         fi
+         ;;
+   
+ !     sysv5* | sco3.2v5* | sco5v6*)
+ !       # Note: We can NOT use -z defs as we might desire, because we do not
+ !       # link with -lc, and that would cause any symbols used from libc to
+ !       # always be unresolved, which means just about no library would
+ !       # ever link correctly.  If we're not using GNU ld we use -z text
+ !       # though, which does catch some bad symbols but isn't as heavy-handed
+ !       # as -z defs.
+ !       _LT_AC_TAGVAR(no_undefined_flag, $1)='${wl}-z,text'
+ !       _LT_AC_TAGVAR(allow_undefined_flag, $1)='${wl}-z,nodefs'
+ !       _LT_AC_TAGVAR(archive_cmds_need_lc, $1)=no
+         _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
+ +       _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='`test -z "$SCOABSPATH" && echo ${wl}-R,$libdir`'
+ +       _LT_AC_TAGVAR(hardcode_libdir_separator, $1)=':'
+ +       _LT_AC_TAGVAR(link_all_deplibs, $1)=yes
+ +       _LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-Bexport'
+         runpath_var='LD_RUN_PATH'
+ + 
+ +       if test "$GCC" = yes; then
+ + 	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ + 	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared ${wl}-Bexport:$export_symbols ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ +       else
+ + 	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -G ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ + 	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -G ${wl}-Bexport:$export_symbols ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ +       fi
+         ;;
+   
+       uts4*)
+ ***************
+ *** 5984,5994 ****
+   AC_MSG_RESULT([$_LT_AC_TAGVAR(ld_shlibs, $1)])
+   test "$_LT_AC_TAGVAR(ld_shlibs, $1)" = no && can_build_shared=no
+   
+ - variables_saved_for_relink="PATH $shlibpath_var $runpath_var"
+ - if test "$GCC" = yes; then
+ -   variables_saved_for_relink="$variables_saved_for_relink GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH"
+ - fi
+ - 
+   #
+   # Do we need to explicitly link libc?
+   #
+ --- 6225,6230 ----
+ ***************
+ *** 6016,6021 ****
+ --- 6252,6258 ----
+           libobjs=conftest.$ac_objext
+           deplibs=
+           wl=$_LT_AC_TAGVAR(lt_prog_compiler_wl, $1)
+ + 	pic_flag=$_LT_AC_TAGVAR(lt_prog_compiler_pic, $1)
+           compiler_flags=-v
+           linker_flags=-v
+           verstring=
+ ***************
+ *** 6136,6141 ****
+ --- 6373,6379 ----
+       done
+     done
+   done
+ + IFS=$as_save_IFS
+   lt_ac_max=0
+   lt_ac_count=0
+   # Add /usr/xpg4/bin/sed as it is typically found on Solaris
+ ***************
+ *** 6168,6173 ****
+ --- 6406,6412 ----
+   done
+   ])
+   SED=$lt_cv_path_SED
+ + AC_SUBST([SED])
+   AC_MSG_RESULT([$SED])
+   ])
+   
+ ***************
+ *** 6188,6194 ****
+   # Call AM_AUTOMAKE_VERSION so it can be traced.
+   # This function is AC_REQUIREd by AC_INIT_AUTOMAKE.
+   AC_DEFUN([AM_SET_CURRENT_AUTOMAKE_VERSION],
+ ! 	 [AM_AUTOMAKE_VERSION([1.9.5])])
+   
+   # AM_AUX_DIR_EXPAND                                         -*- Autoconf -*-
+   
+ --- 6427,6433 ----
+   # Call AM_AUTOMAKE_VERSION so it can be traced.
+   # This function is AC_REQUIREd by AC_INIT_AUTOMAKE.
+   AC_DEFUN([AM_SET_CURRENT_AUTOMAKE_VERSION],
+ ! 	 [AM_AUTOMAKE_VERSION([1.9.6])])
+   
+   # AM_AUX_DIR_EXPAND                                         -*- Autoconf -*-
+   
+ diff -cNr ipmitool-1.8.11.orig/config.h.in ipmitool-1.8.11/config.h.in
+ *** ipmitool-1.8.11.orig/config.h.in	2009-02-25 13:21:35.000000000 -0800
+ --- ipmitool-1.8.11/config.h.in	2012-08-06 14:48:15.323739000 -0700
+ ***************
+ *** 1,4 ****
+ --- 1,5 ----
+   /* config.h.in.  Generated from configure.in by autoheader.  */
+ + /* Added this comment to force update by patch               */
+   
+   /* Define to 1 to enable all command line options. */
+   #undef ENABLE_ALL_OPTIONS
+ diff -cNr ipmitool-1.8.11.orig/Makefile.in ipmitool-1.8.11/Makefile.in
+ *** ipmitool-1.8.11.orig/Makefile.in	2009-02-25 13:22:04.000000000 -0800
+ --- ipmitool-1.8.11/Makefile.in	2012-08-06 14:22:13.534745000 -0700
+ ***************
+ *** 1,4 ****
+ ! # Makefile.in generated by automake 1.9.5 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ --- 1,4 ----
+ ! # Makefile.in generated by automake 1.9.6 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ ***************
+ *** 488,494 ****
+   	$(MAKE) $(AM_MAKEFLAGS) \
+   	  top_distdir="$(top_distdir)" distdir="$(distdir)" \
+   	  dist-hook
+ ! 	-find $(distdir) -type d ! -perm -777 -exec chmod a+rwx {} \; -o \
+   	  ! -type d ! -perm -444 -links 1 -exec chmod a+r {} \; -o \
+   	  ! -type d ! -perm -400 -exec chmod a+r {} \; -o \
+   	  ! -type d ! -perm -444 -exec $(SHELL) $(install_sh) -c -m a+r {} {} \; \
+ --- 488,494 ----
+   	$(MAKE) $(AM_MAKEFLAGS) \
+   	  top_distdir="$(top_distdir)" distdir="$(distdir)" \
+   	  dist-hook
+ ! 	-find $(distdir) -type d ! -perm -755 -exec chmod a+rwx,go+rx {} \; -o \
+   	  ! -type d ! -perm -444 -links 1 -exec chmod a+r {} \; -o \
+   	  ! -type d ! -perm -400 -exec chmod a+r {} \; -o \
+   	  ! -type d ! -perm -444 -exec $(SHELL) $(install_sh) -c -m a+r {} {} \; \
+ diff -cNr ipmitool-1.8.11.orig/configure ipmitool-1.8.11/configure
+ *** ipmitool-1.8.11.orig/configure	2009-02-25 13:21:56.000000000 -0800
+ --- ipmitool-1.8.11/configure	2012-08-06 14:22:14.077753000 -0700
+ ***************
+ *** 1,6 ****
+   #! /bin/sh
+   # Guess values for system-dependent variables and create Makefiles.
+ ! # Generated by GNU Autoconf 2.59.
+   #
+   # Copyright (C) 2003 Free Software Foundation, Inc.
+   # This configure script is free software; the Free Software Foundation
+ --- 1,6 ----
+   #! /bin/sh
+   # Guess values for system-dependent variables and create Makefiles.
+ ! # Generated by GNU Autoconf 2.59 for ipmitool 1.8.11.
+   #
+   # Copyright (C) 2003 Free Software Foundation, Inc.
+   # This configure script is free software; the Free Software Foundation
+ ***************
+ *** 285,292 ****
+   # find a string as large as possible, as long as the shell can cope with it
+     for cmd in 'sed 50q "$0"' 'sed 20q "$0"' 'sed 10q "$0"' 'sed 2q "$0"' 'echo test'; do
+       # expected sizes: less than 2Kb, 1Kb, 512 bytes, 16 bytes, ...
+ !     if (echo_test_string="`eval $cmd`") 2>/dev/null &&
+ !        echo_test_string="`eval $cmd`" &&
+          (test "X$echo_test_string" = "X$echo_test_string") 2>/dev/null
+       then
+         break
+ --- 285,292 ----
+   # find a string as large as possible, as long as the shell can cope with it
+     for cmd in 'sed 50q "$0"' 'sed 20q "$0"' 'sed 10q "$0"' 'sed 2q "$0"' 'echo test'; do
+       # expected sizes: less than 2Kb, 1Kb, 512 bytes, 16 bytes, ...
+ !     if (echo_test_string=`eval $cmd`) 2>/dev/null &&
+ !        echo_test_string=`eval $cmd` &&
+          (test "X$echo_test_string" = "X$echo_test_string") 2>/dev/null
+       then
+         break
+ ***************
+ *** 419,432 ****
+   : ${ac_max_here_lines=38}
+   
+   # Identity of this package.
+ ! PACKAGE_NAME=
+ ! PACKAGE_TARNAME=
+ ! PACKAGE_VERSION=
+ ! PACKAGE_STRING=
+ ! PACKAGE_BUGREPORT=
+   
+   ac_unique_file="src/ipmitool.c"
+ - ac_unique_file="src/ipmitool.c"
+   # Factoring default headers for most tests.
+   ac_includes_default="\
+   #include <stdio.h>
+ --- 419,431 ----
+   : ${ac_max_here_lines=38}
+   
+   # Identity of this package.
+ ! PACKAGE_NAME='ipmitool'
+ ! PACKAGE_TARNAME='ipmitool'
+ ! PACKAGE_VERSION='1.8.11'
+ ! PACKAGE_STRING='ipmitool 1.8.11'
+ ! PACKAGE_BUGREPORT=''
+   
+   ac_unique_file="src/ipmitool.c"
+   # Factoring default headers for most tests.
+   ac_includes_default="\
+   #include <stdio.h>
+ ***************
+ *** 953,959 ****
+     # Omit some internal or obsolete options to make the list less imposing.
+     # This message is too long to be a string in the A/UX 3.1 sh.
+     cat <<_ACEOF
+ ! \`configure' configures this package to adapt to many kinds of systems.
+   
+   Usage: $0 [OPTION]... [VAR=VALUE]...
+   
+ --- 952,958 ----
+     # Omit some internal or obsolete options to make the list less imposing.
+     # This message is too long to be a string in the A/UX 3.1 sh.
+     cat <<_ACEOF
+ ! \`configure' configures ipmitool 1.8.11 to adapt to many kinds of systems.
+   
+   Usage: $0 [OPTION]... [VAR=VALUE]...
+   
+ ***************
+ *** 1019,1025 ****
+   fi
+   
+   if test -n "$ac_init_help"; then
+ ! 
+     cat <<\_ACEOF
+   
+   Optional Features:
+ --- 1018,1026 ----
+   fi
+   
+   if test -n "$ac_init_help"; then
+ !   case $ac_init_help in
+ !      short | recursive ) echo "Configuration of ipmitool 1.8.11:";;
+ !    esac
+     cat <<\_ACEOF
+   
+   Optional Features:
+ ***************
+ *** 1175,1180 ****
+ --- 1176,1183 ----
+   test -n "$ac_init_help" && exit 0
+   if $ac_init_version; then
+     cat <<\_ACEOF
+ + ipmitool configure 1.8.11
+ + generated by GNU Autoconf 2.59
+   
+   Copyright (C) 2003 Free Software Foundation, Inc.
+   This configure script is free software; the Free Software Foundation
+ ***************
+ *** 1187,1193 ****
+   This file contains any messages produced by compilers while
+   running configure, to aid debugging if configure makes a mistake.
+   
+ ! It was created by $as_me, which was
+   generated by GNU Autoconf 2.59.  Invocation command line was
+   
+     $ $0 $@
+ --- 1190,1196 ----
+   This file contains any messages produced by compilers while
+   running configure, to aid debugging if configure makes a mistake.
+   
+ ! It was created by ipmitool $as_me 1.8.11, which was
+   generated by GNU Autoconf 2.59.  Invocation command line was
+   
+     $ $0 $@
+ ***************
+ *** 1515,1520 ****
+ --- 1518,1531 ----
+   
+   
+   
+ + 
+ + 
+ + 
+ + 
+ + 
+ + 
+ + 
+ + 
+   ac_aux_dir=
+   for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do
+     if test -f $ac_dir/install-sh; then
+ ***************
+ *** 1903,1910 ****
+   
+   
+   # Define the identity of the package.
+ !  PACKAGE=ipmitool
+ !  VERSION=1.8.11
+   
+   
+   cat >>confdefs.h <<_ACEOF
+ --- 1914,1921 ----
+   
+   
+   # Define the identity of the package.
+ !  PACKAGE='ipmitool'
+ !  VERSION='1.8.11'
+   
+   
+   cat >>confdefs.h <<_ACEOF
+ ***************
+ *** 3951,3959 ****
+   echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+       (
+         cat <<\_ASBOX
+ ! ## ------------------------------------------ ##
+ ! ## Report this to the AC_PACKAGE_NAME lists.  ##
+ ! ## ------------------------------------------ ##
+   _ASBOX
+       ) |
+         sed "s/^/$as_me: WARNING:     /" >&2
+ --- 3962,3970 ----
+   echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+       (
+         cat <<\_ASBOX
+ ! ## ----------------------------------- ##
+ ! ## Report this to the ipmitool lists.  ##
+ ! ## ----------------------------------- ##
+   _ASBOX
+       ) |
+         sed "s/^/$as_me: WARNING:     /" >&2
+ ***************
+ *** 4105,4113 ****
+   echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+       (
+         cat <<\_ASBOX
+ ! ## ------------------------------------------ ##
+ ! ## Report this to the AC_PACKAGE_NAME lists.  ##
+ ! ## ------------------------------------------ ##
+   _ASBOX
+       ) |
+         sed "s/^/$as_me: WARNING:     /" >&2
+ --- 4116,4124 ----
+   echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+       (
+         cat <<\_ASBOX
+ ! ## ----------------------------------- ##
+ ! ## Report this to the ipmitool lists.  ##
+ ! ## ----------------------------------- ##
+   _ASBOX
+       ) |
+         sed "s/^/$as_me: WARNING:     /" >&2
+ ***************
+ *** 4256,4264 ****
+   echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+       (
+         cat <<\_ASBOX
+ ! ## ------------------------------------------ ##
+ ! ## Report this to the AC_PACKAGE_NAME lists.  ##
+ ! ## ------------------------------------------ ##
+   _ASBOX
+       ) |
+         sed "s/^/$as_me: WARNING:     /" >&2
+ --- 4267,4275 ----
+   echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+       (
+         cat <<\_ASBOX
+ ! ## ----------------------------------- ##
+ ! ## Report this to the ipmitool lists.  ##
+ ! ## ----------------------------------- ##
+   _ASBOX
+       ) |
+         sed "s/^/$as_me: WARNING:     /" >&2
+ ***************
+ *** 4816,4824 ****
+   echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+       (
+         cat <<\_ASBOX
+ ! ## ------------------------------------------ ##
+ ! ## Report this to the AC_PACKAGE_NAME lists.  ##
+ ! ## ------------------------------------------ ##
+   _ASBOX
+       ) |
+         sed "s/^/$as_me: WARNING:     /" >&2
+ --- 4827,4835 ----
+   echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+       (
+         cat <<\_ASBOX
+ ! ## ----------------------------------- ##
+ ! ## Report this to the ipmitool lists.  ##
+ ! ## ----------------------------------- ##
+   _ASBOX
+       ) |
+         sed "s/^/$as_me: WARNING:     /" >&2
+ ***************
+ *** 5048,5056 ****
+   echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+       (
+         cat <<\_ASBOX
+ ! ## ------------------------------------------ ##
+ ! ## Report this to the AC_PACKAGE_NAME lists.  ##
+ ! ## ------------------------------------------ ##
+   _ASBOX
+       ) |
+         sed "s/^/$as_me: WARNING:     /" >&2
+ --- 5059,5067 ----
+   echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+       (
+         cat <<\_ASBOX
+ ! ## ----------------------------------- ##
+ ! ## Report this to the ipmitool lists.  ##
+ ! ## ----------------------------------- ##
+   _ASBOX
+       ) |
+         sed "s/^/$as_me: WARNING:     /" >&2
+ ***************
+ *** 5818,5823 ****
+ --- 5829,5835 ----
+       done
+     done
+   done
+ + IFS=$as_save_IFS
+   lt_ac_max=0
+   lt_ac_count=0
+   # Add /usr/xpg4/bin/sed as it is typically found on Solaris
+ ***************
+ *** 5852,5857 ****
+ --- 5864,5870 ----
+   fi
+   
+   SED=$lt_cv_path_SED
+ + 
+   echo "$as_me:$LINENO: result: $SED" >&5
+   echo "${ECHO_T}$SED" >&6
+   
+ ***************
+ *** 5913,5919 ****
+       if test -f "$ac_dir/$ac_prog" || test -f "$ac_dir/$ac_prog$ac_exeext"; then
+         lt_cv_path_LD="$ac_dir/$ac_prog"
+         # Check to see if the program is GNU ld.  I'd rather use --version,
+ !       # but apparently some GNU ld's only accept -v.
+         # Break only if it was the GNU/non-GNU ld that we prefer.
+         case `"$lt_cv_path_LD" -v 2>&1 </dev/null` in
+         *GNU* | *'with BFD'*)
+ --- 5926,5932 ----
+       if test -f "$ac_dir/$ac_prog" || test -f "$ac_dir/$ac_prog$ac_exeext"; then
+         lt_cv_path_LD="$ac_dir/$ac_prog"
+         # Check to see if the program is GNU ld.  I'd rather use --version,
+ !       # but apparently some variants of GNU ld only accept -v.
+         # Break only if it was the GNU/non-GNU ld that we prefer.
+         case `"$lt_cv_path_LD" -v 2>&1 </dev/null` in
+         *GNU* | *'with BFD'*)
+ ***************
+ *** 5947,5953 ****
+   if test "${lt_cv_prog_gnu_ld+set}" = set; then
+     echo $ECHO_N "(cached) $ECHO_C" >&6
+   else
+ !   # I'd rather use --version here, but apparently some GNU ld's only accept -v.
+   case `$LD -v 2>&1 </dev/null` in
+   *GNU* | *'with BFD'*)
+     lt_cv_prog_gnu_ld=yes
+ --- 5960,5966 ----
+   if test "${lt_cv_prog_gnu_ld+set}" = set; then
+     echo $ECHO_N "(cached) $ECHO_C" >&6
+   else
+ !   # I'd rather use --version here, but apparently some GNU lds only accept -v.
+   case `$LD -v 2>&1 </dev/null` in
+   *GNU* | *'with BFD'*)
+     lt_cv_prog_gnu_ld=yes
+ ***************
+ *** 5980,5986 ****
+   case $host_os in
+     darwin*)
+       if test "$GCC" = yes; then
+ !       reload_cmds='$CC -nostdlib ${wl}-r -o $output$reload_objs'
+       else
+         reload_cmds='$LD$reload_flag -o $output$reload_objs'
+       fi
+ --- 5993,5999 ----
+   case $host_os in
+     darwin*)
+       if test "$GCC" = yes; then
+ !       reload_cmds='$LTCC $LTCFLAGS -nostdlib ${wl}-r -o $output$reload_objs'
+       else
+         reload_cmds='$LD$reload_flag -o $output$reload_objs'
+       fi
+ ***************
+ *** 5996,6031 ****
+     # Let the user override the test.
+     lt_cv_path_NM="$NM"
+   else
+ !   lt_save_ifs="$IFS"; IFS=$PATH_SEPARATOR
+ !   for ac_dir in $PATH /usr/ccs/bin /usr/ucb /bin; do
+ !     IFS="$lt_save_ifs"
+ !     test -z "$ac_dir" && ac_dir=.
+ !     tmp_nm="$ac_dir/${ac_tool_prefix}nm"
+ !     if test -f "$tmp_nm" || test -f "$tmp_nm$ac_exeext" ; then
+ !       # Check to see if the nm accepts a BSD-compat flag.
+ !       # Adding the `sed 1q' prevents false positives on HP-UX, which says:
+ !       #   nm: unknown option "B" ignored
+ !       # Tru64's nm complains that /dev/null is an invalid object file
+ !       case `"$tmp_nm" -B /dev/null 2>&1 | sed '1q'` in
+ !       */dev/null* | *'Invalid file or object type'*)
+ ! 	lt_cv_path_NM="$tmp_nm -B"
+ ! 	break
+ !         ;;
+ !       *)
+ ! 	case `"$tmp_nm" -p /dev/null 2>&1 | sed '1q'` in
+ ! 	*/dev/null*)
+ ! 	  lt_cv_path_NM="$tmp_nm -p"
+   	  break
+   	  ;;
+   	*)
+ ! 	  lt_cv_path_NM=${lt_cv_path_NM="$tmp_nm"} # keep the first match, but
+ ! 	  continue # so that we can try to find one that supports BSD flags
+   	  ;;
+   	esac
+ !       esac
+ !     fi
+     done
+ -   IFS="$lt_save_ifs"
+     test -z "$lt_cv_path_NM" && lt_cv_path_NM=nm
+   fi
+   fi
+ --- 6009,6051 ----
+     # Let the user override the test.
+     lt_cv_path_NM="$NM"
+   else
+ !   lt_nm_to_check="${ac_tool_prefix}nm"
+ !   if test -n "$ac_tool_prefix" && test "$build" = "$host"; then
+ !     lt_nm_to_check="$lt_nm_to_check nm"
+ !   fi
+ !   for lt_tmp_nm in $lt_nm_to_check; do
+ !     lt_save_ifs="$IFS"; IFS=$PATH_SEPARATOR
+ !     for ac_dir in $PATH /usr/ccs/bin/elf /usr/ccs/bin /usr/ucb /bin; do
+ !       IFS="$lt_save_ifs"
+ !       test -z "$ac_dir" && ac_dir=.
+ !       tmp_nm="$ac_dir/$lt_tmp_nm"
+ !       if test -f "$tmp_nm" || test -f "$tmp_nm$ac_exeext" ; then
+ ! 	# Check to see if the nm accepts a BSD-compat flag.
+ ! 	# Adding the `sed 1q' prevents false positives on HP-UX, which says:
+ ! 	#   nm: unknown option "B" ignored
+ ! 	# Tru64's nm complains that /dev/null is an invalid object file
+ ! 	case `"$tmp_nm" -B /dev/null 2>&1 | sed '1q'` in
+ ! 	*/dev/null* | *'Invalid file or object type'*)
+ ! 	  lt_cv_path_NM="$tmp_nm -B"
+   	  break
+   	  ;;
+   	*)
+ ! 	  case `"$tmp_nm" -p /dev/null 2>&1 | sed '1q'` in
+ ! 	  */dev/null*)
+ ! 	    lt_cv_path_NM="$tmp_nm -p"
+ ! 	    break
+ ! 	    ;;
+ ! 	  *)
+ ! 	    lt_cv_path_NM=${lt_cv_path_NM="$tmp_nm"} # keep the first match, but
+ ! 	    continue # so that we can try to find one that supports BSD flags
+ ! 	    ;;
+ ! 	  esac
+   	  ;;
+   	esac
+ !       fi
+ !     done
+ !     IFS="$lt_save_ifs"
+     done
+     test -z "$lt_cv_path_NM" && lt_cv_path_NM=nm
+   fi
+   fi
+ ***************
+ *** 6106,6112 ****
+   
+   hpux10.20* | hpux11*)
+     lt_cv_file_magic_cmd=/usr/bin/file
+ !   case "$host_cpu" in
+     ia64*)
+       lt_cv_deplibs_check_method='file_magic (s[0-9][0-9][0-9]|ELF-[0-9][0-9]) shared object file - IA64'
+       lt_cv_file_magic_test_file=/usr/lib/hpux32/libc.so
+ --- 6126,6132 ----
+   
+   hpux10.20* | hpux11*)
+     lt_cv_file_magic_cmd=/usr/bin/file
+ !   case $host_cpu in
+     ia64*)
+       lt_cv_deplibs_check_method='file_magic (s[0-9][0-9][0-9]|ELF-[0-9][0-9]) shared object file - IA64'
+       lt_cv_file_magic_test_file=/usr/lib/hpux32/libc.so
+ ***************
+ *** 6122,6127 ****
+ --- 6142,6152 ----
+     esac
+     ;;
+   
+ + interix3*)
+ +   # PIC code is broken on Interix 3.x, that's why |\.a not |_pic\.a here
+ +   lt_cv_deplibs_check_method='match_pattern /lib[^/]+(\.so|\.a)$'
+ +   ;;
+ + 
+   irix5* | irix6* | nonstopux*)
+     case $LD in
+     *-32|*"-32 ") libmagic=32-bit;;
+ ***************
+ *** 6167,6181 ****
+     lt_cv_deplibs_check_method=pass_all
+     ;;
+   
+ - sco3.2v5*)
+ -   lt_cv_deplibs_check_method=pass_all
+ -   ;;
+ - 
+   solaris*)
+     lt_cv_deplibs_check_method=pass_all
+     ;;
+   
+ ! sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)
+     case $host_vendor in
+     motorola)
+       lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (shared object|dynamic lib) M[0-9][0-9]* Version [0-9]'
+ --- 6192,6202 ----
+     lt_cv_deplibs_check_method=pass_all
+     ;;
+   
+   solaris*)
+     lt_cv_deplibs_check_method=pass_all
+     ;;
+   
+ ! sysv4 | sysv4.3*)
+     case $host_vendor in
+     motorola)
+       lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (shared object|dynamic lib) M[0-9][0-9]* Version [0-9]'
+ ***************
+ *** 6196,6205 ****
+     siemens)
+       lt_cv_deplibs_check_method=pass_all
+       ;;
+     esac
+     ;;
+   
+ ! sysv5OpenUNIX8* | sysv5UnixWare7* | sysv5uw[78]* | unixware7* | sysv4*uw2*)
+     lt_cv_deplibs_check_method=pass_all
+     ;;
+   esac
+ --- 6217,6229 ----
+     siemens)
+       lt_cv_deplibs_check_method=pass_all
+       ;;
+ +   pc)
+ +     lt_cv_deplibs_check_method=pass_all
+ +     ;;
+     esac
+     ;;
+   
+ ! sysv5* | sco3.2v5* | sco5v6* | unixware* | OpenUNIX* | sysv4*uw2*)
+     lt_cv_deplibs_check_method=pass_all
+     ;;
+   esac
+ ***************
+ *** 6217,6222 ****
+ --- 6241,6249 ----
+   # If no C compiler was specified, use CC.
+   LTCC=${LTCC-"$CC"}
+   
+ + # If no C compiler flags were specified, use CFLAGS.
+ + LTCFLAGS=${LTCFLAGS-"$CFLAGS"}
+ + 
+   # Allow CC to be a program name with arguments.
+   compiler=$CC
+   
+ ***************
+ *** 6251,6257 ****
+     ;;
+   *-*-irix6*)
+     # Find out which ABI we are using.
+ !   echo '#line 6254 "configure"' > conftest.$ac_ext
+     if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+     (eval $ac_compile) 2>&5
+     ac_status=$?
+ --- 6278,6284 ----
+     ;;
+   *-*-irix6*)
+     # Find out which ABI we are using.
+ !   echo '#line 6281 "configure"' > conftest.$ac_ext
+     if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+     (eval $ac_compile) 2>&5
+     ac_status=$?
+ ***************
+ *** 6294,6300 ****
+     ac_status=$?
+     echo "$as_me:$LINENO: \$? = $ac_status" >&5
+     (exit $ac_status); }; then
+ !     case "`/usr/bin/file conftest.o`" in
+       *32-bit*)
+         case $host in
+           x86_64-*linux*)
+ --- 6321,6327 ----
+     ac_status=$?
+     echo "$as_me:$LINENO: \$? = $ac_status" >&5
+     (exit $ac_status); }; then
+ !     case `/usr/bin/file conftest.o` in
+       *32-bit*)
+         case $host in
+           x86_64-*linux*)
+ ***************
+ *** 6407,6412 ****
+ --- 6434,6459 ----
+       CFLAGS="$SAVE_CFLAGS"
+     fi
+     ;;
+ + sparc*-*solaris*)
+ +   # Find out which ABI we are using.
+ +   echo 'int i;' > conftest.$ac_ext
+ +   if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+ +   (eval $ac_compile) 2>&5
+ +   ac_status=$?
+ +   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ +   (exit $ac_status); }; then
+ +     case `/usr/bin/file conftest.o` in
+ +     *64-bit*)
+ +       case $lt_cv_prog_gnu_ld in
+ +       yes*) LD="${LD-ld} -m elf64_sparc" ;;
+ +       *)    LD="${LD-ld} -64" ;;
+ +       esac
+ +       ;;
+ +     esac
+ +   fi
+ +   rm -rf conftest*
+ +   ;;
+ + 
+   
+   esac
+   
+ ***************
+ *** 6535,6543 ****
+   echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+       (
+         cat <<\_ASBOX
+ ! ## ------------------------------------------ ##
+ ! ## Report this to the AC_PACKAGE_NAME lists.  ##
+ ! ## ------------------------------------------ ##
+   _ASBOX
+       ) |
+         sed "s/^/$as_me: WARNING:     /" >&2
+ --- 6582,6590 ----
+   echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
+       (
+         cat <<\_ASBOX
+ ! ## ----------------------------------- ##
+ ! ## Report this to the ipmitool lists.  ##
+ ! ## ----------------------------------- ##
+   _ASBOX
+       ) |
+         sed "s/^/$as_me: WARNING:     /" >&2
+ ***************
+ *** 7357,7363 ****
+   
+   
+   # Provide some information about the compiler.
+ ! echo "$as_me:7360:" \
+        "checking for Fortran 77 compiler version" >&5
+   ac_compiler=`set X $ac_compile; echo $2`
+   { (eval echo "$as_me:$LINENO: \"$ac_compiler --version </dev/null >&5\"") >&5
+ --- 7404,7410 ----
+   
+   
+   # Provide some information about the compiler.
+ ! echo "$as_me:7407:" \
+        "checking for Fortran 77 compiler version" >&5
+   ac_compiler=`set X $ac_compile; echo $2`
+   { (eval echo "$as_me:$LINENO: \"$ac_compiler --version </dev/null >&5\"") >&5
+ ***************
+ *** 7554,7565 ****
+       elif test -x /usr/sbin/sysctl; then
+         lt_cv_sys_max_cmd_len=`/usr/sbin/sysctl -n kern.argmax`
+       else
+ !       lt_cv_sys_max_cmd_len=65536 # usable default for *BSD
+       fi
+       # And add a safety zone
+       lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \/ 4`
+       lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \* 3`
+       ;;
+     osf*)
+       # Dr. Hans Ekkehard Plesser reports seeing a kernel panic running configure
+       # due to this test when exec_disable_arg_limit is 1 on Tru64. It is not
+ --- 7601,7618 ----
+       elif test -x /usr/sbin/sysctl; then
+         lt_cv_sys_max_cmd_len=`/usr/sbin/sysctl -n kern.argmax`
+       else
+ !       lt_cv_sys_max_cmd_len=65536	# usable default for all BSDs
+       fi
+       # And add a safety zone
+       lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \/ 4`
+       lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \* 3`
+       ;;
+ + 
+ +   interix*)
+ +     # We know the value 262144 and hardcode it with a safety zone (like BSD)
+ +     lt_cv_sys_max_cmd_len=196608
+ +     ;;
+ + 
+     osf*)
+       # Dr. Hans Ekkehard Plesser reports seeing a kernel panic running configure
+       # due to this test when exec_disable_arg_limit is 1 on Tru64. It is not
+ ***************
+ *** 7573,7578 ****
+ --- 7626,7642 ----
+         esac
+       fi
+       ;;
+ +   sco3.2v5*)
+ +     lt_cv_sys_max_cmd_len=102400
+ +     ;;
+ +   sysv5* | sco5v6* | sysv4.2uw2*)
+ +     kargmax=`grep ARG_MAX /etc/conf/cf.d/stune 2>/dev/null`
+ +     if test -n "$kargmax"; then
+ +       lt_cv_sys_max_cmd_len=`echo $kargmax | sed 's/.*[ 	]//'`
+ +     else
+ +       lt_cv_sys_max_cmd_len=32768
+ +     fi
+ +     ;;
+     *)
+       # If test is not a shell built-in, we'll probably end up computing a
+       # maximum length that is only half of the actual maximum length, but
+ ***************
+ *** 7658,7666 ****
+   osf*)
+     symcode='[BCDEGQRST]'
+     ;;
+ ! solaris* | sysv5*)
+     symcode='[BDRT]'
+     ;;
+   sysv4)
+     symcode='[DFNSTU]'
+     ;;
+ --- 7722,7739 ----
+   osf*)
+     symcode='[BCDEGQRST]'
+     ;;
+ ! solaris*)
+     symcode='[BDRT]'
+     ;;
+ + sco3.2v5*)
+ +   symcode='[DT]'
+ +   ;;
+ + sysv4.2uw2*)
+ +   symcode='[DT]'
+ +   ;;
+ + sysv5* | sco5v6* | unixware* | OpenUNIX*)
+ +   symcode='[ABDT]'
+ +   ;;
+   sysv4)
+     symcode='[DFNSTU]'
+     ;;
+ ***************
+ *** 7869,7875 ****
+   default_ofile=libtool
+   can_build_shared=yes
+   
+ ! # All known linkers require a `.a' archive for static linking (except M$VC,
+   # which needs '.lib').
+   libext=a
+   ltmain="$ac_aux_dir/ltmain.sh"
+ --- 7942,7948 ----
+   default_ofile=libtool
+   can_build_shared=yes
+   
+ ! # All known linkers require a `.a' archive for static linking (except MSVC,
+   # which needs '.lib').
+   libext=a
+   ltmain="$ac_aux_dir/ltmain.sh"
+ ***************
+ *** 8126,8131 ****
+ --- 8199,8205 ----
+   test -z "$AS" && AS=as
+   test -z "$CC" && CC=cc
+   test -z "$LTCC" && LTCC=$CC
+ + test -z "$LTCFLAGS" && LTCFLAGS=$CFLAGS
+   test -z "$DLLTOOL" && DLLTOOL=dlltool
+   test -z "$LD" && LD=ld
+   test -z "$LN_S" && LN_S="ln -s"
+ ***************
+ *** 8145,8154 ****
+   if test -n "$RANLIB"; then
+     case $host_os in
+     openbsd*)
+ !     old_postinstall_cmds="\$RANLIB -t \$oldlib~$old_postinstall_cmds"
+       ;;
+     *)
+ !     old_postinstall_cmds="\$RANLIB \$oldlib~$old_postinstall_cmds"
+       ;;
+     esac
+     old_archive_cmds="$old_archive_cmds~\$RANLIB \$oldlib"
+ --- 8219,8228 ----
+   if test -n "$RANLIB"; then
+     case $host_os in
+     openbsd*)
+ !     old_postinstall_cmds="$old_postinstall_cmds~\$RANLIB -t \$oldlib"
+       ;;
+     *)
+ !     old_postinstall_cmds="$old_postinstall_cmds~\$RANLIB \$oldlib"
+       ;;
+     esac
+     old_archive_cmds="$old_archive_cmds~\$RANLIB \$oldlib"
+ ***************
+ *** 8190,8196 ****
+         if test -n "$file_magic_test_file"; then
+   	case $deplibs_check_method in
+   	"file_magic "*)
+ ! 	  file_magic_regex="`expr \"$deplibs_check_method\" : \"file_magic \(.*\)\"`"
+   	  MAGIC_CMD="$lt_cv_path_MAGIC_CMD"
+   	  if eval $file_magic_cmd \$file_magic_test_file 2> /dev/null |
+   	    $EGREP "$file_magic_regex" > /dev/null; then
+ --- 8264,8270 ----
+         if test -n "$file_magic_test_file"; then
+   	case $deplibs_check_method in
+   	"file_magic "*)
+ ! 	  file_magic_regex=`expr "$deplibs_check_method" : "file_magic \(.*\)"`
+   	  MAGIC_CMD="$lt_cv_path_MAGIC_CMD"
+   	  if eval $file_magic_cmd \$file_magic_test_file 2> /dev/null |
+   	    $EGREP "$file_magic_regex" > /dev/null; then
+ ***************
+ *** 8252,8258 ****
+         if test -n "$file_magic_test_file"; then
+   	case $deplibs_check_method in
+   	"file_magic "*)
+ ! 	  file_magic_regex="`expr \"$deplibs_check_method\" : \"file_magic \(.*\)\"`"
+   	  MAGIC_CMD="$lt_cv_path_MAGIC_CMD"
+   	  if eval $file_magic_cmd \$file_magic_test_file 2> /dev/null |
+   	    $EGREP "$file_magic_regex" > /dev/null; then
+ --- 8326,8332 ----
+         if test -n "$file_magic_test_file"; then
+   	case $deplibs_check_method in
+   	"file_magic "*)
+ ! 	  file_magic_regex=`expr "$deplibs_check_method" : "file_magic \(.*\)"`
+   	  MAGIC_CMD="$lt_cv_path_MAGIC_CMD"
+   	  if eval $file_magic_cmd \$file_magic_test_file 2> /dev/null |
+   	    $EGREP "$file_magic_regex" > /dev/null; then
+ ***************
+ *** 8347,8352 ****
+ --- 8421,8429 ----
+   # If no C compiler was specified, use CC.
+   LTCC=${LTCC-"$CC"}
+   
+ + # If no C compiler flags were specified, use CFLAGS.
+ + LTCFLAGS=${LTCFLAGS-"$CFLAGS"}
+ + 
+   # Allow CC to be a program name with arguments.
+   compiler=$CC
+   
+ ***************
+ *** 8354,8435 ****
+   # save warnings/boilerplate of simple test code
+   ac_outfile=conftest.$ac_objext
+   printf "$lt_simple_compile_test_code" >conftest.$ac_ext
+ ! eval "$ac_compile" 2>&1 >/dev/null | $SED '/^$/d' >conftest.err
+   _lt_compiler_boilerplate=`cat conftest.err`
+   $rm conftest*
+   
+   ac_outfile=conftest.$ac_objext
+   printf "$lt_simple_link_test_code" >conftest.$ac_ext
+ ! eval "$ac_link" 2>&1 >/dev/null | $SED '/^$/d' >conftest.err
+   _lt_linker_boilerplate=`cat conftest.err`
+   $rm conftest*
+   
+   
+ - #
+ - # Check for any special shared library compilation flags.
+ - #
+ - lt_prog_cc_shlib=
+ - if test "$GCC" = no; then
+ -   case $host_os in
+ -   sco3.2v5*)
+ -     lt_prog_cc_shlib='-belf'
+ -     ;;
+ -   esac
+ - fi
+ - if test -n "$lt_prog_cc_shlib"; then
+ -   { echo "$as_me:$LINENO: WARNING: \`$CC' requires \`$lt_prog_cc_shlib' to build shared libraries" >&5
+ - echo "$as_me: WARNING: \`$CC' requires \`$lt_prog_cc_shlib' to build shared libraries" >&2;}
+ -   if echo "$old_CC $old_CFLAGS " | grep "[ 	]$lt_prog_cc_shlib[ 	]" >/dev/null; then :
+ -   else
+ -     { echo "$as_me:$LINENO: WARNING: add \`$lt_prog_cc_shlib' to the CC or CFLAGS env variable and reconfigure" >&5
+ - echo "$as_me: WARNING: add \`$lt_prog_cc_shlib' to the CC or CFLAGS env variable and reconfigure" >&2;}
+ -     lt_cv_prog_cc_can_build_shared=no
+ -   fi
+ - fi
+ - 
+ - 
+ - #
+ - # Check to make sure the static flag actually works.
+ - #
+ - echo "$as_me:$LINENO: checking if $compiler static flag $lt_prog_compiler_static works" >&5
+ - echo $ECHO_N "checking if $compiler static flag $lt_prog_compiler_static works... $ECHO_C" >&6
+ - if test "${lt_prog_compiler_static_works+set}" = set; then
+ -   echo $ECHO_N "(cached) $ECHO_C" >&6
+ - else
+ -   lt_prog_compiler_static_works=no
+ -    save_LDFLAGS="$LDFLAGS"
+ -    LDFLAGS="$LDFLAGS $lt_prog_compiler_static"
+ -    printf "$lt_simple_link_test_code" > conftest.$ac_ext
+ -    if (eval $ac_link 2>conftest.err) && test -s conftest$ac_exeext; then
+ -      # The compiler can only warn and ignore the option if not recognized
+ -      # So say no if there are warnings
+ -      if test -s conftest.err; then
+ -        # Append any errors to the config.log.
+ -        cat conftest.err 1>&5
+ -        $echo "X$_lt_linker_boilerplate" | $Xsed > conftest.exp
+ -        $SED '/^$/d' conftest.err >conftest.er2
+ -        if diff conftest.exp conftest.er2 >/dev/null; then
+ -          lt_prog_compiler_static_works=yes
+ -        fi
+ -      else
+ -        lt_prog_compiler_static_works=yes
+ -      fi
+ -    fi
+ -    $rm conftest*
+ -    LDFLAGS="$save_LDFLAGS"
+ - 
+ - fi
+ - echo "$as_me:$LINENO: result: $lt_prog_compiler_static_works" >&5
+ - echo "${ECHO_T}$lt_prog_compiler_static_works" >&6
+ - 
+ - if test x"$lt_prog_compiler_static_works" = xyes; then
+ -     :
+ - else
+ -     lt_prog_compiler_static=
+ - fi
+ - 
+ - 
+ - 
+   
+   lt_prog_compiler_no_builtin_flag=
+   
+ --- 8431,8447 ----
+   # save warnings/boilerplate of simple test code
+   ac_outfile=conftest.$ac_objext
+   printf "$lt_simple_compile_test_code" >conftest.$ac_ext
+ ! eval "$ac_compile" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err
+   _lt_compiler_boilerplate=`cat conftest.err`
+   $rm conftest*
+   
+   ac_outfile=conftest.$ac_objext
+   printf "$lt_simple_link_test_code" >conftest.$ac_ext
+ ! eval "$ac_link" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err
+   _lt_linker_boilerplate=`cat conftest.err`
+   $rm conftest*
+   
+   
+   
+   lt_prog_compiler_no_builtin_flag=
+   
+ ***************
+ *** 8452,8471 ****
+      # with a dollar sign (not a hyphen), so the echo should work correctly.
+      # The option is referenced via a variable to avoid confusing sed.
+      lt_compile=`echo "$ac_compile" | $SED \
+ !    -e 's:.*FLAGS}? :&$lt_compiler_flag :; t' \
+      -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
+      -e 's:$: $lt_compiler_flag:'`
+ !    (eval echo "\"\$as_me:8458: $lt_compile\"" >&5)
+      (eval "$lt_compile" 2>conftest.err)
+      ac_status=$?
+      cat conftest.err >&5
+ !    echo "$as_me:8462: \$? = $ac_status" >&5
+      if (exit $ac_status) && test -s "$ac_outfile"; then
+        # The compiler can only warn and ignore the option if not recognized
+        # So say no if there are warnings other than the usual output.
+ !      $echo "X$_lt_compiler_boilerplate" | $Xsed >conftest.exp
+ !      $SED '/^$/d' conftest.err >conftest.er2
+ !      if test ! -s conftest.err || diff conftest.exp conftest.er2 >/dev/null; then
+          lt_cv_prog_compiler_rtti_exceptions=yes
+        fi
+      fi
+ --- 8464,8483 ----
+      # with a dollar sign (not a hyphen), so the echo should work correctly.
+      # The option is referenced via a variable to avoid confusing sed.
+      lt_compile=`echo "$ac_compile" | $SED \
+ !    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
+      -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
+      -e 's:$: $lt_compiler_flag:'`
+ !    (eval echo "\"\$as_me:8470: $lt_compile\"" >&5)
+      (eval "$lt_compile" 2>conftest.err)
+      ac_status=$?
+      cat conftest.err >&5
+ !    echo "$as_me:8474: \$? = $ac_status" >&5
+      if (exit $ac_status) && test -s "$ac_outfile"; then
+        # The compiler can only warn and ignore the option if not recognized
+        # So say no if there are warnings other than the usual output.
+ !      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
+ !      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
+ !      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
+          lt_cv_prog_compiler_rtti_exceptions=yes
+        fi
+      fi
+ ***************
+ *** 8526,8531 ****
+ --- 8538,8548 ----
+         lt_prog_compiler_pic='-fno-common'
+         ;;
+   
+ +     interix3*)
+ +       # Interix 3.x gcc -fpic/-fPIC options generate broken code.
+ +       # Instead, we relocate shared libraries at runtime.
+ +       ;;
+ + 
+       msdosdjgpp*)
+         # Just because we use GCC doesn't mean we suddenly get shared libraries
+         # on systems that don't support them.
+ ***************
+ *** 8542,8548 ****
+       hpux*)
+         # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
+         # not for PA HP-UX.
+ !       case "$host_cpu" in
+         hppa*64*|ia64*)
+   	# +Z the default
+   	;;
+ --- 8559,8565 ----
+       hpux*)
+         # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
+         # not for PA HP-UX.
+ !       case $host_cpu in
+         hppa*64*|ia64*)
+   	# +Z the default
+   	;;
+ ***************
+ *** 8589,8595 ****
+         lt_prog_compiler_wl='-Wl,'
+         # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
+         # not for PA HP-UX.
+ !       case "$host_cpu" in
+         hppa*64*|ia64*)
+   	# +Z the default
+   	;;
+ --- 8606,8612 ----
+         lt_prog_compiler_wl='-Wl,'
+         # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
+         # not for PA HP-UX.
+ !       case $host_cpu in
+         hppa*64*|ia64*)
+   	# +Z the default
+   	;;
+ ***************
+ *** 8619,8630 ****
+   	lt_prog_compiler_pic='-KPIC'
+   	lt_prog_compiler_static='-static'
+           ;;
+ !       pgcc* | pgf77* | pgf90*)
+           # Portland Group compilers (*not* the Pentium gcc compiler,
+   	# which looks to be a dead project)
+   	lt_prog_compiler_wl='-Wl,'
+   	lt_prog_compiler_pic='-fpic'
+ ! 	lt_prog_compiler_static='-static'
+           ;;
+         ccc*)
+           lt_prog_compiler_wl='-Wl,'
+ --- 8636,8647 ----
+   	lt_prog_compiler_pic='-KPIC'
+   	lt_prog_compiler_static='-static'
+           ;;
+ !       pgcc* | pgf77* | pgf90* | pgf95*)
+           # Portland Group compilers (*not* the Pentium gcc compiler,
+   	# which looks to be a dead project)
+   	lt_prog_compiler_wl='-Wl,'
+   	lt_prog_compiler_pic='-fpic'
+ ! 	lt_prog_compiler_static='-Bstatic'
+           ;;
+         ccc*)
+           lt_prog_compiler_wl='-Wl,'
+ ***************
+ *** 8640,8650 ****
+         lt_prog_compiler_static='-non_shared'
+         ;;
+   
+ -     sco3.2v5*)
+ -       lt_prog_compiler_pic='-Kpic'
+ -       lt_prog_compiler_static='-dn'
+ -       ;;
+ - 
+       solaris*)
+         lt_prog_compiler_pic='-KPIC'
+         lt_prog_compiler_static='-Bstatic'
+ --- 8657,8662 ----
+ ***************
+ *** 8662,8668 ****
+         lt_prog_compiler_static='-Bstatic'
+         ;;
+   
+ !     sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)
+         lt_prog_compiler_wl='-Wl,'
+         lt_prog_compiler_pic='-KPIC'
+         lt_prog_compiler_static='-Bstatic'
+ --- 8674,8680 ----
+         lt_prog_compiler_static='-Bstatic'
+         ;;
+   
+ !     sysv4 | sysv4.2uw2* | sysv4.3*)
+         lt_prog_compiler_wl='-Wl,'
+         lt_prog_compiler_pic='-KPIC'
+         lt_prog_compiler_static='-Bstatic'
+ ***************
+ *** 8675,8680 ****
+ --- 8687,8698 ----
+         fi
+         ;;
+   
+ +     sysv5* | unixware* | sco3.2v5* | sco5v6* | OpenUNIX*)
+ +       lt_prog_compiler_wl='-Wl,'
+ +       lt_prog_compiler_pic='-KPIC'
+ +       lt_prog_compiler_static='-Bstatic'
+ +       ;;
+ + 
+       unicos*)
+         lt_prog_compiler_wl='-Wl,'
+         lt_prog_compiler_can_build_shared=no
+ ***************
+ *** 8714,8733 ****
+      # with a dollar sign (not a hyphen), so the echo should work correctly.
+      # The option is referenced via a variable to avoid confusing sed.
+      lt_compile=`echo "$ac_compile" | $SED \
+ !    -e 's:.*FLAGS}? :&$lt_compiler_flag :; t' \
+      -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
+      -e 's:$: $lt_compiler_flag:'`
+ !    (eval echo "\"\$as_me:8720: $lt_compile\"" >&5)
+      (eval "$lt_compile" 2>conftest.err)
+      ac_status=$?
+      cat conftest.err >&5
+ !    echo "$as_me:8724: \$? = $ac_status" >&5
+      if (exit $ac_status) && test -s "$ac_outfile"; then
+        # The compiler can only warn and ignore the option if not recognized
+        # So say no if there are warnings other than the usual output.
+ !      $echo "X$_lt_compiler_boilerplate" | $Xsed >conftest.exp
+ !      $SED '/^$/d' conftest.err >conftest.er2
+ !      if test ! -s conftest.err || diff conftest.exp conftest.er2 >/dev/null; then
+          lt_prog_compiler_pic_works=yes
+        fi
+      fi
+ --- 8732,8751 ----
+      # with a dollar sign (not a hyphen), so the echo should work correctly.
+      # The option is referenced via a variable to avoid confusing sed.
+      lt_compile=`echo "$ac_compile" | $SED \
+ !    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
+      -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
+      -e 's:$: $lt_compiler_flag:'`
+ !    (eval echo "\"\$as_me:8738: $lt_compile\"" >&5)
+      (eval "$lt_compile" 2>conftest.err)
+      ac_status=$?
+      cat conftest.err >&5
+ !    echo "$as_me:8742: \$? = $ac_status" >&5
+      if (exit $ac_status) && test -s "$ac_outfile"; then
+        # The compiler can only warn and ignore the option if not recognized
+        # So say no if there are warnings other than the usual output.
+ !      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
+ !      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
+ !      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
+          lt_prog_compiler_pic_works=yes
+        fi
+      fi
+ ***************
+ *** 8748,8754 ****
+   fi
+   
+   fi
+ ! case "$host_os" in
+     # For platforms which do not support PIC, -DPIC is meaningless:
+     *djgpp*)
+       lt_prog_compiler_pic=
+ --- 8766,8772 ----
+   fi
+   
+   fi
+ ! case $host_os in
+     # For platforms which do not support PIC, -DPIC is meaningless:
+     *djgpp*)
+       lt_prog_compiler_pic=
+ ***************
+ *** 8758,8763 ****
+ --- 8776,8823 ----
+       ;;
+   esac
+   
+ + #
+ + # Check to make sure the static flag actually works.
+ + #
+ + wl=$lt_prog_compiler_wl eval lt_tmp_static_flag=\"$lt_prog_compiler_static\"
+ + echo "$as_me:$LINENO: checking if $compiler static flag $lt_tmp_static_flag works" >&5
+ + echo $ECHO_N "checking if $compiler static flag $lt_tmp_static_flag works... $ECHO_C" >&6
+ + if test "${lt_prog_compiler_static_works+set}" = set; then
+ +   echo $ECHO_N "(cached) $ECHO_C" >&6
+ + else
+ +   lt_prog_compiler_static_works=no
+ +    save_LDFLAGS="$LDFLAGS"
+ +    LDFLAGS="$LDFLAGS $lt_tmp_static_flag"
+ +    printf "$lt_simple_link_test_code" > conftest.$ac_ext
+ +    if (eval $ac_link 2>conftest.err) && test -s conftest$ac_exeext; then
+ +      # The linker can only warn and ignore the option if not recognized
+ +      # So say no if there are warnings
+ +      if test -s conftest.err; then
+ +        # Append any errors to the config.log.
+ +        cat conftest.err 1>&5
+ +        $echo "X$_lt_linker_boilerplate" | $Xsed -e '/^$/d' > conftest.exp
+ +        $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
+ +        if diff conftest.exp conftest.er2 >/dev/null; then
+ +          lt_prog_compiler_static_works=yes
+ +        fi
+ +      else
+ +        lt_prog_compiler_static_works=yes
+ +      fi
+ +    fi
+ +    $rm conftest*
+ +    LDFLAGS="$save_LDFLAGS"
+ + 
+ + fi
+ + echo "$as_me:$LINENO: result: $lt_prog_compiler_static_works" >&5
+ + echo "${ECHO_T}$lt_prog_compiler_static_works" >&6
+ + 
+ + if test x"$lt_prog_compiler_static_works" = xyes; then
+ +     :
+ + else
+ +     lt_prog_compiler_static=
+ + fi
+ + 
+ + 
+   echo "$as_me:$LINENO: checking if $compiler supports -c -o file.$ac_objext" >&5
+   echo $ECHO_N "checking if $compiler supports -c -o file.$ac_objext... $ECHO_C" >&6
+   if test "${lt_cv_prog_compiler_c_o+set}" = set; then
+ ***************
+ *** 8776,8800 ****
+      # Note that $ac_compile itself does not contain backslashes and begins
+      # with a dollar sign (not a hyphen), so the echo should work correctly.
+      lt_compile=`echo "$ac_compile" | $SED \
+ !    -e 's:.*FLAGS}? :&$lt_compiler_flag :; t' \
+      -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
+      -e 's:$: $lt_compiler_flag:'`
+ !    (eval echo "\"\$as_me:8782: $lt_compile\"" >&5)
+      (eval "$lt_compile" 2>out/conftest.err)
+      ac_status=$?
+      cat out/conftest.err >&5
+ !    echo "$as_me:8786: \$? = $ac_status" >&5
+      if (exit $ac_status) && test -s out/conftest2.$ac_objext
+      then
+        # The compiler can only warn and ignore the option if not recognized
+        # So say no if there are warnings
+ !      $echo "X$_lt_compiler_boilerplate" | $Xsed > out/conftest.exp
+ !      $SED '/^$/d' out/conftest.err >out/conftest.er2
+ !      if test ! -s out/conftest.err || diff out/conftest.exp out/conftest.er2 >/dev/null; then
+          lt_cv_prog_compiler_c_o=yes
+        fi
+      fi
+ !    chmod u+w .
+      $rm conftest*
+      # SGI C++ compiler will create directory out/ii_files/ for
+      # template instantiation
+ --- 8836,8860 ----
+      # Note that $ac_compile itself does not contain backslashes and begins
+      # with a dollar sign (not a hyphen), so the echo should work correctly.
+      lt_compile=`echo "$ac_compile" | $SED \
+ !    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
+      -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
+      -e 's:$: $lt_compiler_flag:'`
+ !    (eval echo "\"\$as_me:8842: $lt_compile\"" >&5)
+      (eval "$lt_compile" 2>out/conftest.err)
+      ac_status=$?
+      cat out/conftest.err >&5
+ !    echo "$as_me:8846: \$? = $ac_status" >&5
+      if (exit $ac_status) && test -s out/conftest2.$ac_objext
+      then
+        # The compiler can only warn and ignore the option if not recognized
+        # So say no if there are warnings
+ !      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
+ !      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
+ !      if test ! -s out/conftest.er2 || diff out/conftest.exp out/conftest.er2 >/dev/null; then
+          lt_cv_prog_compiler_c_o=yes
+        fi
+      fi
+ !    chmod u+w . 2>&5
+      $rm conftest*
+      # SGI C++ compiler will create directory out/ii_files/ for
+      # template instantiation
+ ***************
+ *** 8890,8895 ****
+ --- 8950,8959 ----
+         with_gnu_ld=no
+       fi
+       ;;
+ +   interix*)
+ +     # we just hope/assume this is gcc and not c89 (= MSVC++)
+ +     with_gnu_ld=yes
+ +     ;;
+     openbsd*)
+       with_gnu_ld=no
+       ;;
+ ***************
+ *** 8974,8980 ****
+         export_symbols_cmds='$NM $libobjs $convenience | $global_symbol_pipe | $SED -e '\''/^[BCDGRS] /s/.* \([^ ]*\)/\1 DATA/'\'' | $SED -e '\''/^[AITW] /s/.* //'\'' | sort | uniq > $export_symbols'
+   
+         if $LD --help 2>&1 | grep 'auto-import' > /dev/null; then
+ !         archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags -o $output_objdir/$soname ${wl}--image-base=0x10000000 ${wl}--out-implib,$lib'
+   	# If the export-symbols file already is a .def file (1st line
+   	# is EXPORTS), use it as is; otherwise, prepend...
+   	archive_expsym_cmds='if test "x`$SED 1q $export_symbols`" = xEXPORTS; then
+ --- 9038,9044 ----
+         export_symbols_cmds='$NM $libobjs $convenience | $global_symbol_pipe | $SED -e '\''/^[BCDGRS] /s/.* \([^ ]*\)/\1 DATA/'\'' | $SED -e '\''/^[AITW] /s/.* //'\'' | sort | uniq > $export_symbols'
+   
+         if $LD --help 2>&1 | grep 'auto-import' > /dev/null; then
+ !         archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags -o $output_objdir/$soname ${wl}--enable-auto-image-base -Xlinker --out-implib -Xlinker $lib'
+   	# If the export-symbols file already is a .def file (1st line
+   	# is EXPORTS), use it as is; otherwise, prepend...
+   	archive_expsym_cmds='if test "x`$SED 1q $export_symbols`" = xEXPORTS; then
+ ***************
+ *** 8983,9004 ****
+   	  echo EXPORTS > $output_objdir/$soname.def;
+   	  cat $export_symbols >> $output_objdir/$soname.def;
+   	fi~
+ ! 	$CC -shared $output_objdir/$soname.def $libobjs $deplibs $compiler_flags -o $output_objdir/$soname ${wl}--image-base=0x10000000  ${wl}--out-implib,$lib'
+         else
+   	ld_shlibs=no
+         fi
+         ;;
+   
+       linux*)
+         if $LD --help 2>&1 | grep ': supported targets:.* elf' > /dev/null; then
+   	tmp_addflag=
+   	case $cc_basename,$host_cpu in
+   	pgcc*)				# Portland Group C compiler
+ ! 	  whole_archive_flag_spec=
+   	  ;;
+ ! 	pgf77* | pgf90* )			# Portland Group f77 and f90 compilers
+ ! 	  whole_archive_flag_spec=
+ ! 	  tmp_addflag=' -fpic -Mnomain' ;;
+   	ecc*,ia64* | icc*,ia64*)		# Intel C compiler on ia64
+   	  tmp_addflag=' -i_dynamic' ;;
+   	efc*,ia64* | ifort*,ia64*)	# Intel Fortran compiler on ia64
+ --- 9047,9084 ----
+   	  echo EXPORTS > $output_objdir/$soname.def;
+   	  cat $export_symbols >> $output_objdir/$soname.def;
+   	fi~
+ ! 	$CC -shared $output_objdir/$soname.def $libobjs $deplibs $compiler_flags -o $output_objdir/$soname ${wl}--enable-auto-image-base -Xlinker --out-implib -Xlinker $lib'
+         else
+   	ld_shlibs=no
+         fi
+         ;;
+   
+ +     interix3*)
+ +       hardcode_direct=no
+ +       hardcode_shlibpath_var=no
+ +       hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
+ +       export_dynamic_flag_spec='${wl}-E'
+ +       # Hack: On Interix 3.x, we cannot compile PIC because of a broken gcc.
+ +       # Instead, shared libraries are loaded at an image base (0x10000000 by
+ +       # default) and relocated if they conflict, which is a slow very memory
+ +       # consuming and fragmenting process.  To avoid this, we pick a random,
+ +       # 256 KiB-aligned image base between 0x50000000 and 0x6FFC0000 at link
+ +       # time.  Moving up from 0x10000000 also allows more sbrk(2) space.
+ +       archive_cmds='$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-h,$soname ${wl}--image-base,`expr ${RANDOM-$$} % 4096 / 2 \* 262144 + 1342177280` -o $lib'
+ +       archive_expsym_cmds='sed "s,^,_," $export_symbols >$output_objdir/$soname.expsym~$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-h,$soname ${wl}--retain-symbols-file,$output_objdir/$soname.expsym ${wl}--image-base,`expr ${RANDOM-$$} % 4096 / 2 \* 262144 + 1342177280` -o $lib'
+ +       ;;
+ + 
+       linux*)
+         if $LD --help 2>&1 | grep ': supported targets:.* elf' > /dev/null; then
+   	tmp_addflag=
+   	case $cc_basename,$host_cpu in
+   	pgcc*)				# Portland Group C compiler
+ ! 	  whole_archive_flag_spec='${wl}--whole-archive`for conv in $convenience\"\"; do test  -n \"$conv\" && new_convenience=\"$new_convenience,$conv\"; done; $echo \"$new_convenience\"` ${wl}--no-whole-archive'
+ ! 	  tmp_addflag=' $pic_flag'
+   	  ;;
+ ! 	pgf77* | pgf90* | pgf95*)	# Portland Group f77 and f90 compilers
+ ! 	  whole_archive_flag_spec='${wl}--whole-archive`for conv in $convenience\"\"; do test  -n \"$conv\" && new_convenience=\"$new_convenience,$conv\"; done; $echo \"$new_convenience\"` ${wl}--no-whole-archive'
+ ! 	  tmp_addflag=' $pic_flag -Mnomain' ;;
+   	ecc*,ia64* | icc*,ia64*)		# Intel C compiler on ia64
+   	  tmp_addflag=' -i_dynamic' ;;
+   	efc*,ia64* | ifort*,ia64*)	# Intel Fortran compiler on ia64
+ ***************
+ *** 9029,9035 ****
+         fi
+         ;;
+   
+ !     solaris* | sysv5*)
+         if $LD -v 2>&1 | grep 'BFD 2\.8' > /dev/null; then
+   	ld_shlibs=no
+   	cat <<EOF 1>&2
+ --- 9109,9115 ----
+         fi
+         ;;
+   
+ !     solaris*)
+         if $LD -v 2>&1 | grep 'BFD 2\.8' > /dev/null; then
+   	ld_shlibs=no
+   	cat <<EOF 1>&2
+ ***************
+ *** 9050,9055 ****
+ --- 9130,9162 ----
+         fi
+         ;;
+   
+ +     sysv5* | sco3.2v5* | sco5v6* | unixware* | OpenUNIX*)
+ +       case `$LD -v 2>&1` in
+ +         *\ [01].* | *\ 2.[0-9].* | *\ 2.1[0-5].*)
+ + 	ld_shlibs=no
+ + 	cat <<_LT_EOF 1>&2
+ + 
+ + *** Warning: Releases of the GNU linker prior to 2.16.91.0.3 can not
+ + *** reliably create shared libraries on SCO systems.  Therefore, libtool
+ + *** is disabling shared libraries support.  We urge you to upgrade GNU
+ + *** binutils to release 2.16.91.0.3 or newer.  Another option is to modify
+ + *** your PATH or compiler configuration so that the native linker is
+ + *** used, and then restart.
+ + 
+ + _LT_EOF
+ + 	;;
+ + 	*)
+ + 	  if $LD --help 2>&1 | grep ': supported targets:.* elf' > /dev/null; then
+ + 	    hardcode_libdir_flag_spec='`test -z "$SCOABSPATH" && echo ${wl}-rpath,$libdir`'
+ + 	    archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib'
+ + 	    archive_expsym_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname,\${SCOABSPATH:+${install_libdir}/}$soname,-retain-symbols-file,$export_symbols -o $lib'
+ + 	  else
+ + 	    ld_shlibs=no
+ + 	  fi
+ + 	;;
+ +       esac
+ +       ;;
+ + 
+       sunos4*)
+         archive_cmds='$LD -assert pure-text -Bshareable -o $lib $libobjs $deplibs $linker_flags'
+         wlarc=
+ ***************
+ *** 9083,9089 ****
+         # Note: this linker hardcodes the directories in LIBPATH if there
+         # are no directories specified by -L.
+         hardcode_minus_L=yes
+ !       if test "$GCC" = yes && test -z "$link_static_flag"; then
+   	# Neither direct hardcoding nor static linking is supported with a
+   	# broken collect2.
+   	hardcode_direct=unsupported
+ --- 9190,9196 ----
+         # Note: this linker hardcodes the directories in LIBPATH if there
+         # are no directories specified by -L.
+         hardcode_minus_L=yes
+ !       if test "$GCC" = yes && test -z "$lt_prog_compiler_static"; then
+   	# Neither direct hardcoding nor static linking is supported with a
+   	# broken collect2.
+   	hardcode_direct=unsupported
+ ***************
+ *** 9117,9122 ****
+ --- 9224,9230 ----
+     	    break
+     	  fi
+   	  done
+ + 	  ;;
+   	esac
+   
+   	exp_sym_flag='-bexport'
+ ***************
+ *** 9154,9159 ****
+ --- 9262,9268 ----
+     	  hardcode_libdir_flag_spec='-L$libdir'
+     	  hardcode_libdir_separator=
+   	  fi
+ + 	  ;;
+   	esac
+   	shared_flag='-shared'
+   	if test "$aix_use_runtimelinking" = yes; then
+ ***************
+ *** 9166,9176 ****
+     	# chokes on -Wl,-G. The following line is correct:
+   	  shared_flag='-G'
+   	else
+ !   	if test "$aix_use_runtimelinking" = yes; then
+   	    shared_flag='${wl}-G'
+   	  else
+   	    shared_flag='${wl}-bM:SRE'
+ !   	fi
+   	fi
+         fi
+   
+ --- 9275,9285 ----
+     	# chokes on -Wl,-G. The following line is correct:
+   	  shared_flag='-G'
+   	else
+ ! 	  if test "$aix_use_runtimelinking" = yes; then
+   	    shared_flag='${wl}-G'
+   	  else
+   	    shared_flag='${wl}-bM:SRE'
+ ! 	  fi
+   	fi
+         fi
+   
+ ***************
+ *** 9235,9246 ****
+   if test -z "$aix_libpath"; then aix_libpath="/usr/lib:/lib"; fi
+   
+          hardcode_libdir_flag_spec='${wl}-blibpath:$libdir:'"$aix_libpath"
+ ! 	archive_expsym_cmds="\$CC"' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags `if test "x${allow_undefined_flag}" != "x"; then echo "${wl}${allow_undefined_flag}"; else :; fi` '"\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols $shared_flag"
+          else
+   	if test "$host_cpu" = ia64; then
+   	  hardcode_libdir_flag_spec='${wl}-R $libdir:/usr/lib:/lib'
+   	  allow_undefined_flag="-z nodefs"
+ ! 	  archive_expsym_cmds="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags ${wl}${allow_undefined_flag} '"\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols"
+   	else
+   	 # Determine the default libpath from the value encoded in an empty executable.
+   	 cat >conftest.$ac_ext <<_ACEOF
+ --- 9344,9355 ----
+   if test -z "$aix_libpath"; then aix_libpath="/usr/lib:/lib"; fi
+   
+          hardcode_libdir_flag_spec='${wl}-blibpath:$libdir:'"$aix_libpath"
+ ! 	archive_expsym_cmds="\$CC"' -o $output_objdir/$soname $libobjs $deplibs '"\${wl}$no_entry_flag"' $compiler_flags `if test "x${allow_undefined_flag}" != "x"; then echo "${wl}${allow_undefined_flag}"; else :; fi` '"\${wl}$exp_sym_flag:\$export_symbols $shared_flag"
+          else
+   	if test "$host_cpu" = ia64; then
+   	  hardcode_libdir_flag_spec='${wl}-R $libdir:/usr/lib:/lib'
+   	  allow_undefined_flag="-z nodefs"
+ ! 	  archive_expsym_cmds="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs '"\${wl}$no_entry_flag"' $compiler_flags ${wl}${allow_undefined_flag} '"\${wl}$exp_sym_flag:\$export_symbols"
+   	else
+   	 # Determine the default libpath from the value encoded in an empty executable.
+   	 cat >conftest.$ac_ext <<_ACEOF
+ ***************
+ *** 9300,9312 ****
+   	  # -berok will link without error, but may produce a broken library.
+   	  no_undefined_flag=' ${wl}-bernotok'
+   	  allow_undefined_flag=' ${wl}-berok'
+ - 	  # -bexpall does not export symbols beginning with underscore (_)
+ - 	  always_export_symbols=yes
+   	  # Exported symbols can be pulled into shared objects from archives
+ ! 	  whole_archive_flag_spec=' '
+   	  archive_cmds_need_lc=yes
+ ! 	  # This is similar to how AIX traditionally builds it's shared libraries.
+ ! 	  archive_expsym_cmds="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags ${wl}-bE:$export_symbols ${wl}-bnoentry${allow_undefined_flag}~$AR $AR_FLAGS $output_objdir/$libname$release.a $output_objdir/$soname'
+   	fi
+         fi
+         ;;
+ --- 9409,9419 ----
+   	  # -berok will link without error, but may produce a broken library.
+   	  no_undefined_flag=' ${wl}-bernotok'
+   	  allow_undefined_flag=' ${wl}-berok'
+   	  # Exported symbols can be pulled into shared objects from archives
+ ! 	  whole_archive_flag_spec='$convenience'
+   	  archive_cmds_need_lc=yes
+ ! 	  # This is similar to how AIX traditionally builds its shared libraries.
+ ! 	  archive_expsym_cmds="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs ${wl}-bnoentry $compiler_flags ${wl}-bE:$export_symbols${allow_undefined_flag}~$AR $AR_FLAGS $output_objdir/$libname$release.a $output_objdir/$soname'
+   	fi
+         fi
+         ;;
+ ***************
+ *** 9345,9351 ****
+         ;;
+   
+       darwin* | rhapsody*)
+ !       case "$host_os" in
+           rhapsody* | darwin1.[012])
+            allow_undefined_flag='${wl}-undefined ${wl}suppress'
+            ;;
+ --- 9452,9458 ----
+         ;;
+   
+       darwin* | rhapsody*)
+ !       case $host_os in
+           rhapsody* | darwin1.[012])
+            allow_undefined_flag='${wl}-undefined ${wl}suppress'
+            ;;
+ ***************
+ *** 9374,9380 ****
+       	output_verbose_link_cmd='echo'
+           archive_cmds='$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+         module_cmds='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+ !       # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin ld's
+         archive_expsym_cmds='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+         module_expsym_cmds='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+       else
+ --- 9481,9487 ----
+       	output_verbose_link_cmd='echo'
+           archive_cmds='$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+         module_cmds='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+ !       # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
+         archive_expsym_cmds='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+         module_expsym_cmds='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+       else
+ ***************
+ *** 9383,9389 ****
+            output_verbose_link_cmd='echo'
+            archive_cmds='$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $verstring'
+            module_cmds='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+ !           # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin ld's
+            archive_expsym_cmds='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}$rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             module_expsym_cmds='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             ;;
+ --- 9490,9496 ----
+            output_verbose_link_cmd='echo'
+            archive_cmds='$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $verstring'
+            module_cmds='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+ !           # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
+            archive_expsym_cmds='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}$rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             module_expsym_cmds='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             ;;
+ ***************
+ *** 9447,9493 ****
+         export_dynamic_flag_spec='${wl}-E'
+         ;;
+   
+ !     hpux10* | hpux11*)
+         if test "$GCC" = yes -a "$with_gnu_ld" = no; then
+ ! 	case "$host_cpu" in
+ ! 	hppa*64*|ia64*)
+   	  archive_cmds='$CC -shared ${wl}+h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
+   	  ;;
+   	*)
+   	  archive_cmds='$CC -shared -fPIC ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $libobjs $deplibs $compiler_flags'
+   	  ;;
+   	esac
+         else
+ ! 	case "$host_cpu" in
+ ! 	hppa*64*|ia64*)
+ ! 	  archive_cmds='$LD -b +h $soname -o $lib $libobjs $deplibs $linker_flags'
+   	  ;;
+   	*)
+ ! 	  archive_cmds='$LD -b +h $soname +b $install_libdir -o $lib $libobjs $deplibs $linker_flags'
+   	  ;;
+   	esac
+         fi
+         if test "$with_gnu_ld" = no; then
+ ! 	case "$host_cpu" in
+ ! 	hppa*64*)
+ ! 	  hardcode_libdir_flag_spec='${wl}+b ${wl}$libdir'
+   	  hardcode_libdir_flag_spec_ld='+b $libdir'
+ - 	  hardcode_libdir_separator=:
+ - 	  hardcode_direct=no
+ - 	  hardcode_shlibpath_var=no
+ - 	  ;;
+ - 	ia64*)
+ - 	  hardcode_libdir_flag_spec='-L$libdir'
+   	  hardcode_direct=no
+   	  hardcode_shlibpath_var=no
+ - 
+ - 	  # hardcode_minus_L: Not really in the search PATH,
+ - 	  # but as the default location of the library.
+ - 	  hardcode_minus_L=yes
+   	  ;;
+   	*)
+ - 	  hardcode_libdir_flag_spec='${wl}+b ${wl}$libdir'
+ - 	  hardcode_libdir_separator=:
+   	  hardcode_direct=yes
+   	  export_dynamic_flag_spec='${wl}-E'
+   
+ --- 9554,9615 ----
+         export_dynamic_flag_spec='${wl}-E'
+         ;;
+   
+ !     hpux10*)
+         if test "$GCC" = yes -a "$with_gnu_ld" = no; then
+ ! 	archive_cmds='$CC -shared -fPIC ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $libobjs $deplibs $compiler_flags'
+ !       else
+ ! 	archive_cmds='$LD -b +h $soname +b $install_libdir -o $lib $libobjs $deplibs $linker_flags'
+ !       fi
+ !       if test "$with_gnu_ld" = no; then
+ ! 	hardcode_libdir_flag_spec='${wl}+b ${wl}$libdir'
+ ! 	hardcode_libdir_separator=:
+ ! 
+ ! 	hardcode_direct=yes
+ ! 	export_dynamic_flag_spec='${wl}-E'
+ ! 
+ ! 	# hardcode_minus_L: Not really in the search PATH,
+ ! 	# but as the default location of the library.
+ ! 	hardcode_minus_L=yes
+ !       fi
+ !       ;;
+ ! 
+ !     hpux11*)
+ !       if test "$GCC" = yes -a "$with_gnu_ld" = no; then
+ ! 	case $host_cpu in
+ ! 	hppa*64*)
+   	  archive_cmds='$CC -shared ${wl}+h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
+   	  ;;
+ + 	ia64*)
+ + 	  archive_cmds='$CC -shared ${wl}+h ${wl}$soname ${wl}+nodefaultrpath -o $lib $libobjs $deplibs $compiler_flags'
+ + 	  ;;
+   	*)
+   	  archive_cmds='$CC -shared -fPIC ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $libobjs $deplibs $compiler_flags'
+   	  ;;
+   	esac
+         else
+ ! 	case $host_cpu in
+ ! 	hppa*64*)
+ ! 	  archive_cmds='$CC -b ${wl}+h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ ! 	  ;;
+ ! 	ia64*)
+ ! 	  archive_cmds='$CC -b ${wl}+h ${wl}$soname ${wl}+nodefaultrpath -o $lib $libobjs $deplibs $compiler_flags'
+   	  ;;
+   	*)
+ ! 	  archive_cmds='$CC -b ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $libobjs $deplibs $compiler_flags'
+   	  ;;
+   	esac
+         fi
+         if test "$with_gnu_ld" = no; then
+ ! 	hardcode_libdir_flag_spec='${wl}+b ${wl}$libdir'
+ ! 	hardcode_libdir_separator=:
+ ! 
+ ! 	case $host_cpu in
+ ! 	hppa*64*|ia64*)
+   	  hardcode_libdir_flag_spec_ld='+b $libdir'
+   	  hardcode_direct=no
+   	  hardcode_shlibpath_var=no
+   	  ;;
+   	*)
+   	  hardcode_direct=yes
+   	  export_dynamic_flag_spec='${wl}-E'
+   
+ ***************
+ *** 9589,9602 ****
+         hardcode_libdir_separator=:
+         ;;
+   
+ -     sco3.2v5*)
+ -       archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
+ -       hardcode_shlibpath_var=no
+ -       export_dynamic_flag_spec='${wl}-Bexport'
+ -       runpath_var=LD_RUN_PATH
+ -       hardcode_runpath_var=yes
+ -       ;;
+ - 
+       solaris*)
+         no_undefined_flag=' -z text'
+         if test "$GCC" = yes; then
+ --- 9711,9716 ----
+ ***************
+ *** 9682,9717 ****
+         fi
+         ;;
+   
+ !     sysv4.2uw2*)
+ !       archive_cmds='$LD -G -o $lib $libobjs $deplibs $linker_flags'
+ !       hardcode_direct=yes
+ !       hardcode_minus_L=no
+         hardcode_shlibpath_var=no
+ !       hardcode_runpath_var=yes
+ !       runpath_var=LD_RUN_PATH
+ !       ;;
+   
+ -    sysv5OpenUNIX8* | sysv5UnixWare7* |  sysv5uw[78]* | unixware7*)
+ -       no_undefined_flag='${wl}-z ${wl}text'
+         if test "$GCC" = yes; then
+ ! 	archive_cmds='$CC -shared ${wl}-h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
+         else
+ ! 	archive_cmds='$CC -G ${wl}-h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
+         fi
+ -       runpath_var='LD_RUN_PATH'
+ -       hardcode_shlibpath_var=no
+         ;;
+   
+ !     sysv5*)
+ !       no_undefined_flag=' -z text'
+ !       # $CC -shared without GNU ld will not create a library from C++
+ !       # object files and a static libstdc++, better avoid it by now
+ !       archive_cmds='$LD -G${allow_undefined_flag} -h $soname -o $lib $libobjs $deplibs $linker_flags'
+ !       archive_expsym_cmds='$echo "{ global:" > $lib.exp~cat $export_symbols | $SED -e "s/\(.*\)/\1;/" >> $lib.exp~$echo "local: *; };" >> $lib.exp~
+ !   		$LD -G${allow_undefined_flag} -M $lib.exp -h $soname -o $lib $libobjs $deplibs $linker_flags~$rm $lib.exp'
+ !       hardcode_libdir_flag_spec=
+         hardcode_shlibpath_var=no
+         runpath_var='LD_RUN_PATH'
+         ;;
+   
+       uts4*)
+ --- 9796,9840 ----
+         fi
+         ;;
+   
+ !     sysv4*uw2* | sysv5OpenUNIX* | sysv5UnixWare7.[01].[10]* | unixware7*)
+ !       no_undefined_flag='${wl}-z,text'
+ !       archive_cmds_need_lc=no
+         hardcode_shlibpath_var=no
+ !       runpath_var='LD_RUN_PATH'
+   
+         if test "$GCC" = yes; then
+ ! 	archive_cmds='$CC -shared ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
+ ! 	archive_expsym_cmds='$CC -shared ${wl}-Bexport:$export_symbols ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
+         else
+ ! 	archive_cmds='$CC -G ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
+ ! 	archive_expsym_cmds='$CC -G ${wl}-Bexport:$export_symbols ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
+         fi
+         ;;
+   
+ !     sysv5* | sco3.2v5* | sco5v6*)
+ !       # Note: We can NOT use -z defs as we might desire, because we do not
+ !       # link with -lc, and that would cause any symbols used from libc to
+ !       # always be unresolved, which means just about no library would
+ !       # ever link correctly.  If we're not using GNU ld we use -z text
+ !       # though, which does catch some bad symbols but isn't as heavy-handed
+ !       # as -z defs.
+ !       no_undefined_flag='${wl}-z,text'
+ !       allow_undefined_flag='${wl}-z,nodefs'
+ !       archive_cmds_need_lc=no
+         hardcode_shlibpath_var=no
+ +       hardcode_libdir_flag_spec='`test -z "$SCOABSPATH" && echo ${wl}-R,$libdir`'
+ +       hardcode_libdir_separator=':'
+ +       link_all_deplibs=yes
+ +       export_dynamic_flag_spec='${wl}-Bexport'
+         runpath_var='LD_RUN_PATH'
+ + 
+ +       if test "$GCC" = yes; then
+ + 	archive_cmds='$CC -shared ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ + 	archive_expsym_cmds='$CC -shared ${wl}-Bexport:$export_symbols ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ +       else
+ + 	archive_cmds='$CC -G ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ + 	archive_expsym_cmds='$CC -G ${wl}-Bexport:$export_symbols ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ +       fi
+         ;;
+   
+       uts4*)
+ ***************
+ *** 9730,9740 ****
+   echo "${ECHO_T}$ld_shlibs" >&6
+   test "$ld_shlibs" = no && can_build_shared=no
+   
+ - variables_saved_for_relink="PATH $shlibpath_var $runpath_var"
+ - if test "$GCC" = yes; then
+ -   variables_saved_for_relink="$variables_saved_for_relink GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH"
+ - fi
+ - 
+   #
+   # Do we need to explicitly link libc?
+   #
+ --- 9853,9858 ----
+ ***************
+ *** 9767,9772 ****
+ --- 9885,9891 ----
+           libobjs=conftest.$ac_objext
+           deplibs=
+           wl=$lt_prog_compiler_wl
+ + 	pic_flag=$lt_prog_compiler_pic
+           compiler_flags=-v
+           linker_flags=-v
+           verstring=
+ ***************
+ *** 9927,9933 ****
+         dlpath=`$SHELL 2>&1 -c '\''. $dir/'\''\${base_file}'\''i;echo \$dlname'\''`~
+         dldir=$destdir/`dirname \$dlpath`~
+         test -d \$dldir || mkdir -p \$dldir~
+ !       $install_prog $dir/$dlname \$dldir/$dlname'
+       postuninstall_cmds='dldll=`$SHELL 2>&1 -c '\''. $file; echo \$dlname'\''`~
+         dlpath=$dir/\$dldll~
+          $rm \$dlpath'
+ --- 10046,10053 ----
+         dlpath=`$SHELL 2>&1 -c '\''. $dir/'\''\${base_file}'\''i;echo \$dlname'\''`~
+         dldir=$destdir/`dirname \$dlpath`~
+         test -d \$dldir || mkdir -p \$dldir~
+ !       $install_prog $dir/$dlname \$dldir/$dlname~
+ !       chmod a+x \$dldir/$dlname'
+       postuninstall_cmds='dldll=`$SHELL 2>&1 -c '\''. $file; echo \$dlname'\''`~
+         dlpath=$dir/\$dldll~
+          $rm \$dlpath'
+ ***************
+ *** 9980,9986 ****
+     soname_spec='${libname}${release}${major}$shared_ext'
+     shlibpath_overrides_runpath=yes
+     shlibpath_var=DYLD_LIBRARY_PATH
+ !   shrext_cmds='$(test .$module = .yes && echo .so || echo .dylib)'
+     # Apple's gcc prints 'gcc -print-search-dirs' doesn't operate the same.
+     if test "$GCC" = yes; then
+       sys_lib_search_path_spec=`$CC -print-search-dirs | tr "\n" "$PATH_SEPARATOR" | sed -e 's/libraries:/@libraries:/' | tr "@" "\n" | grep "^libraries:" | sed -e "s/^libraries://" -e "s,=/,/,g" -e "s,$PATH_SEPARATOR, ,g" -e "s,.*,& /lib /usr/lib /usr/local/lib,g"`
+ --- 10100,10106 ----
+     soname_spec='${libname}${release}${major}$shared_ext'
+     shlibpath_overrides_runpath=yes
+     shlibpath_var=DYLD_LIBRARY_PATH
+ !   shrext_cmds='`test .$module = .yes && echo .so || echo .dylib`'
+     # Apple's gcc prints 'gcc -print-search-dirs' doesn't operate the same.
+     if test "$GCC" = yes; then
+       sys_lib_search_path_spec=`$CC -print-search-dirs | tr "\n" "$PATH_SEPARATOR" | sed -e 's/libraries:/@libraries:/' | tr "@" "\n" | grep "^libraries:" | sed -e "s/^libraries://" -e "s,=/,/,g" -e "s,$PATH_SEPARATOR, ,g" -e "s,.*,& /lib /usr/lib /usr/local/lib,g"`
+ ***************
+ *** 10018,10024 ****
+   freebsd* | dragonfly*)
+     # DragonFly does not have aout.  When/if they implement a new
+     # versioning mechanism, adjust this.
+ !   objformat=`test -x /usr/bin/objformat && /usr/bin/objformat || echo aout`
+     version_type=freebsd-$objformat
+     case $version_type in
+       freebsd-elf*)
+ --- 10138,10151 ----
+   freebsd* | dragonfly*)
+     # DragonFly does not have aout.  When/if they implement a new
+     # versioning mechanism, adjust this.
+ !   if test -x /usr/bin/objformat; then
+ !     objformat=`/usr/bin/objformat`
+ !   else
+ !     case $host_os in
+ !     freebsd[123]*) objformat=aout ;;
+ !     *) objformat=elf ;;
+ !     esac
+ !   fi
+     version_type=freebsd-$objformat
+     case $version_type in
+       freebsd-elf*)
+ ***************
+ *** 10040,10049 ****
+       shlibpath_overrides_runpath=yes
+       hardcode_into_libs=yes
+       ;;
+ !   *) # from 3.2 on
+       shlibpath_overrides_runpath=no
+       hardcode_into_libs=yes
+       ;;
+     esac
+     ;;
+   
+ --- 10167,10181 ----
+       shlibpath_overrides_runpath=yes
+       hardcode_into_libs=yes
+       ;;
+ !   freebsd3.[2-9]* | freebsdelf3.[2-9]* | \
+ !   freebsd4.[0-5] | freebsdelf4.[0-5] | freebsd4.1.1 | freebsdelf4.1.1)
+       shlibpath_overrides_runpath=no
+       hardcode_into_libs=yes
+       ;;
+ +   freebsd*) # from 4.6 on
+ +     shlibpath_overrides_runpath=yes
+ +     hardcode_into_libs=yes
+ +     ;;
+     esac
+     ;;
+   
+ ***************
+ *** 10063,10069 ****
+     version_type=sunos
+     need_lib_prefix=no
+     need_version=no
+ !   case "$host_cpu" in
+     ia64*)
+       shrext_cmds='.so'
+       hardcode_into_libs=yes
+ --- 10195,10201 ----
+     version_type=sunos
+     need_lib_prefix=no
+     need_version=no
+ !   case $host_cpu in
+     ia64*)
+       shrext_cmds='.so'
+       hardcode_into_libs=yes
+ ***************
+ *** 10103,10108 ****
+ --- 10235,10252 ----
+     postinstall_cmds='chmod 555 $lib'
+     ;;
+   
+ + interix3*)
+ +   version_type=linux
+ +   need_lib_prefix=no
+ +   need_version=no
+ +   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major ${libname}${shared_ext}'
+ +   soname_spec='${libname}${release}${shared_ext}$major'
+ +   dynamic_linker='Interix 3.x ld.so.1 (PE, like ELF)'
+ +   shlibpath_var=LD_LIBRARY_PATH
+ +   shlibpath_overrides_runpath=no
+ +   hardcode_into_libs=yes
+ +   ;;
+ + 
+   irix5* | irix6* | nonstopux*)
+     case $host_os in
+       nonstopux*) version_type=nonstopux ;;
+ ***************
+ *** 10164,10170 ****
+     libsuff=
+     case "$host_cpu" in
+     x86_64*|s390x*|powerpc64*)
+ !     echo '#line 10167 "configure"' > conftest.$ac_ext
+       if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+     (eval $ac_compile) 2>&5
+     ac_status=$?
+ --- 10308,10314 ----
+     libsuff=
+     case "$host_cpu" in
+     x86_64*|s390x*|powerpc64*)
+ !     echo '#line 10311 "configure"' > conftest.$ac_ext
+       if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+     (eval $ac_compile) 2>&5
+     ac_status=$?
+ ***************
+ *** 10183,10189 ****
+   
+     # Append ld.so.conf contents to the search path
+     if test -f /etc/ld.so.conf; then
+ !     lt_ld_extra=`awk '/^include / { system(sprintf("cd /etc; cat %s", \$2)); skip = 1; } { if (!skip) print \$0; skip = 0; }' < /etc/ld.so.conf | $SED -e 's/#.*//;s/[:,\t]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;/^$/d' | tr '\n' ' '`
+       sys_lib_dlsearch_path_spec="/lib${libsuff} /usr/lib${libsuff} $lt_ld_extra"
+     fi
+   
+ --- 10327,10333 ----
+   
+     # Append ld.so.conf contents to the search path
+     if test -f /etc/ld.so.conf; then
+ !     lt_ld_extra=`awk '/^include / { system(sprintf("cd /etc; cat %s 2>/dev/null", \$2)); skip = 1; } { if (!skip) print \$0; skip = 0; }' < /etc/ld.so.conf | $SED -e 's/#.*//;s/[:,	]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;/^$/d' | tr '\n' ' '`
+       sys_lib_dlsearch_path_spec="/lib${libsuff} /usr/lib${libsuff} $lt_ld_extra"
+     fi
+   
+ ***************
+ *** 10245,10252 ****
+   
+   openbsd*)
+     version_type=sunos
+     need_lib_prefix=no
+ !   need_version=no
+     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'
+     finish_cmds='PATH="\$PATH:/sbin" ldconfig -m $libdir'
+     shlibpath_var=LD_LIBRARY_PATH
+ --- 10389,10401 ----
+   
+   openbsd*)
+     version_type=sunos
+ +   sys_lib_dlsearch_path_spec="/usr/lib"
+     need_lib_prefix=no
+ !   # Some older versions of OpenBSD (3.3 at least) *do* need versioned libs.
+ !   case $host_os in
+ !     openbsd3.3 | openbsd3.3.*) need_version=yes ;;
+ !     *)                         need_version=no  ;;
+ !   esac
+     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'
+     finish_cmds='PATH="\$PATH:/sbin" ldconfig -m $libdir'
+     shlibpath_var=LD_LIBRARY_PATH
+ ***************
+ *** 10284,10296 ****
+     sys_lib_dlsearch_path_spec="$sys_lib_search_path_spec"
+     ;;
+   
+ - sco3.2v5*)
+ -   version_type=osf
+ -   soname_spec='${libname}${release}${shared_ext}$major'
+ -   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+ -   shlibpath_var=LD_LIBRARY_PATH
+ -   ;;
+ - 
+   solaris*)
+     version_type=linux
+     need_lib_prefix=no
+ --- 10433,10438 ----
+ ***************
+ *** 10316,10322 ****
+     need_version=yes
+     ;;
+   
+ ! sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)
+     version_type=linux
+     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+     soname_spec='${libname}${release}${shared_ext}$major'
+ --- 10458,10464 ----
+     need_version=yes
+     ;;
+   
+ ! sysv4 | sysv4.3*)
+     version_type=linux
+     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+     soname_spec='${libname}${release}${shared_ext}$major'
+ ***************
+ *** 10349,10354 ****
+ --- 10491,10519 ----
+     fi
+     ;;
+   
+ + sysv5* | sco3.2v5* | sco5v6* | unixware* | OpenUNIX* | sysv4*uw2*)
+ +   version_type=freebsd-elf
+ +   need_lib_prefix=no
+ +   need_version=no
+ +   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext} $libname${shared_ext}'
+ +   soname_spec='${libname}${release}${shared_ext}$major'
+ +   shlibpath_var=LD_LIBRARY_PATH
+ +   hardcode_into_libs=yes
+ +   if test "$with_gnu_ld" = yes; then
+ +     sys_lib_search_path_spec='/usr/local/lib /usr/gnu/lib /usr/ccs/lib /usr/lib /lib'
+ +     shlibpath_overrides_runpath=no
+ +   else
+ +     sys_lib_search_path_spec='/usr/ccs/lib /usr/lib'
+ +     shlibpath_overrides_runpath=yes
+ +     case $host_os in
+ +       sco3.2v5*)
+ +         sys_lib_search_path_spec="$sys_lib_search_path_spec /lib"
+ + 	;;
+ +     esac
+ +   fi
+ +   sys_lib_dlsearch_path_spec='/usr/lib'
+ +   ;;
+ + 
+   uts4*)
+     version_type=linux
+     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+ ***************
+ *** 10364,10369 ****
+ --- 10529,10539 ----
+   echo "${ECHO_T}$dynamic_linker" >&6
+   test "$dynamic_linker" = no && can_build_shared=no
+   
+ + variables_saved_for_relink="PATH $shlibpath_var $runpath_var"
+ + if test "$GCC" = yes; then
+ +   variables_saved_for_relink="$variables_saved_for_relink GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH"
+ + fi
+ + 
+   echo "$as_me:$LINENO: checking how to hardcode library paths into programs" >&5
+   echo $ECHO_N "checking how to hardcode library paths into programs... $ECHO_C" >&6
+   hardcode_action=
+ ***************
+ *** 11019,11025 ****
+       test "x$ac_cv_header_dlfcn_h" = xyes && CPPFLAGS="$CPPFLAGS -DHAVE_DLFCN_H"
+   
+       save_LDFLAGS="$LDFLAGS"
+ !     eval LDFLAGS=\"\$LDFLAGS $export_dynamic_flag_spec\"
+   
+       save_LIBS="$LIBS"
+       LIBS="$lt_cv_dlopen_libs $LIBS"
+ --- 11189,11195 ----
+       test "x$ac_cv_header_dlfcn_h" = xyes && CPPFLAGS="$CPPFLAGS -DHAVE_DLFCN_H"
+   
+       save_LDFLAGS="$LDFLAGS"
+ !     wl=$lt_prog_compiler_wl eval LDFLAGS=\"\$LDFLAGS $export_dynamic_flag_spec\"
+   
+       save_LIBS="$LIBS"
+       LIBS="$lt_cv_dlopen_libs $LIBS"
+ ***************
+ *** 11035,11041 ****
+     lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
+     lt_status=$lt_dlunknown
+     cat > conftest.$ac_ext <<EOF
+ ! #line 11038 "configure"
+   #include "confdefs.h"
+   
+   #if HAVE_DLFCN_H
+ --- 11205,11211 ----
+     lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
+     lt_status=$lt_dlunknown
+     cat > conftest.$ac_ext <<EOF
+ ! #line 11208 "configure"
+   #include "confdefs.h"
+   
+   #if HAVE_DLFCN_H
+ ***************
+ *** 11092,11097 ****
+ --- 11262,11269 ----
+         else if (dlsym( self,"_fnord")) status = $lt_dlneed_uscore;
+         /* dlclose (self); */
+       }
+ +   else
+ +     puts (dlerror ());
+   
+       exit (status);
+   }
+ ***************
+ *** 11101,11112 ****
+     ac_status=$?
+     echo "$as_me:$LINENO: \$? = $ac_status" >&5
+     (exit $ac_status); } && test -s conftest${ac_exeext} 2>/dev/null; then
+ !     (./conftest; exit; ) 2>/dev/null
+       lt_status=$?
+       case x$lt_status in
+         x$lt_dlno_uscore) lt_cv_dlopen_self=yes ;;
+         x$lt_dlneed_uscore) lt_cv_dlopen_self=yes ;;
+ !       x$lt_unknown|x*) lt_cv_dlopen_self=no ;;
+       esac
+     else :
+       # compilation failed
+ --- 11273,11284 ----
+     ac_status=$?
+     echo "$as_me:$LINENO: \$? = $ac_status" >&5
+     (exit $ac_status); } && test -s conftest${ac_exeext} 2>/dev/null; then
+ !     (./conftest; exit; ) >&5 2>/dev/null
+       lt_status=$?
+       case x$lt_status in
+         x$lt_dlno_uscore) lt_cv_dlopen_self=yes ;;
+         x$lt_dlneed_uscore) lt_cv_dlopen_self=yes ;;
+ !       x$lt_dlunknown|x*) lt_cv_dlopen_self=no ;;
+       esac
+     else :
+       # compilation failed
+ ***************
+ *** 11121,11127 ****
+   echo "${ECHO_T}$lt_cv_dlopen_self" >&6
+   
+       if test "x$lt_cv_dlopen_self" = xyes; then
+ !       LDFLAGS="$LDFLAGS $link_static_flag"
+         echo "$as_me:$LINENO: checking whether a statically linked program can dlopen itself" >&5
+   echo $ECHO_N "checking whether a statically linked program can dlopen itself... $ECHO_C" >&6
+   if test "${lt_cv_dlopen_self_static+set}" = set; then
+ --- 11293,11299 ----
+   echo "${ECHO_T}$lt_cv_dlopen_self" >&6
+   
+       if test "x$lt_cv_dlopen_self" = xyes; then
+ !       wl=$lt_prog_compiler_wl eval LDFLAGS=\"\$LDFLAGS $lt_prog_compiler_static\"
+         echo "$as_me:$LINENO: checking whether a statically linked program can dlopen itself" >&5
+   echo $ECHO_N "checking whether a statically linked program can dlopen itself... $ECHO_C" >&6
+   if test "${lt_cv_dlopen_self_static+set}" = set; then
+ ***************
+ *** 11133,11139 ****
+     lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
+     lt_status=$lt_dlunknown
+     cat > conftest.$ac_ext <<EOF
+ ! #line 11136 "configure"
+   #include "confdefs.h"
+   
+   #if HAVE_DLFCN_H
+ --- 11305,11311 ----
+     lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
+     lt_status=$lt_dlunknown
+     cat > conftest.$ac_ext <<EOF
+ ! #line 11308 "configure"
+   #include "confdefs.h"
+   
+   #if HAVE_DLFCN_H
+ ***************
+ *** 11190,11195 ****
+ --- 11362,11369 ----
+         else if (dlsym( self,"_fnord")) status = $lt_dlneed_uscore;
+         /* dlclose (self); */
+       }
+ +   else
+ +     puts (dlerror ());
+   
+       exit (status);
+   }
+ ***************
+ *** 11199,11210 ****
+     ac_status=$?
+     echo "$as_me:$LINENO: \$? = $ac_status" >&5
+     (exit $ac_status); } && test -s conftest${ac_exeext} 2>/dev/null; then
+ !     (./conftest; exit; ) 2>/dev/null
+       lt_status=$?
+       case x$lt_status in
+         x$lt_dlno_uscore) lt_cv_dlopen_self_static=yes ;;
+         x$lt_dlneed_uscore) lt_cv_dlopen_self_static=yes ;;
+ !       x$lt_unknown|x*) lt_cv_dlopen_self_static=no ;;
+       esac
+     else :
+       # compilation failed
+ --- 11373,11384 ----
+     ac_status=$?
+     echo "$as_me:$LINENO: \$? = $ac_status" >&5
+     (exit $ac_status); } && test -s conftest${ac_exeext} 2>/dev/null; then
+ !     (./conftest; exit; ) >&5 2>/dev/null
+       lt_status=$?
+       case x$lt_status in
+         x$lt_dlno_uscore) lt_cv_dlopen_self_static=yes ;;
+         x$lt_dlneed_uscore) lt_cv_dlopen_self_static=yes ;;
+ !       x$lt_dlunknown|x*) lt_cv_dlopen_self_static=no ;;
+       esac
+     else :
+       # compilation failed
+ ***************
+ *** 11237,11243 ****
+   fi
+   
+   
+ ! # Report which librarie types wil actually be built
+   echo "$as_me:$LINENO: checking if libtool supports shared libraries" >&5
+   echo $ECHO_N "checking if libtool supports shared libraries... $ECHO_C" >&6
+   echo "$as_me:$LINENO: result: $can_build_shared" >&5
+ --- 11411,11417 ----
+   fi
+   
+   
+ ! # Report which library types will actually be built
+   echo "$as_me:$LINENO: checking if libtool supports shared libraries" >&5
+   echo $ECHO_N "checking if libtool supports shared libraries... $ECHO_C" >&6
+   echo "$as_me:$LINENO: result: $can_build_shared" >&5
+ ***************
+ *** 11249,11255 ****
+   
+   # On AIX, shared libraries and static libraries use the same namespace, and
+   # are all built from PIC.
+ ! case "$host_os" in
+   aix3*)
+     test "$enable_shared" = yes && enable_static=no
+     if test -n "$RANLIB"; then
+ --- 11423,11429 ----
+   
+   # On AIX, shared libraries and static libraries use the same namespace, and
+   # are all built from PIC.
+ ! case $host_os in
+   aix3*)
+     test "$enable_shared" = yes && enable_static=no
+     if test -n "$RANLIB"; then
+ ***************
+ *** 11287,11293 ****
+     # Now quote all the things that may contain metacharacters while being
+     # careful not to overquote the AC_SUBSTed values.  We take copies of the
+     # variables and quote the copies for generation of the libtool script.
+ !   for var in echo old_CC old_CFLAGS AR AR_FLAGS EGREP RANLIB LN_S LTCC NM \
+       SED SHELL STRIP \
+       libname_spec library_names_spec soname_spec extract_expsyms_cmds \
+       old_striplib striplib file_magic_cmd finish_cmds finish_eval \
+ --- 11461,11467 ----
+     # Now quote all the things that may contain metacharacters while being
+     # careful not to overquote the AC_SUBSTed values.  We take copies of the
+     # variables and quote the copies for generation of the libtool script.
+ !   for var in echo old_CC old_CFLAGS AR AR_FLAGS EGREP RANLIB LN_S LTCC LTCFLAGS NM \
+       SED SHELL STRIP \
+       libname_spec library_names_spec soname_spec extract_expsyms_cmds \
+       old_striplib striplib file_magic_cmd finish_cmds finish_eval \
+ ***************
+ *** 11453,11464 ****
+ --- 11627,11644 ----
+   # A C compiler.
+   LTCC=$lt_LTCC
+   
+ + # LTCC compiler flags.
+ + LTCFLAGS=$lt_LTCFLAGS
+ + 
+   # A language-specific compiler.
+   CC=$lt_compiler
+   
+   # Is the compiler the GNU C compiler?
+   with_gcc=$GCC
+   
+ + gcc_dir=\`gcc -print-file-name=. | $SED 's,/\.$,,'\`
+ + gcc_ver=\`gcc -dumpversion\`
+ + 
+   # An ERE matcher.
+   EGREP=$lt_EGREP
+   
+ ***************
+ *** 11592,11602 ****
+   
+   # Dependencies to place before the objects being linked to create a
+   # shared library.
+ ! predep_objects=$lt_predep_objects
+   
+   # Dependencies to place after the objects being linked to create a
+   # shared library.
+ ! postdep_objects=$lt_postdep_objects
+   
+   # Dependencies to place before the objects being linked to create a
+   # shared library.
+ --- 11772,11782 ----
+   
+   # Dependencies to place before the objects being linked to create a
+   # shared library.
+ ! predep_objects=\`echo $lt_predep_objects | \$SED -e "s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g"\`
+   
+   # Dependencies to place after the objects being linked to create a
+   # shared library.
+ ! postdep_objects=\`echo $lt_postdep_objects | \$SED -e "s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g"\`
+   
+   # Dependencies to place before the objects being linked to create a
+   # shared library.
+ ***************
+ *** 11608,11614 ****
+   
+   # The library search path used internally by the compiler when linking
+   # a shared library.
+ ! compiler_lib_search_path=$lt_compiler_lib_search_path
+   
+   # Method to check whether dependent libraries are shared objects.
+   deplibs_check_method=$lt_deplibs_check_method
+ --- 11788,11794 ----
+   
+   # The library search path used internally by the compiler when linking
+   # a shared library.
+ ! compiler_lib_search_path=\`echo $lt_compiler_lib_search_path | \$SED -e "s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g"\`
+   
+   # Method to check whether dependent libraries are shared objects.
+   deplibs_check_method=$lt_deplibs_check_method
+ ***************
+ *** 11688,11694 ****
+   link_all_deplibs=$link_all_deplibs
+   
+   # Compile-time system search path for libraries
+ ! sys_lib_search_path_spec=$lt_sys_lib_search_path_spec
+   
+   # Run-time system search path for libraries
+   sys_lib_dlsearch_path_spec=$lt_sys_lib_dlsearch_path_spec
+ --- 11868,11874 ----
+   link_all_deplibs=$link_all_deplibs
+   
+   # Compile-time system search path for libraries
+ ! sys_lib_search_path_spec=\`echo $lt_sys_lib_search_path_spec | \$SED -e "s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g"\`
+   
+   # Run-time system search path for libraries
+   sys_lib_dlsearch_path_spec=$lt_sys_lib_dlsearch_path_spec
+ ***************
+ *** 11783,11788 ****
+ --- 11963,11971 ----
+   echo "$as_me: WARNING: using \`LTCC=$LTCC', extracted from \`$ofile'" >&2;}
+       fi
+     fi
+ +   if test -z "$LTCFLAGS"; then
+ +     eval "`$SHELL ${ofile} --config | grep '^LTCFLAGS='`"
+ +   fi
+   
+     # Extract list of available tagged configurations in $ofile.
+     # Note that this assumes the entire list is on one line.
+ ***************
+ *** 11835,11840 ****
+ --- 12018,12024 ----
+   hardcode_libdir_flag_spec_ld_CXX=
+   hardcode_libdir_separator_CXX=
+   hardcode_minus_L_CXX=no
+ + hardcode_shlibpath_var_CXX=unsupported
+   hardcode_automatic_CXX=no
+   module_cmds_CXX=
+   module_expsym_cmds_CXX=
+ ***************
+ *** 11852,11858 ****
+   compiler_lib_search_path_CXX=
+   
+   # Source file extension for C++ test sources.
+ ! ac_ext=cc
+   
+   # Object file extension for compiled C++ test sources.
+   objext=o
+ --- 12036,12042 ----
+   compiler_lib_search_path_CXX=
+   
+   # Source file extension for C++ test sources.
+ ! ac_ext=cpp
+   
+   # Object file extension for compiled C++ test sources.
+   objext=o
+ ***************
+ *** 11862,11874 ****
+   lt_simple_compile_test_code="int some_variable = 0;\n"
+   
+   # Code to be used in simple link tests
+ ! lt_simple_link_test_code='int main(int, char *) { return(0); }\n'
+   
+   # ltmain only uses $CC for tagged configurations so make sure $CC is set.
+   
+   # If no C compiler was specified, use CC.
+   LTCC=${LTCC-"$CC"}
+   
+   # Allow CC to be a program name with arguments.
+   compiler=$CC
+   
+ --- 12046,12061 ----
+   lt_simple_compile_test_code="int some_variable = 0;\n"
+   
+   # Code to be used in simple link tests
+ ! lt_simple_link_test_code='int main(int, char *[]) { return(0); }\n'
+   
+   # ltmain only uses $CC for tagged configurations so make sure $CC is set.
+   
+   # If no C compiler was specified, use CC.
+   LTCC=${LTCC-"$CC"}
+   
+ + # If no C compiler flags were specified, use CFLAGS.
+ + LTCFLAGS=${LTCFLAGS-"$CFLAGS"}
+ + 
+   # Allow CC to be a program name with arguments.
+   compiler=$CC
+   
+ ***************
+ *** 11876,11888 ****
+   # save warnings/boilerplate of simple test code
+   ac_outfile=conftest.$ac_objext
+   printf "$lt_simple_compile_test_code" >conftest.$ac_ext
+ ! eval "$ac_compile" 2>&1 >/dev/null | $SED '/^$/d' >conftest.err
+   _lt_compiler_boilerplate=`cat conftest.err`
+   $rm conftest*
+   
+   ac_outfile=conftest.$ac_objext
+   printf "$lt_simple_link_test_code" >conftest.$ac_ext
+ ! eval "$ac_link" 2>&1 >/dev/null | $SED '/^$/d' >conftest.err
+   _lt_linker_boilerplate=`cat conftest.err`
+   $rm conftest*
+   
+ --- 12063,12075 ----
+   # save warnings/boilerplate of simple test code
+   ac_outfile=conftest.$ac_objext
+   printf "$lt_simple_compile_test_code" >conftest.$ac_ext
+ ! eval "$ac_compile" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err
+   _lt_compiler_boilerplate=`cat conftest.err`
+   $rm conftest*
+   
+   ac_outfile=conftest.$ac_objext
+   printf "$lt_simple_link_test_code" >conftest.$ac_ext
+ ! eval "$ac_link" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err
+   _lt_linker_boilerplate=`cat conftest.err`
+   $rm conftest*
+   
+ ***************
+ *** 11897,11908 ****
+   if test -n "${lt_cv_prog_gnu_ldcxx+set}"; then
+     lt_cv_prog_gnu_ld=$lt_cv_prog_gnu_ldcxx
+   else
+ !   unset lt_cv_prog_gnu_ld
+   fi
+   if test -n "${lt_cv_path_LDCXX+set}"; then
+     lt_cv_path_LD=$lt_cv_path_LDCXX
+   else
+ !   unset lt_cv_path_LD
+   fi
+   test -z "${LDCXX+set}" || LD=$LDCXX
+   CC=${CXX-"c++"}
+ --- 12084,12095 ----
+   if test -n "${lt_cv_prog_gnu_ldcxx+set}"; then
+     lt_cv_prog_gnu_ld=$lt_cv_prog_gnu_ldcxx
+   else
+ !   $as_unset lt_cv_prog_gnu_ld
+   fi
+   if test -n "${lt_cv_path_LDCXX+set}"; then
+     lt_cv_path_LD=$lt_cv_path_LDCXX
+   else
+ !   $as_unset lt_cv_path_LD
+   fi
+   test -z "${LDCXX+set}" || LD=$LDCXX
+   CC=${CXX-"c++"}
+ ***************
+ *** 11988,11994 ****
+       if test -f "$ac_dir/$ac_prog" || test -f "$ac_dir/$ac_prog$ac_exeext"; then
+         lt_cv_path_LD="$ac_dir/$ac_prog"
+         # Check to see if the program is GNU ld.  I'd rather use --version,
+ !       # but apparently some GNU ld's only accept -v.
+         # Break only if it was the GNU/non-GNU ld that we prefer.
+         case `"$lt_cv_path_LD" -v 2>&1 </dev/null` in
+         *GNU* | *'with BFD'*)
+ --- 12175,12181 ----
+       if test -f "$ac_dir/$ac_prog" || test -f "$ac_dir/$ac_prog$ac_exeext"; then
+         lt_cv_path_LD="$ac_dir/$ac_prog"
+         # Check to see if the program is GNU ld.  I'd rather use --version,
+ !       # but apparently some variants of GNU ld only accept -v.
+         # Break only if it was the GNU/non-GNU ld that we prefer.
+         case `"$lt_cv_path_LD" -v 2>&1 </dev/null` in
+         *GNU* | *'with BFD'*)
+ ***************
+ *** 12022,12028 ****
+   if test "${lt_cv_prog_gnu_ld+set}" = set; then
+     echo $ECHO_N "(cached) $ECHO_C" >&6
+   else
+ !   # I'd rather use --version here, but apparently some GNU ld's only accept -v.
+   case `$LD -v 2>&1 </dev/null` in
+   *GNU* | *'with BFD'*)
+     lt_cv_prog_gnu_ld=yes
+ --- 12209,12215 ----
+   if test "${lt_cv_prog_gnu_ld+set}" = set; then
+     echo $ECHO_N "(cached) $ECHO_C" >&6
+   else
+ !   # I'd rather use --version here, but apparently some GNU lds only accept -v.
+   case `$LD -v 2>&1 </dev/null` in
+   *GNU* | *'with BFD'*)
+     lt_cv_prog_gnu_ld=yes
+ ***************
+ *** 12113,12118 ****
+ --- 12300,12306 ----
+   	    ;;
+   	  esac
+   	done
+ + 	;;
+         esac
+   
+         exp_sym_flag='-bexport'
+ ***************
+ *** 12150,12155 ****
+ --- 12338,12344 ----
+   	  hardcode_libdir_flag_spec_CXX='-L$libdir'
+   	  hardcode_libdir_separator_CXX=
+   	fi
+ + 	;;
+         esac
+         shared_flag='-shared'
+         if test "$aix_use_runtimelinking" = yes; then
+ ***************
+ *** 12232,12243 ****
+   
+         hardcode_libdir_flag_spec_CXX='${wl}-blibpath:$libdir:'"$aix_libpath"
+   
+ !       archive_expsym_cmds_CXX="\$CC"' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags `if test "x${allow_undefined_flag}" != "x"; then echo "${wl}${allow_undefined_flag}"; else :; fi` '"\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols $shared_flag"
+        else
+         if test "$host_cpu" = ia64; then
+   	hardcode_libdir_flag_spec_CXX='${wl}-R $libdir:/usr/lib:/lib'
+   	allow_undefined_flag_CXX="-z nodefs"
+ ! 	archive_expsym_cmds_CXX="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags ${wl}${allow_undefined_flag} '"\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols"
+         else
+   	# Determine the default libpath from the value encoded in an empty executable.
+   	cat >conftest.$ac_ext <<_ACEOF
+ --- 12421,12432 ----
+   
+         hardcode_libdir_flag_spec_CXX='${wl}-blibpath:$libdir:'"$aix_libpath"
+   
+ !       archive_expsym_cmds_CXX="\$CC"' -o $output_objdir/$soname $libobjs $deplibs '"\${wl}$no_entry_flag"' $compiler_flags `if test "x${allow_undefined_flag}" != "x"; then echo "${wl}${allow_undefined_flag}"; else :; fi` '"\${wl}$exp_sym_flag:\$export_symbols $shared_flag"
+        else
+         if test "$host_cpu" = ia64; then
+   	hardcode_libdir_flag_spec_CXX='${wl}-R $libdir:/usr/lib:/lib'
+   	allow_undefined_flag_CXX="-z nodefs"
+ ! 	archive_expsym_cmds_CXX="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs '"\${wl}$no_entry_flag"' $compiler_flags ${wl}${allow_undefined_flag} '"\${wl}$exp_sym_flag:\$export_symbols"
+         else
+   	# Determine the default libpath from the value encoded in an empty executable.
+   	cat >conftest.$ac_ext <<_ACEOF
+ ***************
+ *** 12297,12312 ****
+   	# -berok will link without error, but may produce a broken library.
+   	no_undefined_flag_CXX=' ${wl}-bernotok'
+   	allow_undefined_flag_CXX=' ${wl}-berok'
+ - 	# -bexpall does not export symbols beginning with underscore (_)
+ - 	always_export_symbols_CXX=yes
+   	# Exported symbols can be pulled into shared objects from archives
+ ! 	whole_archive_flag_spec_CXX=' '
+   	archive_cmds_need_lc_CXX=yes
+ ! 	# This is similar to how AIX traditionally builds it's shared libraries.
+ ! 	archive_expsym_cmds_CXX="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags ${wl}-bE:$export_symbols ${wl}-bnoentry${allow_undefined_flag}~$AR $AR_FLAGS $output_objdir/$libname$release.a $output_objdir/$soname'
+         fi
+       fi
+       ;;
+     chorus*)
+       case $cc_basename in
+         *)
+ --- 12486,12511 ----
+   	# -berok will link without error, but may produce a broken library.
+   	no_undefined_flag_CXX=' ${wl}-bernotok'
+   	allow_undefined_flag_CXX=' ${wl}-berok'
+   	# Exported symbols can be pulled into shared objects from archives
+ ! 	whole_archive_flag_spec_CXX='$convenience'
+   	archive_cmds_need_lc_CXX=yes
+ ! 	# This is similar to how AIX traditionally builds its shared libraries.
+ ! 	archive_expsym_cmds_CXX="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs ${wl}-bnoentry $compiler_flags ${wl}-bE:$export_symbols${allow_undefined_flag}~$AR $AR_FLAGS $output_objdir/$libname$release.a $output_objdir/$soname'
+         fi
+       fi
+       ;;
+ + 
+ +   beos*)
+ +     if $LD --help 2>&1 | grep ': supported targets:.* elf' > /dev/null; then
+ +       allow_undefined_flag_CXX=unsupported
+ +       # Joseph Beckenbach <jrb3@best.com> says some releases of gcc
+ +       # support --undefined.  This deserves some investigation.  FIXME
+ +       archive_cmds_CXX='$CC -nostart $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
+ +     else
+ +       ld_shlibs_CXX=no
+ +     fi
+ +     ;;
+ + 
+     chorus*)
+       case $cc_basename in
+         *)
+ ***************
+ *** 12316,12322 ****
+       esac
+       ;;
+   
+ - 
+     cygwin* | mingw* | pw32*)
+       # _LT_AC_TAGVAR(hardcode_libdir_flag_spec, CXX) is actually meaningless,
+       # as there is no search path for DLLs.
+ --- 12515,12520 ----
+ ***************
+ *** 12326,12332 ****
+       enable_shared_with_static_runtimes_CXX=yes
+   
+       if $LD --help 2>&1 | grep 'auto-import' > /dev/null; then
+ !       archive_cmds_CXX='$CC -shared -nostdlib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -o $output_objdir/$soname ${wl}--image-base=0x10000000 ${wl}--out-implib,$lib'
+         # If the export-symbols file already is a .def file (1st line
+         # is EXPORTS), use it as is; otherwise, prepend...
+         archive_expsym_cmds_CXX='if test "x`$SED 1q $export_symbols`" = xEXPORTS; then
+ --- 12524,12530 ----
+       enable_shared_with_static_runtimes_CXX=yes
+   
+       if $LD --help 2>&1 | grep 'auto-import' > /dev/null; then
+ !       archive_cmds_CXX='$CC -shared -nostdlib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -o $output_objdir/$soname ${wl}--enable-auto-image-base -Xlinker --out-implib -Xlinker $lib'
+         # If the export-symbols file already is a .def file (1st line
+         # is EXPORTS), use it as is; otherwise, prepend...
+         archive_expsym_cmds_CXX='if test "x`$SED 1q $export_symbols`" = xEXPORTS; then
+ ***************
+ *** 12335,12347 ****
+   	echo EXPORTS > $output_objdir/$soname.def;
+   	cat $export_symbols >> $output_objdir/$soname.def;
+         fi~
+ !       $CC -shared -nostdlib $output_objdir/$soname.def $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -o $output_objdir/$soname ${wl}--image-base=0x10000000 ${wl}--out-implib,$lib'
+       else
+         ld_shlibs_CXX=no
+       fi
+     ;;
+         darwin* | rhapsody*)
+ !         case "$host_os" in
+           rhapsody* | darwin1.[012])
+            allow_undefined_flag_CXX='${wl}-undefined ${wl}suppress'
+            ;;
+ --- 12533,12545 ----
+   	echo EXPORTS > $output_objdir/$soname.def;
+   	cat $export_symbols >> $output_objdir/$soname.def;
+         fi~
+ !       $CC -shared -nostdlib $output_objdir/$soname.def $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -o $output_objdir/$soname ${wl}--enable-auto-image-base -Xlinker --out-implib -Xlinker $lib'
+       else
+         ld_shlibs_CXX=no
+       fi
+     ;;
+         darwin* | rhapsody*)
+ !         case $host_os in
+           rhapsody* | darwin1.[012])
+            allow_undefined_flag_CXX='${wl}-undefined ${wl}suppress'
+            ;;
+ ***************
+ *** 12379,12385 ****
+             archive_cmds_CXX='$CC -r -keep_private_externs -nostdlib -o ${lib}-master.o $libobjs~$CC -dynamiclib $allow_undefined_flag -o $lib ${lib}-master.o $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+           fi
+           module_cmds_CXX='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+ !         # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin ld's
+             if test "X$lt_int_apple_cc_single_mod" = Xyes ; then
+               archive_expsym_cmds_CXX='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib -single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             else
+ --- 12577,12583 ----
+             archive_cmds_CXX='$CC -r -keep_private_externs -nostdlib -o ${lib}-master.o $libobjs~$CC -dynamiclib $allow_undefined_flag -o $lib ${lib}-master.o $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+           fi
+           module_cmds_CXX='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+ !         # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
+             if test "X$lt_int_apple_cc_single_mod" = Xyes ; then
+               archive_expsym_cmds_CXX='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib -single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             else
+ ***************
+ *** 12392,12398 ****
+            output_verbose_link_cmd='echo'
+             archive_cmds_CXX='$CC -qmkshrobj ${wl}-single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $verstring'
+             module_cmds_CXX='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+ !           # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin ld's
+             archive_expsym_cmds_CXX='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -qmkshrobj ${wl}-single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}$rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             module_expsym_cmds_CXX='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             ;;
+ --- 12590,12596 ----
+            output_verbose_link_cmd='echo'
+             archive_cmds_CXX='$CC -qmkshrobj ${wl}-single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $verstring'
+             module_cmds_CXX='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+ !           # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
+             archive_expsym_cmds_CXX='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -qmkshrobj ${wl}-single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}$rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             module_expsym_cmds_CXX='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             ;;
+ ***************
+ *** 12472,12504 ****
+       ;;
+     hpux10*|hpux11*)
+       if test $with_gnu_ld = no; then
+ !       case "$host_cpu" in
+ !       hppa*64*)
+ ! 	hardcode_libdir_flag_spec_CXX='${wl}+b ${wl}$libdir'
+   	hardcode_libdir_flag_spec_ld_CXX='+b $libdir'
+ - 	hardcode_libdir_separator_CXX=:
+ -         ;;
+ -       ia64*)
+ - 	hardcode_libdir_flag_spec_CXX='-L$libdir'
+           ;;
+         *)
+ - 	hardcode_libdir_flag_spec_CXX='${wl}+b ${wl}$libdir'
+ - 	hardcode_libdir_separator_CXX=:
+   	export_dynamic_flag_spec_CXX='${wl}-E'
+           ;;
+         esac
+       fi
+ !     case "$host_cpu" in
+ !     hppa*64*)
+ !       hardcode_direct_CXX=no
+ !       hardcode_shlibpath_var_CXX=no
+ !       ;;
+ !     ia64*)
+         hardcode_direct_CXX=no
+         hardcode_shlibpath_var_CXX=no
+ -       hardcode_minus_L_CXX=yes # Not in the search PATH,
+ - 					      # but as the default
+ - 					      # location of the library.
+         ;;
+       *)
+         hardcode_direct_CXX=yes
+ --- 12670,12691 ----
+       ;;
+     hpux10*|hpux11*)
+       if test $with_gnu_ld = no; then
+ !       hardcode_libdir_flag_spec_CXX='${wl}+b ${wl}$libdir'
+ !       hardcode_libdir_separator_CXX=:
+ ! 
+ !       case $host_cpu in
+ !       hppa*64*|ia64*)
+   	hardcode_libdir_flag_spec_ld_CXX='+b $libdir'
+           ;;
+         *)
+   	export_dynamic_flag_spec_CXX='${wl}-E'
+           ;;
+         esac
+       fi
+ !     case $host_cpu in
+ !     hppa*64*|ia64*)
+         hardcode_direct_CXX=no
+         hardcode_shlibpath_var_CXX=no
+         ;;
+       *)
+         hardcode_direct_CXX=yes
+ ***************
+ *** 12514,12522 ****
+   	ld_shlibs_CXX=no
+   	;;
+         aCC*)
+ ! 	case "$host_cpu" in
+ ! 	hppa*64*|ia64*)
+ ! 	  archive_cmds_CXX='$LD -b +h $soname -o $lib $linker_flags $libobjs $deplibs'
+   	  ;;
+   	*)
+   	  archive_cmds_CXX='$CC -b ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
+ --- 12701,12712 ----
+   	ld_shlibs_CXX=no
+   	;;
+         aCC*)
+ ! 	case $host_cpu in
+ ! 	hppa*64*)
+ ! 	  archive_cmds_CXX='$CC -b ${wl}+h ${wl}$soname -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
+ ! 	  ;;
+ ! 	ia64*)
+ ! 	  archive_cmds_CXX='$CC -b ${wl}+h ${wl}$soname ${wl}+nodefaultrpath -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
+   	  ;;
+   	*)
+   	  archive_cmds_CXX='$CC -b ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
+ ***************
+ *** 12535,12543 ****
+         *)
+   	if test "$GXX" = yes; then
+   	  if test $with_gnu_ld = no; then
+ ! 	    case "$host_cpu" in
+ ! 	    ia64*|hppa*64*)
+ ! 	      archive_cmds_CXX='$LD -b +h $soname -o $lib $linker_flags $libobjs $deplibs'
+   	      ;;
+   	    *)
+   	      archive_cmds_CXX='$CC -shared -nostdlib -fPIC ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
+ --- 12725,12736 ----
+         *)
+   	if test "$GXX" = yes; then
+   	  if test $with_gnu_ld = no; then
+ ! 	    case $host_cpu in
+ ! 	    hppa*64*)
+ ! 	      archive_cmds_CXX='$CC -shared -nostdlib -fPIC ${wl}+h ${wl}$soname -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
+ ! 	      ;;
+ ! 	    ia64*)
+ ! 	      archive_cmds_CXX='$CC -shared -nostdlib -fPIC ${wl}+h ${wl}$soname ${wl}+nodefaultrpath -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
+   	      ;;
+   	    *)
+   	      archive_cmds_CXX='$CC -shared -nostdlib -fPIC ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
+ ***************
+ *** 12551,12556 ****
+ --- 12744,12763 ----
+   	;;
+       esac
+       ;;
+ +   interix3*)
+ +     hardcode_direct_CXX=no
+ +     hardcode_shlibpath_var_CXX=no
+ +     hardcode_libdir_flag_spec_CXX='${wl}-rpath,$libdir'
+ +     export_dynamic_flag_spec_CXX='${wl}-E'
+ +     # Hack: On Interix 3.x, we cannot compile PIC because of a broken gcc.
+ +     # Instead, shared libraries are loaded at an image base (0x10000000 by
+ +     # default) and relocated if they conflict, which is a slow very memory
+ +     # consuming and fragmenting process.  To avoid this, we pick a random,
+ +     # 256 KiB-aligned image base between 0x50000000 and 0x6FFC0000 at link
+ +     # time.  Moving up from 0x10000000 also allows more sbrk(2) space.
+ +     archive_cmds_CXX='$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-h,$soname ${wl}--image-base,`expr ${RANDOM-$$} % 4096 / 2 \* 262144 + 1342177280` -o $lib'
+ +     archive_expsym_cmds_CXX='sed "s,^,_," $export_symbols >$output_objdir/$soname.expsym~$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-h,$soname ${wl}--retain-symbols-file,$output_objdir/$soname.expsym ${wl}--image-base,`expr ${RANDOM-$$} % 4096 / 2 \* 262144 + 1342177280` -o $lib'
+ +     ;;
+     irix5* | irix6*)
+       case $cc_basename in
+         CC*)
+ ***************
+ *** 12631,12642 ****
+   	;;
+         pgCC*)
+           # Portland Group C++ compiler
+ ! 	archive_cmds_CXX='$CC -shared $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname ${wl}$soname -o $lib'
+ !   	archive_expsym_cmds_CXX='$CC -shared $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname ${wl}$soname ${wl}-retain-symbols-file ${wl}$export_symbols -o $lib'
+   
+   	hardcode_libdir_flag_spec_CXX='${wl}--rpath ${wl}$libdir'
+   	export_dynamic_flag_spec_CXX='${wl}--export-dynamic'
+ ! 	whole_archive_flag_spec_CXX=''
+           ;;
+         cxx*)
+   	# Compaq C++
+ --- 12838,12849 ----
+   	;;
+         pgCC*)
+           # Portland Group C++ compiler
+ ! 	archive_cmds_CXX='$CC -shared $pic_flag $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname ${wl}$soname -o $lib'
+ !   	archive_expsym_cmds_CXX='$CC -shared $pic_flag $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-soname ${wl}$soname ${wl}-retain-symbols-file ${wl}$export_symbols -o $lib'
+   
+   	hardcode_libdir_flag_spec_CXX='${wl}--rpath ${wl}$libdir'
+   	export_dynamic_flag_spec_CXX='${wl}--export-dynamic'
+ ! 	whole_archive_flag_spec_CXX='${wl}--whole-archive`for conv in $convenience\"\"; do test  -n \"$conv\" && new_convenience=\"$new_convenience,$conv\"; done; $echo \"$new_convenience\"` ${wl}--no-whole-archive'
+           ;;
+         cxx*)
+   	# Compaq C++
+ ***************
+ *** 12833,12851 ****
+       # FIXME: insert proper C++ library support
+       ld_shlibs_CXX=no
+       ;;
+ -   sco*)
+ -     archive_cmds_need_lc_CXX=no
+ -     case $cc_basename in
+ -       CC*)
+ - 	# FIXME: insert proper C++ library support
+ - 	ld_shlibs_CXX=no
+ - 	;;
+ -       *)
+ - 	# FIXME: insert proper C++ library support
+ - 	ld_shlibs_CXX=no
+ - 	;;
+ -     esac
+ -     ;;
+     sunos4*)
+       case $cc_basename in
+         CC*)
+ --- 13040,13045 ----
+ ***************
+ *** 12868,12877 ****
+       case $cc_basename in
+         CC*)
+   	# Sun C++ 4.2, 5.x and Centerline C++
+   	no_undefined_flag_CXX=' -zdefs'
+ ! 	archive_cmds_CXX='$CC -G${allow_undefined_flag} -nolib -h$soname -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
+   	archive_expsym_cmds_CXX='$echo "{ global:" > $lib.exp~cat $export_symbols | $SED -e "s/\(.*\)/\1;/" >> $lib.exp~$echo "local: *; };" >> $lib.exp~
+ ! 	$CC -G${allow_undefined_flag} -nolib ${wl}-M ${wl}$lib.exp -h$soname -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags~$rm $lib.exp'
+   
+   	hardcode_libdir_flag_spec_CXX='-R$libdir'
+   	hardcode_shlibpath_var_CXX=no
+ --- 13062,13072 ----
+       case $cc_basename in
+         CC*)
+   	# Sun C++ 4.2, 5.x and Centerline C++
+ +         archive_cmds_need_lc_CXX=yes
+   	no_undefined_flag_CXX=' -zdefs'
+ ! 	archive_cmds_CXX='$CC -G${allow_undefined_flag}  -h$soname -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags'
+   	archive_expsym_cmds_CXX='$echo "{ global:" > $lib.exp~cat $export_symbols | $SED -e "s/\(.*\)/\1;/" >> $lib.exp~$echo "local: *; };" >> $lib.exp~
+ ! 	$CC -G${allow_undefined_flag}  ${wl}-M ${wl}$lib.exp -h$soname -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags~$rm $lib.exp'
+   
+   	hardcode_libdir_flag_spec_CXX='-R$libdir'
+   	hardcode_shlibpath_var_CXX=no
+ ***************
+ *** 12891,12905 ****
+   	esac
+   	link_all_deplibs_CXX=yes
+   
+ ! 	# Commands to make compiler produce verbose output that lists
+ ! 	# what "hidden" libraries, object files and flags are used when
+ ! 	# linking a shared library.
+ ! 	#
+ ! 	# There doesn't appear to be a way to prevent this compiler from
+ ! 	# explicitly linking system object files so we need to strip them
+ ! 	# from the output so that they don't get included in the library
+ ! 	# dependencies.
+ ! 	output_verbose_link_cmd='templist=`$CC -G $CFLAGS -v conftest.$objext 2>&1 | grep "\-[LR]"`; list=""; for z in $templist; do case $z in conftest.$objext) list="$list $z";; *.$objext);; *) list="$list $z";;esac; done; echo $list'
+   
+   	# Archives containing C++ object files must be created using
+   	# "CC -xar", where "CC" is the Sun C++ compiler.  This is
+ --- 13086,13092 ----
+   	esac
+   	link_all_deplibs_CXX=yes
+   
+ ! 	output_verbose_link_cmd='echo'
+   
+   	# Archives containing C++ object files must be created using
+   	# "CC -xar", where "CC" is the Sun C++ compiler.  This is
+ ***************
+ *** 12945,12952 ****
+   	;;
+       esac
+       ;;
+ !   sysv5OpenUNIX8* | sysv5UnixWare7* | sysv5uw[78]* | unixware7*)
+       archive_cmds_need_lc_CXX=no
+       ;;
+     tandem*)
+       case $cc_basename in
+ --- 13132,13190 ----
+   	;;
+       esac
+       ;;
+ !   sysv4*uw2* | sysv5OpenUNIX* | sysv5UnixWare7.[01].[10]* | unixware7* | sco3.2v5.0.[024]*)
+ !     no_undefined_flag_CXX='${wl}-z,text'
+ !     archive_cmds_need_lc_CXX=no
+ !     hardcode_shlibpath_var_CXX=no
+ !     runpath_var='LD_RUN_PATH'
+ ! 
+ !     case $cc_basename in
+ !       CC*)
+ ! 	archive_cmds_CXX='$CC -G ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
+ ! 	archive_expsym_cmds_CXX='$CC -G ${wl}-Bexport:$export_symbols ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
+ ! 	;;
+ !       *)
+ ! 	archive_cmds_CXX='$CC -shared ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
+ ! 	archive_expsym_cmds_CXX='$CC -shared ${wl}-Bexport:$export_symbols ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
+ ! 	;;
+ !     esac
+ !     ;;
+ !   sysv5* | sco3.2v5* | sco5v6*)
+ !     # Note: We can NOT use -z defs as we might desire, because we do not
+ !     # link with -lc, and that would cause any symbols used from libc to
+ !     # always be unresolved, which means just about no library would
+ !     # ever link correctly.  If we're not using GNU ld we use -z text
+ !     # though, which does catch some bad symbols but isn't as heavy-handed
+ !     # as -z defs.
+ !     # For security reasons, it is highly recommended that you always
+ !     # use absolute paths for naming shared libraries, and exclude the
+ !     # DT_RUNPATH tag from executables and libraries.  But doing so
+ !     # requires that you compile everything twice, which is a pain.
+ !     # So that behaviour is only enabled if SCOABSPATH is set to a
+ !     # non-empty value in the environment.  Most likely only useful for
+ !     # creating official distributions of packages.
+ !     # This is a hack until libtool officially supports absolute path
+ !     # names for shared libraries.
+ !     no_undefined_flag_CXX='${wl}-z,text'
+ !     allow_undefined_flag_CXX='${wl}-z,nodefs'
+       archive_cmds_need_lc_CXX=no
+ +     hardcode_shlibpath_var_CXX=no
+ +     hardcode_libdir_flag_spec_CXX='`test -z "$SCOABSPATH" && echo ${wl}-R,$libdir`'
+ +     hardcode_libdir_separator_CXX=':'
+ +     link_all_deplibs_CXX=yes
+ +     export_dynamic_flag_spec_CXX='${wl}-Bexport'
+ +     runpath_var='LD_RUN_PATH'
+ + 
+ +     case $cc_basename in
+ +       CC*)
+ + 	archive_cmds_CXX='$CC -G ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ + 	archive_expsym_cmds_CXX='$CC -G ${wl}-Bexport:$export_symbols ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ + 	;;
+ +       *)
+ + 	archive_cmds_CXX='$CC -shared ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ + 	archive_expsym_cmds_CXX='$CC -shared ${wl}-Bexport:$export_symbols ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ + 	;;
+ +     esac
+       ;;
+     tandem*)
+       case $cc_basename in
+ ***************
+ *** 13003,13009 ****
+     # The `*' in the case matches for architectures that use `case' in
+     # $output_verbose_cmd can trigger glob expansion during the loop
+     # eval without this substitution.
+ !   output_verbose_link_cmd="`$echo \"X$output_verbose_link_cmd\" | $Xsed -e \"$no_glob_subst\"`"
+   
+     for p in `eval $output_verbose_link_cmd`; do
+       case $p in
+ --- 13241,13247 ----
+     # The `*' in the case matches for architectures that use `case' in
+     # $output_verbose_cmd can trigger glob expansion during the loop
+     # eval without this substitution.
+ !   output_verbose_link_cmd=`$echo "X$output_verbose_link_cmd" | $Xsed -e "$no_glob_subst"`
+   
+     for p in `eval $output_verbose_link_cmd`; do
+       case $p in
+ ***************
+ *** 13079,13084 ****
+ --- 13317,13345 ----
+   
+   $rm -f confest.$objext
+   
+ + # PORTME: override above test on systems where it is broken
+ + case $host_os in
+ + interix3*)
+ +   # Interix 3.5 installs completely hosed .la files for C++, so rather than
+ +   # hack all around it, let's just trust "g++" to DTRT.
+ +   predep_objects_CXX=
+ +   postdep_objects_CXX=
+ +   postdeps_CXX=
+ +   ;;
+ + 
+ + solaris*)
+ +   case $cc_basename in
+ +   CC*)
+ +     # Adding this requires a known-good setup of shared libraries for
+ +     # Sun compiler versions before 5.6, else PIC objects from an old
+ +     # archive will be linked into the output, leading to subtle bugs.
+ +     postdeps_CXX='-lCstd -lCrun'
+ +     ;;
+ +   esac
+ +   ;;
+ + esac
+ + 
+ + 
+   case " $postdeps_CXX " in
+   *" -lc "*) archive_cmds_need_lc_CXX=no ;;
+   esac
+ ***************
+ *** 13126,13131 ****
+ --- 13387,13396 ----
+         # DJGPP does not support shared libraries at all
+         lt_prog_compiler_pic_CXX=
+         ;;
+ +     interix3*)
+ +       # Interix 3.x gcc -fpic/-fPIC options generate broken code.
+ +       # Instead, we relocate shared libraries at runtime.
+ +       ;;
+       sysv4*MP*)
+         if test -d /usr/nec; then
+   	lt_prog_compiler_pic_CXX=-Kconform_pic
+ ***************
+ *** 13134,13140 ****
+       hpux*)
+         # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
+         # not for PA HP-UX.
+ !       case "$host_cpu" in
+         hppa*64*|ia64*)
+   	;;
+         *)
+ --- 13399,13405 ----
+       hpux*)
+         # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
+         # not for PA HP-UX.
+ !       case $host_cpu in
+         hppa*64*|ia64*)
+   	;;
+         *)
+ ***************
+ *** 13195,13209 ****
+   	case $cc_basename in
+   	  CC*)
+   	    lt_prog_compiler_wl_CXX='-Wl,'
+ ! 	    lt_prog_compiler_static_CXX="${ac_cv_prog_cc_wl}-a ${ac_cv_prog_cc_wl}archive"
+   	    if test "$host_cpu" != ia64; then
+   	      lt_prog_compiler_pic_CXX='+Z'
+   	    fi
+   	    ;;
+   	  aCC*)
+   	    lt_prog_compiler_wl_CXX='-Wl,'
+ ! 	    lt_prog_compiler_static_CXX="${ac_cv_prog_cc_wl}-a ${ac_cv_prog_cc_wl}archive"
+ ! 	    case "$host_cpu" in
+   	    hppa*64*|ia64*)
+   	      # +Z the default
+   	      ;;
+ --- 13460,13474 ----
+   	case $cc_basename in
+   	  CC*)
+   	    lt_prog_compiler_wl_CXX='-Wl,'
+ ! 	    lt_prog_compiler_static_CXX='${wl}-a ${wl}archive'
+   	    if test "$host_cpu" != ia64; then
+   	      lt_prog_compiler_pic_CXX='+Z'
+   	    fi
+   	    ;;
+   	  aCC*)
+   	    lt_prog_compiler_wl_CXX='-Wl,'
+ ! 	    lt_prog_compiler_static_CXX='${wl}-a ${wl}archive'
+ ! 	    case $host_cpu in
+   	    hppa*64*|ia64*)
+   	      # +Z the default
+   	      ;;
+ ***************
+ *** 13216,13221 ****
+ --- 13481,13490 ----
+   	    ;;
+   	esac
+   	;;
+ +       interix*)
+ + 	# This is c89, which is MS Visual C++ (no shared libs)
+ + 	# Anyone wants to do a port?
+ + 	;;
+         irix5* | irix6* | nonstopux*)
+   	case $cc_basename in
+   	  CC*)
+ ***************
+ *** 13244,13250 ****
+   	    # Portland Group C++ compiler.
+   	    lt_prog_compiler_wl_CXX='-Wl,'
+   	    lt_prog_compiler_pic_CXX='-fpic'
+ ! 	    lt_prog_compiler_static_CXX='-static'
+   	    ;;
+   	  cxx*)
+   	    # Compaq C++
+ --- 13513,13519 ----
+   	    # Portland Group C++ compiler.
+   	    lt_prog_compiler_wl_CXX='-Wl,'
+   	    lt_prog_compiler_pic_CXX='-fpic'
+ ! 	    lt_prog_compiler_static_CXX='-Bstatic'
+   	    ;;
+   	  cxx*)
+   	    # Compaq C++
+ ***************
+ *** 13295,13309 ****
+   	;;
+         psos*)
+   	;;
+ -       sco*)
+ - 	case $cc_basename in
+ - 	  CC*)
+ - 	    lt_prog_compiler_pic_CXX='-fPIC'
+ - 	    ;;
+ - 	  *)
+ - 	    ;;
+ - 	esac
+ - 	;;
+         solaris*)
+   	case $cc_basename in
+   	  CC*)
+ --- 13564,13569 ----
+ ***************
+ *** 13345,13351 ****
+   	    ;;
+   	esac
+   	;;
+ !       unixware*)
+   	;;
+         vxworks*)
+   	;;
+ --- 13605,13618 ----
+   	    ;;
+   	esac
+   	;;
+ !       sysv5* | unixware* | sco3.2v5* | sco5v6* | OpenUNIX*)
+ ! 	case $cc_basename in
+ ! 	  CC*)
+ ! 	    lt_prog_compiler_wl_CXX='-Wl,'
+ ! 	    lt_prog_compiler_pic_CXX='-KPIC'
+ ! 	    lt_prog_compiler_static_CXX='-Bstatic'
+ ! 	    ;;
+ ! 	esac
+   	;;
+         vxworks*)
+   	;;
+ ***************
+ *** 13378,13397 ****
+      # with a dollar sign (not a hyphen), so the echo should work correctly.
+      # The option is referenced via a variable to avoid confusing sed.
+      lt_compile=`echo "$ac_compile" | $SED \
+ !    -e 's:.*FLAGS}? :&$lt_compiler_flag :; t' \
+      -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
+      -e 's:$: $lt_compiler_flag:'`
+ !    (eval echo "\"\$as_me:13384: $lt_compile\"" >&5)
+      (eval "$lt_compile" 2>conftest.err)
+      ac_status=$?
+      cat conftest.err >&5
+ !    echo "$as_me:13388: \$? = $ac_status" >&5
+      if (exit $ac_status) && test -s "$ac_outfile"; then
+        # The compiler can only warn and ignore the option if not recognized
+        # So say no if there are warnings other than the usual output.
+ !      $echo "X$_lt_compiler_boilerplate" | $Xsed >conftest.exp
+ !      $SED '/^$/d' conftest.err >conftest.er2
+ !      if test ! -s conftest.err || diff conftest.exp conftest.er2 >/dev/null; then
+          lt_prog_compiler_pic_works_CXX=yes
+        fi
+      fi
+ --- 13645,13664 ----
+      # with a dollar sign (not a hyphen), so the echo should work correctly.
+      # The option is referenced via a variable to avoid confusing sed.
+      lt_compile=`echo "$ac_compile" | $SED \
+ !    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
+      -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
+      -e 's:$: $lt_compiler_flag:'`
+ !    (eval echo "\"\$as_me:13651: $lt_compile\"" >&5)
+      (eval "$lt_compile" 2>conftest.err)
+      ac_status=$?
+      cat conftest.err >&5
+ !    echo "$as_me:13655: \$? = $ac_status" >&5
+      if (exit $ac_status) && test -s "$ac_outfile"; then
+        # The compiler can only warn and ignore the option if not recognized
+        # So say no if there are warnings other than the usual output.
+ !      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
+ !      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
+ !      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
+          lt_prog_compiler_pic_works_CXX=yes
+        fi
+      fi
+ ***************
+ *** 13412,13418 ****
+   fi
+   
+   fi
+ ! case "$host_os" in
+     # For platforms which do not support PIC, -DPIC is meaningless:
+     *djgpp*)
+       lt_prog_compiler_pic_CXX=
+ --- 13679,13685 ----
+   fi
+   
+   fi
+ ! case $host_os in
+     # For platforms which do not support PIC, -DPIC is meaningless:
+     *djgpp*)
+       lt_prog_compiler_pic_CXX=
+ ***************
+ *** 13422,13427 ****
+ --- 13689,13736 ----
+       ;;
+   esac
+   
+ + #
+ + # Check to make sure the static flag actually works.
+ + #
+ + wl=$lt_prog_compiler_wl_CXX eval lt_tmp_static_flag=\"$lt_prog_compiler_static_CXX\"
+ + echo "$as_me:$LINENO: checking if $compiler static flag $lt_tmp_static_flag works" >&5
+ + echo $ECHO_N "checking if $compiler static flag $lt_tmp_static_flag works... $ECHO_C" >&6
+ + if test "${lt_prog_compiler_static_works_CXX+set}" = set; then
+ +   echo $ECHO_N "(cached) $ECHO_C" >&6
+ + else
+ +   lt_prog_compiler_static_works_CXX=no
+ +    save_LDFLAGS="$LDFLAGS"
+ +    LDFLAGS="$LDFLAGS $lt_tmp_static_flag"
+ +    printf "$lt_simple_link_test_code" > conftest.$ac_ext
+ +    if (eval $ac_link 2>conftest.err) && test -s conftest$ac_exeext; then
+ +      # The linker can only warn and ignore the option if not recognized
+ +      # So say no if there are warnings
+ +      if test -s conftest.err; then
+ +        # Append any errors to the config.log.
+ +        cat conftest.err 1>&5
+ +        $echo "X$_lt_linker_boilerplate" | $Xsed -e '/^$/d' > conftest.exp
+ +        $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
+ +        if diff conftest.exp conftest.er2 >/dev/null; then
+ +          lt_prog_compiler_static_works_CXX=yes
+ +        fi
+ +      else
+ +        lt_prog_compiler_static_works_CXX=yes
+ +      fi
+ +    fi
+ +    $rm conftest*
+ +    LDFLAGS="$save_LDFLAGS"
+ + 
+ + fi
+ + echo "$as_me:$LINENO: result: $lt_prog_compiler_static_works_CXX" >&5
+ + echo "${ECHO_T}$lt_prog_compiler_static_works_CXX" >&6
+ + 
+ + if test x"$lt_prog_compiler_static_works_CXX" = xyes; then
+ +     :
+ + else
+ +     lt_prog_compiler_static_CXX=
+ + fi
+ + 
+ + 
+   echo "$as_me:$LINENO: checking if $compiler supports -c -o file.$ac_objext" >&5
+   echo $ECHO_N "checking if $compiler supports -c -o file.$ac_objext... $ECHO_C" >&6
+   if test "${lt_cv_prog_compiler_c_o_CXX+set}" = set; then
+ ***************
+ *** 13440,13464 ****
+      # Note that $ac_compile itself does not contain backslashes and begins
+      # with a dollar sign (not a hyphen), so the echo should work correctly.
+      lt_compile=`echo "$ac_compile" | $SED \
+ !    -e 's:.*FLAGS}? :&$lt_compiler_flag :; t' \
+      -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
+      -e 's:$: $lt_compiler_flag:'`
+ !    (eval echo "\"\$as_me:13446: $lt_compile\"" >&5)
+      (eval "$lt_compile" 2>out/conftest.err)
+      ac_status=$?
+      cat out/conftest.err >&5
+ !    echo "$as_me:13450: \$? = $ac_status" >&5
+      if (exit $ac_status) && test -s out/conftest2.$ac_objext
+      then
+        # The compiler can only warn and ignore the option if not recognized
+        # So say no if there are warnings
+ !      $echo "X$_lt_compiler_boilerplate" | $Xsed > out/conftest.exp
+ !      $SED '/^$/d' out/conftest.err >out/conftest.er2
+ !      if test ! -s out/conftest.err || diff out/conftest.exp out/conftest.er2 >/dev/null; then
+          lt_cv_prog_compiler_c_o_CXX=yes
+        fi
+      fi
+ !    chmod u+w .
+      $rm conftest*
+      # SGI C++ compiler will create directory out/ii_files/ for
+      # template instantiation
+ --- 13749,13773 ----
+      # Note that $ac_compile itself does not contain backslashes and begins
+      # with a dollar sign (not a hyphen), so the echo should work correctly.
+      lt_compile=`echo "$ac_compile" | $SED \
+ !    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
+      -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
+      -e 's:$: $lt_compiler_flag:'`
+ !    (eval echo "\"\$as_me:13755: $lt_compile\"" >&5)
+      (eval "$lt_compile" 2>out/conftest.err)
+      ac_status=$?
+      cat out/conftest.err >&5
+ !    echo "$as_me:13759: \$? = $ac_status" >&5
+      if (exit $ac_status) && test -s out/conftest2.$ac_objext
+      then
+        # The compiler can only warn and ignore the option if not recognized
+        # So say no if there are warnings
+ !      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
+ !      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
+ !      if test ! -s out/conftest.er2 || diff out/conftest.exp out/conftest.er2 >/dev/null; then
+          lt_cv_prog_compiler_c_o_CXX=yes
+        fi
+      fi
+ !    chmod u+w . 2>&5
+      $rm conftest*
+      # SGI C++ compiler will create directory out/ii_files/ for
+      # template instantiation
+ ***************
+ *** 13524,13534 ****
+   echo "${ECHO_T}$ld_shlibs_CXX" >&6
+   test "$ld_shlibs_CXX" = no && can_build_shared=no
+   
+ - variables_saved_for_relink="PATH $shlibpath_var $runpath_var"
+ - if test "$GCC" = yes; then
+ -   variables_saved_for_relink="$variables_saved_for_relink GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH"
+ - fi
+ - 
+   #
+   # Do we need to explicitly link libc?
+   #
+ --- 13833,13838 ----
+ ***************
+ *** 13561,13566 ****
+ --- 13865,13871 ----
+           libobjs=conftest.$ac_objext
+           deplibs=
+           wl=$lt_prog_compiler_wl_CXX
+ + 	pic_flag=$lt_prog_compiler_pic_CXX
+           compiler_flags=-v
+           linker_flags=-v
+           verstring=
+ ***************
+ *** 13721,13727 ****
+         dlpath=`$SHELL 2>&1 -c '\''. $dir/'\''\${base_file}'\''i;echo \$dlname'\''`~
+         dldir=$destdir/`dirname \$dlpath`~
+         test -d \$dldir || mkdir -p \$dldir~
+ !       $install_prog $dir/$dlname \$dldir/$dlname'
+       postuninstall_cmds='dldll=`$SHELL 2>&1 -c '\''. $file; echo \$dlname'\''`~
+         dlpath=$dir/\$dldll~
+          $rm \$dlpath'
+ --- 14026,14033 ----
+         dlpath=`$SHELL 2>&1 -c '\''. $dir/'\''\${base_file}'\''i;echo \$dlname'\''`~
+         dldir=$destdir/`dirname \$dlpath`~
+         test -d \$dldir || mkdir -p \$dldir~
+ !       $install_prog $dir/$dlname \$dldir/$dlname~
+ !       chmod a+x \$dldir/$dlname'
+       postuninstall_cmds='dldll=`$SHELL 2>&1 -c '\''. $file; echo \$dlname'\''`~
+         dlpath=$dir/\$dldll~
+          $rm \$dlpath'
+ ***************
+ *** 13774,13780 ****
+     soname_spec='${libname}${release}${major}$shared_ext'
+     shlibpath_overrides_runpath=yes
+     shlibpath_var=DYLD_LIBRARY_PATH
+ !   shrext_cmds='$(test .$module = .yes && echo .so || echo .dylib)'
+     # Apple's gcc prints 'gcc -print-search-dirs' doesn't operate the same.
+     if test "$GCC" = yes; then
+       sys_lib_search_path_spec=`$CC -print-search-dirs | tr "\n" "$PATH_SEPARATOR" | sed -e 's/libraries:/@libraries:/' | tr "@" "\n" | grep "^libraries:" | sed -e "s/^libraries://" -e "s,=/,/,g" -e "s,$PATH_SEPARATOR, ,g" -e "s,.*,& /lib /usr/lib /usr/local/lib,g"`
+ --- 14080,14086 ----
+     soname_spec='${libname}${release}${major}$shared_ext'
+     shlibpath_overrides_runpath=yes
+     shlibpath_var=DYLD_LIBRARY_PATH
+ !   shrext_cmds='`test .$module = .yes && echo .so || echo .dylib`'
+     # Apple's gcc prints 'gcc -print-search-dirs' doesn't operate the same.
+     if test "$GCC" = yes; then
+       sys_lib_search_path_spec=`$CC -print-search-dirs | tr "\n" "$PATH_SEPARATOR" | sed -e 's/libraries:/@libraries:/' | tr "@" "\n" | grep "^libraries:" | sed -e "s/^libraries://" -e "s,=/,/,g" -e "s,$PATH_SEPARATOR, ,g" -e "s,.*,& /lib /usr/lib /usr/local/lib,g"`
+ ***************
+ *** 13812,13818 ****
+   freebsd* | dragonfly*)
+     # DragonFly does not have aout.  When/if they implement a new
+     # versioning mechanism, adjust this.
+ !   objformat=`test -x /usr/bin/objformat && /usr/bin/objformat || echo aout`
+     version_type=freebsd-$objformat
+     case $version_type in
+       freebsd-elf*)
+ --- 14118,14131 ----
+   freebsd* | dragonfly*)
+     # DragonFly does not have aout.  When/if they implement a new
+     # versioning mechanism, adjust this.
+ !   if test -x /usr/bin/objformat; then
+ !     objformat=`/usr/bin/objformat`
+ !   else
+ !     case $host_os in
+ !     freebsd[123]*) objformat=aout ;;
+ !     *) objformat=elf ;;
+ !     esac
+ !   fi
+     version_type=freebsd-$objformat
+     case $version_type in
+       freebsd-elf*)
+ ***************
+ *** 13834,13843 ****
+       shlibpath_overrides_runpath=yes
+       hardcode_into_libs=yes
+       ;;
+ !   *) # from 3.2 on
+       shlibpath_overrides_runpath=no
+       hardcode_into_libs=yes
+       ;;
+     esac
+     ;;
+   
+ --- 14147,14161 ----
+       shlibpath_overrides_runpath=yes
+       hardcode_into_libs=yes
+       ;;
+ !   freebsd3.[2-9]* | freebsdelf3.[2-9]* | \
+ !   freebsd4.[0-5] | freebsdelf4.[0-5] | freebsd4.1.1 | freebsdelf4.1.1)
+       shlibpath_overrides_runpath=no
+       hardcode_into_libs=yes
+       ;;
+ +   freebsd*) # from 4.6 on
+ +     shlibpath_overrides_runpath=yes
+ +     hardcode_into_libs=yes
+ +     ;;
+     esac
+     ;;
+   
+ ***************
+ *** 13857,13863 ****
+     version_type=sunos
+     need_lib_prefix=no
+     need_version=no
+ !   case "$host_cpu" in
+     ia64*)
+       shrext_cmds='.so'
+       hardcode_into_libs=yes
+ --- 14175,14181 ----
+     version_type=sunos
+     need_lib_prefix=no
+     need_version=no
+ !   case $host_cpu in
+     ia64*)
+       shrext_cmds='.so'
+       hardcode_into_libs=yes
+ ***************
+ *** 13897,13902 ****
+ --- 14215,14232 ----
+     postinstall_cmds='chmod 555 $lib'
+     ;;
+   
+ + interix3*)
+ +   version_type=linux
+ +   need_lib_prefix=no
+ +   need_version=no
+ +   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major ${libname}${shared_ext}'
+ +   soname_spec='${libname}${release}${shared_ext}$major'
+ +   dynamic_linker='Interix 3.x ld.so.1 (PE, like ELF)'
+ +   shlibpath_var=LD_LIBRARY_PATH
+ +   shlibpath_overrides_runpath=no
+ +   hardcode_into_libs=yes
+ +   ;;
+ + 
+   irix5* | irix6* | nonstopux*)
+     case $host_os in
+       nonstopux*) version_type=nonstopux ;;
+ ***************
+ *** 13958,13964 ****
+     libsuff=
+     case "$host_cpu" in
+     x86_64*|s390x*|powerpc64*)
+ !     echo '#line 13961 "configure"' > conftest.$ac_ext
+       if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+     (eval $ac_compile) 2>&5
+     ac_status=$?
+ --- 14288,14294 ----
+     libsuff=
+     case "$host_cpu" in
+     x86_64*|s390x*|powerpc64*)
+ !     echo '#line 14291 "configure"' > conftest.$ac_ext
+       if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+     (eval $ac_compile) 2>&5
+     ac_status=$?
+ ***************
+ *** 13977,13983 ****
+   
+     # Append ld.so.conf contents to the search path
+     if test -f /etc/ld.so.conf; then
+ !     lt_ld_extra=`awk '/^include / { system(sprintf("cd /etc; cat %s", \$2)); skip = 1; } { if (!skip) print \$0; skip = 0; }' < /etc/ld.so.conf | $SED -e 's/#.*//;s/[:,\t]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;/^$/d' | tr '\n' ' '`
+       sys_lib_dlsearch_path_spec="/lib${libsuff} /usr/lib${libsuff} $lt_ld_extra"
+     fi
+   
+ --- 14307,14313 ----
+   
+     # Append ld.so.conf contents to the search path
+     if test -f /etc/ld.so.conf; then
+ !     lt_ld_extra=`awk '/^include / { system(sprintf("cd /etc; cat %s 2>/dev/null", \$2)); skip = 1; } { if (!skip) print \$0; skip = 0; }' < /etc/ld.so.conf | $SED -e 's/#.*//;s/[:,	]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;/^$/d' | tr '\n' ' '`
+       sys_lib_dlsearch_path_spec="/lib${libsuff} /usr/lib${libsuff} $lt_ld_extra"
+     fi
+   
+ ***************
+ *** 14039,14046 ****
+   
+   openbsd*)
+     version_type=sunos
+     need_lib_prefix=no
+ !   need_version=no
+     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'
+     finish_cmds='PATH="\$PATH:/sbin" ldconfig -m $libdir'
+     shlibpath_var=LD_LIBRARY_PATH
+ --- 14369,14381 ----
+   
+   openbsd*)
+     version_type=sunos
+ +   sys_lib_dlsearch_path_spec="/usr/lib"
+     need_lib_prefix=no
+ !   # Some older versions of OpenBSD (3.3 at least) *do* need versioned libs.
+ !   case $host_os in
+ !     openbsd3.3 | openbsd3.3.*) need_version=yes ;;
+ !     *)                         need_version=no  ;;
+ !   esac
+     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'
+     finish_cmds='PATH="\$PATH:/sbin" ldconfig -m $libdir'
+     shlibpath_var=LD_LIBRARY_PATH
+ ***************
+ *** 14078,14090 ****
+     sys_lib_dlsearch_path_spec="$sys_lib_search_path_spec"
+     ;;
+   
+ - sco3.2v5*)
+ -   version_type=osf
+ -   soname_spec='${libname}${release}${shared_ext}$major'
+ -   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+ -   shlibpath_var=LD_LIBRARY_PATH
+ -   ;;
+ - 
+   solaris*)
+     version_type=linux
+     need_lib_prefix=no
+ --- 14413,14418 ----
+ ***************
+ *** 14110,14116 ****
+     need_version=yes
+     ;;
+   
+ ! sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)
+     version_type=linux
+     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+     soname_spec='${libname}${release}${shared_ext}$major'
+ --- 14438,14444 ----
+     need_version=yes
+     ;;
+   
+ ! sysv4 | sysv4.3*)
+     version_type=linux
+     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+     soname_spec='${libname}${release}${shared_ext}$major'
+ ***************
+ *** 14143,14148 ****
+ --- 14471,14499 ----
+     fi
+     ;;
+   
+ + sysv5* | sco3.2v5* | sco5v6* | unixware* | OpenUNIX* | sysv4*uw2*)
+ +   version_type=freebsd-elf
+ +   need_lib_prefix=no
+ +   need_version=no
+ +   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext} $libname${shared_ext}'
+ +   soname_spec='${libname}${release}${shared_ext}$major'
+ +   shlibpath_var=LD_LIBRARY_PATH
+ +   hardcode_into_libs=yes
+ +   if test "$with_gnu_ld" = yes; then
+ +     sys_lib_search_path_spec='/usr/local/lib /usr/gnu/lib /usr/ccs/lib /usr/lib /lib'
+ +     shlibpath_overrides_runpath=no
+ +   else
+ +     sys_lib_search_path_spec='/usr/ccs/lib /usr/lib'
+ +     shlibpath_overrides_runpath=yes
+ +     case $host_os in
+ +       sco3.2v5*)
+ +         sys_lib_search_path_spec="$sys_lib_search_path_spec /lib"
+ + 	;;
+ +     esac
+ +   fi
+ +   sys_lib_dlsearch_path_spec='/usr/lib'
+ +   ;;
+ + 
+   uts4*)
+     version_type=linux
+     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+ ***************
+ *** 14158,14163 ****
+ --- 14509,14519 ----
+   echo "${ECHO_T}$dynamic_linker" >&6
+   test "$dynamic_linker" = no && can_build_shared=no
+   
+ + variables_saved_for_relink="PATH $shlibpath_var $runpath_var"
+ + if test "$GCC" = yes; then
+ +   variables_saved_for_relink="$variables_saved_for_relink GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH"
+ + fi
+ + 
+   echo "$as_me:$LINENO: checking how to hardcode library paths into programs" >&5
+   echo $ECHO_N "checking how to hardcode library paths into programs... $ECHO_C" >&6
+   hardcode_action_CXX=
+ ***************
+ *** 14195,15350 ****
+     enable_fast_install=needless
+   fi
+   
+ ! striplib=
+ ! old_striplib=
+ ! echo "$as_me:$LINENO: checking whether stripping libraries is possible" >&5
+ ! echo $ECHO_N "checking whether stripping libraries is possible... $ECHO_C" >&6
+ ! if test -n "$STRIP" && $STRIP -V 2>&1 | grep "GNU strip" >/dev/null; then
+ !   test -z "$old_striplib" && old_striplib="$STRIP --strip-debug"
+ !   test -z "$striplib" && striplib="$STRIP --strip-unneeded"
+ !   echo "$as_me:$LINENO: result: yes" >&5
+ ! echo "${ECHO_T}yes" >&6
+ ! else
+ ! # FIXME - insert some real tests, host_os isn't really good enough
+ !   case $host_os in
+ !    darwin*)
+ !        if test -n "$STRIP" ; then
+ !          striplib="$STRIP -x"
+ !          echo "$as_me:$LINENO: result: yes" >&5
+ ! echo "${ECHO_T}yes" >&6
+ !        else
+ !   echo "$as_me:$LINENO: result: no" >&5
+ ! echo "${ECHO_T}no" >&6
+ ! fi
+ !        ;;
+ !    *)
+ !   echo "$as_me:$LINENO: result: no" >&5
+ ! echo "${ECHO_T}no" >&6
+       ;;
+     esac
+ - fi
+   
+ ! if test "x$enable_dlopen" != xyes; then
+ !   enable_dlopen=unknown
+ !   enable_dlopen_self=unknown
+ !   enable_dlopen_self_static=unknown
+ ! else
+ !   lt_cv_dlopen=no
+ !   lt_cv_dlopen_libs=
+   
+ !   case $host_os in
+ !   beos*)
+ !     lt_cv_dlopen="load_add_on"
+ !     lt_cv_dlopen_libs=
+ !     lt_cv_dlopen_self=yes
+ !     ;;
+   
+ !   mingw* | pw32*)
+ !     lt_cv_dlopen="LoadLibrary"
+ !     lt_cv_dlopen_libs=
+ !    ;;
+   
+ !   cygwin*)
+ !     lt_cv_dlopen="dlopen"
+ !     lt_cv_dlopen_libs=
+ !    ;;
+   
+ !   darwin*)
+ !   # if libdl is installed we need to link against it
+ !     echo "$as_me:$LINENO: checking for dlopen in -ldl" >&5
+ ! echo $ECHO_N "checking for dlopen in -ldl... $ECHO_C" >&6
+ ! if test "${ac_cv_lib_dl_dlopen+set}" = set; then
+ !   echo $ECHO_N "(cached) $ECHO_C" >&6
+ ! else
+ !   ac_check_lib_save_LIBS=$LIBS
+ ! LIBS="-ldl  $LIBS"
+ ! cat >conftest.$ac_ext <<_ACEOF
+ ! /* confdefs.h.  */
+ ! _ACEOF
+ ! cat confdefs.h >>conftest.$ac_ext
+ ! cat >>conftest.$ac_ext <<_ACEOF
+ ! /* end confdefs.h.  */
+   
+ ! /* Override any gcc2 internal prototype to avoid an error.  */
+ ! #ifdef __cplusplus
+ ! extern "C"
+ ! #endif
+ ! /* We use char because int might match the return type of a gcc2
+ !    builtin and then its argument prototype would still apply.  */
+ ! char dlopen ();
+ ! int
+ ! main ()
+ ! {
+ ! dlopen ();
+ !   ;
+ !   return 0;
+ ! }
+ ! _ACEOF
+ ! rm -f conftest.$ac_objext conftest$ac_exeext
+ ! if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+ !   (eval $ac_link) 2>conftest.er1
+ !   ac_status=$?
+ !   grep -v '^ *+' conftest.er1 >conftest.err
+ !   rm -f conftest.er1
+ !   cat conftest.err >&5
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); } &&
+ ! 	 { ac_try='test -z "$ac_cxx_werror_flag"
+ ! 			 || test ! -s conftest.err'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; } &&
+ ! 	 { ac_try='test -s conftest$ac_exeext'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; }; then
+ !   ac_cv_lib_dl_dlopen=yes
+ ! else
+ !   echo "$as_me: failed program was:" >&5
+ ! sed 's/^/| /' conftest.$ac_ext >&5
+   
+ ! ac_cv_lib_dl_dlopen=no
+ ! fi
+ ! rm -f conftest.err conftest.$ac_objext \
+ !       conftest$ac_exeext conftest.$ac_ext
+ ! LIBS=$ac_check_lib_save_LIBS
+ ! fi
+ ! echo "$as_me:$LINENO: result: $ac_cv_lib_dl_dlopen" >&5
+ ! echo "${ECHO_T}$ac_cv_lib_dl_dlopen" >&6
+ ! if test $ac_cv_lib_dl_dlopen = yes; then
+ !   lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-ldl"
+ ! else
+   
+ !     lt_cv_dlopen="dyld"
+ !     lt_cv_dlopen_libs=
+ !     lt_cv_dlopen_self=yes
+   
+ ! fi
+   
+ !    ;;
+   
+ !   *)
+ !     echo "$as_me:$LINENO: checking for shl_load" >&5
+ ! echo $ECHO_N "checking for shl_load... $ECHO_C" >&6
+ ! if test "${ac_cv_func_shl_load+set}" = set; then
+ !   echo $ECHO_N "(cached) $ECHO_C" >&6
+ ! else
+ !   cat >conftest.$ac_ext <<_ACEOF
+ ! /* confdefs.h.  */
+ ! _ACEOF
+ ! cat confdefs.h >>conftest.$ac_ext
+ ! cat >>conftest.$ac_ext <<_ACEOF
+ ! /* end confdefs.h.  */
+ ! /* Define shl_load to an innocuous variant, in case <limits.h> declares shl_load.
+ !    For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+ ! #define shl_load innocuous_shl_load
+   
+ ! /* System header to define __stub macros and hopefully few prototypes,
+ !     which can conflict with char shl_load (); below.
+ !     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
+ !     <limits.h> exists even on freestanding compilers.  */
+   
+ ! #ifdef __STDC__
+ ! # include <limits.h>
+ ! #else
+ ! # include <assert.h>
+ ! #endif
+   
+ ! #undef shl_load
+   
+ ! /* Override any gcc2 internal prototype to avoid an error.  */
+ ! #ifdef __cplusplus
+ ! extern "C"
+ ! {
+ ! #endif
+ ! /* We use char because int might match the return type of a gcc2
+ !    builtin and then its argument prototype would still apply.  */
+ ! char shl_load ();
+ ! /* The GNU C library defines this for functions which it implements
+ !     to always fail with ENOSYS.  Some functions are actually named
+ !     something starting with __ and the normal name is an alias.  */
+ ! #if defined (__stub_shl_load) || defined (__stub___shl_load)
+ ! choke me
+ ! #else
+ ! char (*f) () = shl_load;
+ ! #endif
+ ! #ifdef __cplusplus
+ ! }
+ ! #endif
+   
+ ! int
+ ! main ()
+ ! {
+ ! return f != shl_load;
+ !   ;
+ !   return 0;
+ ! }
+ ! _ACEOF
+ ! rm -f conftest.$ac_objext conftest$ac_exeext
+ ! if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+ !   (eval $ac_link) 2>conftest.er1
+ !   ac_status=$?
+ !   grep -v '^ *+' conftest.er1 >conftest.err
+ !   rm -f conftest.er1
+ !   cat conftest.err >&5
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); } &&
+ ! 	 { ac_try='test -z "$ac_cxx_werror_flag"
+ ! 			 || test ! -s conftest.err'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; } &&
+ ! 	 { ac_try='test -s conftest$ac_exeext'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; }; then
+ !   ac_cv_func_shl_load=yes
+ ! else
+ !   echo "$as_me: failed program was:" >&5
+ ! sed 's/^/| /' conftest.$ac_ext >&5
+   
+ ! ac_cv_func_shl_load=no
+ ! fi
+ ! rm -f conftest.err conftest.$ac_objext \
+ !       conftest$ac_exeext conftest.$ac_ext
+ ! fi
+ ! echo "$as_me:$LINENO: result: $ac_cv_func_shl_load" >&5
+ ! echo "${ECHO_T}$ac_cv_func_shl_load" >&6
+ ! if test $ac_cv_func_shl_load = yes; then
+ !   lt_cv_dlopen="shl_load"
+ ! else
+ !   echo "$as_me:$LINENO: checking for shl_load in -ldld" >&5
+ ! echo $ECHO_N "checking for shl_load in -ldld... $ECHO_C" >&6
+ ! if test "${ac_cv_lib_dld_shl_load+set}" = set; then
+ !   echo $ECHO_N "(cached) $ECHO_C" >&6
+ ! else
+ !   ac_check_lib_save_LIBS=$LIBS
+ ! LIBS="-ldld  $LIBS"
+ ! cat >conftest.$ac_ext <<_ACEOF
+ ! /* confdefs.h.  */
+ ! _ACEOF
+ ! cat confdefs.h >>conftest.$ac_ext
+ ! cat >>conftest.$ac_ext <<_ACEOF
+ ! /* end confdefs.h.  */
+   
+ ! /* Override any gcc2 internal prototype to avoid an error.  */
+ ! #ifdef __cplusplus
+ ! extern "C"
+ ! #endif
+ ! /* We use char because int might match the return type of a gcc2
+ !    builtin and then its argument prototype would still apply.  */
+ ! char shl_load ();
+ ! int
+ ! main ()
+ ! {
+ ! shl_load ();
+ !   ;
+ !   return 0;
+ ! }
+ ! _ACEOF
+ ! rm -f conftest.$ac_objext conftest$ac_exeext
+ ! if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+ !   (eval $ac_link) 2>conftest.er1
+ !   ac_status=$?
+ !   grep -v '^ *+' conftest.er1 >conftest.err
+ !   rm -f conftest.er1
+ !   cat conftest.err >&5
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); } &&
+ ! 	 { ac_try='test -z "$ac_cxx_werror_flag"
+ ! 			 || test ! -s conftest.err'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; } &&
+ ! 	 { ac_try='test -s conftest$ac_exeext'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; }; then
+ !   ac_cv_lib_dld_shl_load=yes
+ ! else
+ !   echo "$as_me: failed program was:" >&5
+ ! sed 's/^/| /' conftest.$ac_ext >&5
+   
+ ! ac_cv_lib_dld_shl_load=no
+ ! fi
+ ! rm -f conftest.err conftest.$ac_objext \
+ !       conftest$ac_exeext conftest.$ac_ext
+ ! LIBS=$ac_check_lib_save_LIBS
+ ! fi
+ ! echo "$as_me:$LINENO: result: $ac_cv_lib_dld_shl_load" >&5
+ ! echo "${ECHO_T}$ac_cv_lib_dld_shl_load" >&6
+ ! if test $ac_cv_lib_dld_shl_load = yes; then
+ !   lt_cv_dlopen="shl_load" lt_cv_dlopen_libs="-dld"
+ ! else
+ !   echo "$as_me:$LINENO: checking for dlopen" >&5
+ ! echo $ECHO_N "checking for dlopen... $ECHO_C" >&6
+ ! if test "${ac_cv_func_dlopen+set}" = set; then
+ !   echo $ECHO_N "(cached) $ECHO_C" >&6
+ ! else
+ !   cat >conftest.$ac_ext <<_ACEOF
+ ! /* confdefs.h.  */
+ ! _ACEOF
+ ! cat confdefs.h >>conftest.$ac_ext
+ ! cat >>conftest.$ac_ext <<_ACEOF
+ ! /* end confdefs.h.  */
+ ! /* Define dlopen to an innocuous variant, in case <limits.h> declares dlopen.
+ !    For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+ ! #define dlopen innocuous_dlopen
+   
+ ! /* System header to define __stub macros and hopefully few prototypes,
+ !     which can conflict with char dlopen (); below.
+ !     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
+ !     <limits.h> exists even on freestanding compilers.  */
+   
+ ! #ifdef __STDC__
+ ! # include <limits.h>
+ ! #else
+ ! # include <assert.h>
+ ! #endif
+   
+ ! #undef dlopen
+   
+ ! /* Override any gcc2 internal prototype to avoid an error.  */
+ ! #ifdef __cplusplus
+ ! extern "C"
+ ! {
+ ! #endif
+ ! /* We use char because int might match the return type of a gcc2
+ !    builtin and then its argument prototype would still apply.  */
+ ! char dlopen ();
+ ! /* The GNU C library defines this for functions which it implements
+ !     to always fail with ENOSYS.  Some functions are actually named
+ !     something starting with __ and the normal name is an alias.  */
+ ! #if defined (__stub_dlopen) || defined (__stub___dlopen)
+ ! choke me
+ ! #else
+ ! char (*f) () = dlopen;
+ ! #endif
+ ! #ifdef __cplusplus
+ ! }
+ ! #endif
+   
+ ! int
+ ! main ()
+ ! {
+ ! return f != dlopen;
+ !   ;
+ !   return 0;
+ ! }
+ ! _ACEOF
+ ! rm -f conftest.$ac_objext conftest$ac_exeext
+ ! if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+ !   (eval $ac_link) 2>conftest.er1
+ !   ac_status=$?
+ !   grep -v '^ *+' conftest.er1 >conftest.err
+ !   rm -f conftest.er1
+ !   cat conftest.err >&5
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); } &&
+ ! 	 { ac_try='test -z "$ac_cxx_werror_flag"
+ ! 			 || test ! -s conftest.err'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; } &&
+ ! 	 { ac_try='test -s conftest$ac_exeext'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; }; then
+ !   ac_cv_func_dlopen=yes
+ ! else
+ !   echo "$as_me: failed program was:" >&5
+ ! sed 's/^/| /' conftest.$ac_ext >&5
+   
+ ! ac_cv_func_dlopen=no
+ ! fi
+ ! rm -f conftest.err conftest.$ac_objext \
+ !       conftest$ac_exeext conftest.$ac_ext
+ ! fi
+ ! echo "$as_me:$LINENO: result: $ac_cv_func_dlopen" >&5
+ ! echo "${ECHO_T}$ac_cv_func_dlopen" >&6
+ ! if test $ac_cv_func_dlopen = yes; then
+ !   lt_cv_dlopen="dlopen"
+ ! else
+ !   echo "$as_me:$LINENO: checking for dlopen in -ldl" >&5
+ ! echo $ECHO_N "checking for dlopen in -ldl... $ECHO_C" >&6
+ ! if test "${ac_cv_lib_dl_dlopen+set}" = set; then
+ !   echo $ECHO_N "(cached) $ECHO_C" >&6
+ ! else
+ !   ac_check_lib_save_LIBS=$LIBS
+ ! LIBS="-ldl  $LIBS"
+ ! cat >conftest.$ac_ext <<_ACEOF
+ ! /* confdefs.h.  */
+ ! _ACEOF
+ ! cat confdefs.h >>conftest.$ac_ext
+ ! cat >>conftest.$ac_ext <<_ACEOF
+ ! /* end confdefs.h.  */
+   
+ ! /* Override any gcc2 internal prototype to avoid an error.  */
+ ! #ifdef __cplusplus
+ ! extern "C"
+ ! #endif
+ ! /* We use char because int might match the return type of a gcc2
+ !    builtin and then its argument prototype would still apply.  */
+ ! char dlopen ();
+ ! int
+ ! main ()
+ ! {
+ ! dlopen ();
+ !   ;
+ !   return 0;
+ ! }
+ ! _ACEOF
+ ! rm -f conftest.$ac_objext conftest$ac_exeext
+ ! if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+ !   (eval $ac_link) 2>conftest.er1
+ !   ac_status=$?
+ !   grep -v '^ *+' conftest.er1 >conftest.err
+ !   rm -f conftest.er1
+ !   cat conftest.err >&5
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); } &&
+ ! 	 { ac_try='test -z "$ac_cxx_werror_flag"
+ ! 			 || test ! -s conftest.err'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; } &&
+ ! 	 { ac_try='test -s conftest$ac_exeext'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; }; then
+ !   ac_cv_lib_dl_dlopen=yes
+ ! else
+ !   echo "$as_me: failed program was:" >&5
+ ! sed 's/^/| /' conftest.$ac_ext >&5
+   
+ ! ac_cv_lib_dl_dlopen=no
+ ! fi
+ ! rm -f conftest.err conftest.$ac_objext \
+ !       conftest$ac_exeext conftest.$ac_ext
+ ! LIBS=$ac_check_lib_save_LIBS
+ ! fi
+ ! echo "$as_me:$LINENO: result: $ac_cv_lib_dl_dlopen" >&5
+ ! echo "${ECHO_T}$ac_cv_lib_dl_dlopen" >&6
+ ! if test $ac_cv_lib_dl_dlopen = yes; then
+ !   lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-ldl"
+ ! else
+ !   echo "$as_me:$LINENO: checking for dlopen in -lsvld" >&5
+ ! echo $ECHO_N "checking for dlopen in -lsvld... $ECHO_C" >&6
+ ! if test "${ac_cv_lib_svld_dlopen+set}" = set; then
+ !   echo $ECHO_N "(cached) $ECHO_C" >&6
+ ! else
+ !   ac_check_lib_save_LIBS=$LIBS
+ ! LIBS="-lsvld  $LIBS"
+ ! cat >conftest.$ac_ext <<_ACEOF
+ ! /* confdefs.h.  */
+ ! _ACEOF
+ ! cat confdefs.h >>conftest.$ac_ext
+ ! cat >>conftest.$ac_ext <<_ACEOF
+ ! /* end confdefs.h.  */
+   
+ ! /* Override any gcc2 internal prototype to avoid an error.  */
+ ! #ifdef __cplusplus
+ ! extern "C"
+ ! #endif
+ ! /* We use char because int might match the return type of a gcc2
+ !    builtin and then its argument prototype would still apply.  */
+ ! char dlopen ();
+ ! int
+ ! main ()
+ ! {
+ ! dlopen ();
+ !   ;
+ !   return 0;
+ ! }
+ ! _ACEOF
+ ! rm -f conftest.$ac_objext conftest$ac_exeext
+ ! if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+ !   (eval $ac_link) 2>conftest.er1
+ !   ac_status=$?
+ !   grep -v '^ *+' conftest.er1 >conftest.err
+ !   rm -f conftest.er1
+ !   cat conftest.err >&5
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); } &&
+ ! 	 { ac_try='test -z "$ac_cxx_werror_flag"
+ ! 			 || test ! -s conftest.err'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; } &&
+ ! 	 { ac_try='test -s conftest$ac_exeext'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; }; then
+ !   ac_cv_lib_svld_dlopen=yes
+ ! else
+ !   echo "$as_me: failed program was:" >&5
+ ! sed 's/^/| /' conftest.$ac_ext >&5
+   
+ ! ac_cv_lib_svld_dlopen=no
+ ! fi
+ ! rm -f conftest.err conftest.$ac_objext \
+ !       conftest$ac_exeext conftest.$ac_ext
+ ! LIBS=$ac_check_lib_save_LIBS
+ ! fi
+ ! echo "$as_me:$LINENO: result: $ac_cv_lib_svld_dlopen" >&5
+ ! echo "${ECHO_T}$ac_cv_lib_svld_dlopen" >&6
+ ! if test $ac_cv_lib_svld_dlopen = yes; then
+ !   lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-lsvld"
+ ! else
+ !   echo "$as_me:$LINENO: checking for dld_link in -ldld" >&5
+ ! echo $ECHO_N "checking for dld_link in -ldld... $ECHO_C" >&6
+ ! if test "${ac_cv_lib_dld_dld_link+set}" = set; then
+ !   echo $ECHO_N "(cached) $ECHO_C" >&6
+ ! else
+ !   ac_check_lib_save_LIBS=$LIBS
+ ! LIBS="-ldld  $LIBS"
+ ! cat >conftest.$ac_ext <<_ACEOF
+ ! /* confdefs.h.  */
+ ! _ACEOF
+ ! cat confdefs.h >>conftest.$ac_ext
+ ! cat >>conftest.$ac_ext <<_ACEOF
+ ! /* end confdefs.h.  */
+   
+ ! /* Override any gcc2 internal prototype to avoid an error.  */
+ ! #ifdef __cplusplus
+ ! extern "C"
+ ! #endif
+ ! /* We use char because int might match the return type of a gcc2
+ !    builtin and then its argument prototype would still apply.  */
+ ! char dld_link ();
+ ! int
+ ! main ()
+ ! {
+ ! dld_link ();
+ !   ;
+ !   return 0;
+ ! }
+ ! _ACEOF
+ ! rm -f conftest.$ac_objext conftest$ac_exeext
+ ! if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+ !   (eval $ac_link) 2>conftest.er1
+ !   ac_status=$?
+ !   grep -v '^ *+' conftest.er1 >conftest.err
+ !   rm -f conftest.er1
+ !   cat conftest.err >&5
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); } &&
+ ! 	 { ac_try='test -z "$ac_cxx_werror_flag"
+ ! 			 || test ! -s conftest.err'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; } &&
+ ! 	 { ac_try='test -s conftest$ac_exeext'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; }; then
+ !   ac_cv_lib_dld_dld_link=yes
+ ! else
+ !   echo "$as_me: failed program was:" >&5
+ ! sed 's/^/| /' conftest.$ac_ext >&5
+   
+ ! ac_cv_lib_dld_dld_link=no
+ ! fi
+ ! rm -f conftest.err conftest.$ac_objext \
+ !       conftest$ac_exeext conftest.$ac_ext
+ ! LIBS=$ac_check_lib_save_LIBS
+ ! fi
+ ! echo "$as_me:$LINENO: result: $ac_cv_lib_dld_dld_link" >&5
+ ! echo "${ECHO_T}$ac_cv_lib_dld_dld_link" >&6
+ ! if test $ac_cv_lib_dld_dld_link = yes; then
+ !   lt_cv_dlopen="dld_link" lt_cv_dlopen_libs="-dld"
+ ! fi
+   
+   
+ ! fi
+   
+   
+ ! fi
+   
+   
+ ! fi
+   
+   
+ ! fi
+   
+   
+ ! fi
+   
+ !     ;;
+ !   esac
+   
+ !   if test "x$lt_cv_dlopen" != xno; then
+ !     enable_dlopen=yes
+ !   else
+ !     enable_dlopen=no
+ !   fi
+   
+ !   case $lt_cv_dlopen in
+ !   dlopen)
+ !     save_CPPFLAGS="$CPPFLAGS"
+ !     test "x$ac_cv_header_dlfcn_h" = xyes && CPPFLAGS="$CPPFLAGS -DHAVE_DLFCN_H"
+   
+ !     save_LDFLAGS="$LDFLAGS"
+ !     eval LDFLAGS=\"\$LDFLAGS $export_dynamic_flag_spec\"
+   
+ !     save_LIBS="$LIBS"
+ !     LIBS="$lt_cv_dlopen_libs $LIBS"
+   
+ !     echo "$as_me:$LINENO: checking whether a program can dlopen itself" >&5
+ ! echo $ECHO_N "checking whether a program can dlopen itself... $ECHO_C" >&6
+ ! if test "${lt_cv_dlopen_self+set}" = set; then
+ !   echo $ECHO_N "(cached) $ECHO_C" >&6
+ ! else
+ !   	  if test "$cross_compiling" = yes; then :
+ !   lt_cv_dlopen_self=cross
+ ! else
+ !   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
+ !   lt_status=$lt_dlunknown
+ !   cat > conftest.$ac_ext <<EOF
+ ! #line 14832 "configure"
+ ! #include "confdefs.h"
+   
+ ! #if HAVE_DLFCN_H
+ ! #include <dlfcn.h>
+ ! #endif
+   
+ ! #include <stdio.h>
+   
+ ! #ifdef RTLD_GLOBAL
+ ! #  define LT_DLGLOBAL		RTLD_GLOBAL
+ ! #else
+ ! #  ifdef DL_GLOBAL
+ ! #    define LT_DLGLOBAL		DL_GLOBAL
+ ! #  else
+ ! #    define LT_DLGLOBAL		0
+ ! #  endif
+ ! #endif
+   
+ ! /* We may have to define LT_DLLAZY_OR_NOW in the command line if we
+ !    find out it does not work in some platform. */
+ ! #ifndef LT_DLLAZY_OR_NOW
+ ! #  ifdef RTLD_LAZY
+ ! #    define LT_DLLAZY_OR_NOW		RTLD_LAZY
+ ! #  else
+ ! #    ifdef DL_LAZY
+ ! #      define LT_DLLAZY_OR_NOW		DL_LAZY
+ ! #    else
+ ! #      ifdef RTLD_NOW
+ ! #        define LT_DLLAZY_OR_NOW	RTLD_NOW
+ ! #      else
+ ! #        ifdef DL_NOW
+ ! #          define LT_DLLAZY_OR_NOW	DL_NOW
+ ! #        else
+ ! #          define LT_DLLAZY_OR_NOW	0
+ ! #        endif
+ ! #      endif
+ ! #    endif
+ ! #  endif
+ ! #endif
+ ! 
+ ! #ifdef __cplusplus
+ ! extern "C" void exit (int);
+ ! #endif
+   
+ ! void fnord() { int i=42;}
+ ! int main ()
+ ! {
+ !   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
+ !   int status = $lt_dlunknown;
+   
+ !   if (self)
+ !     {
+ !       if (dlsym (self,"fnord"))       status = $lt_dlno_uscore;
+ !       else if (dlsym( self,"_fnord")) status = $lt_dlneed_uscore;
+ !       /* dlclose (self); */
+ !     }
+   
+ !     exit (status);
+ ! }
+ ! EOF
+ !   if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+ !   (eval $ac_link) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); } && test -s conftest${ac_exeext} 2>/dev/null; then
+ !     (./conftest; exit; ) 2>/dev/null
+ !     lt_status=$?
+ !     case x$lt_status in
+ !       x$lt_dlno_uscore) lt_cv_dlopen_self=yes ;;
+ !       x$lt_dlneed_uscore) lt_cv_dlopen_self=yes ;;
+ !       x$lt_unknown|x*) lt_cv_dlopen_self=no ;;
+ !     esac
+ !   else :
+ !     # compilation failed
+ !     lt_cv_dlopen_self=no
+ !   fi
+ ! fi
+ ! rm -fr conftest*
+   
+   
+ ! fi
+ ! echo "$as_me:$LINENO: result: $lt_cv_dlopen_self" >&5
+ ! echo "${ECHO_T}$lt_cv_dlopen_self" >&6
+   
+ !     if test "x$lt_cv_dlopen_self" = xyes; then
+ !       LDFLAGS="$LDFLAGS $link_static_flag"
+ !       echo "$as_me:$LINENO: checking whether a statically linked program can dlopen itself" >&5
+ ! echo $ECHO_N "checking whether a statically linked program can dlopen itself... $ECHO_C" >&6
+ ! if test "${lt_cv_dlopen_self_static+set}" = set; then
+ !   echo $ECHO_N "(cached) $ECHO_C" >&6
+ ! else
+ !   	  if test "$cross_compiling" = yes; then :
+ !   lt_cv_dlopen_self_static=cross
+ ! else
+ !   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
+ !   lt_status=$lt_dlunknown
+ !   cat > conftest.$ac_ext <<EOF
+ ! #line 14930 "configure"
+ ! #include "confdefs.h"
+   
+ ! #if HAVE_DLFCN_H
+ ! #include <dlfcn.h>
+ ! #endif
+   
+ ! #include <stdio.h>
+   
+ ! #ifdef RTLD_GLOBAL
+ ! #  define LT_DLGLOBAL		RTLD_GLOBAL
+ ! #else
+ ! #  ifdef DL_GLOBAL
+ ! #    define LT_DLGLOBAL		DL_GLOBAL
+ ! #  else
+ ! #    define LT_DLGLOBAL		0
+ ! #  endif
+ ! #endif
+   
+ ! /* We may have to define LT_DLLAZY_OR_NOW in the command line if we
+ !    find out it does not work in some platform. */
+ ! #ifndef LT_DLLAZY_OR_NOW
+ ! #  ifdef RTLD_LAZY
+ ! #    define LT_DLLAZY_OR_NOW		RTLD_LAZY
+ ! #  else
+ ! #    ifdef DL_LAZY
+ ! #      define LT_DLLAZY_OR_NOW		DL_LAZY
+ ! #    else
+ ! #      ifdef RTLD_NOW
+ ! #        define LT_DLLAZY_OR_NOW	RTLD_NOW
+ ! #      else
+ ! #        ifdef DL_NOW
+ ! #          define LT_DLLAZY_OR_NOW	DL_NOW
+ ! #        else
+ ! #          define LT_DLLAZY_OR_NOW	0
+ ! #        endif
+ ! #      endif
+ ! #    endif
+ ! #  endif
+ ! #endif
+   
+ ! #ifdef __cplusplus
+ ! extern "C" void exit (int);
+ ! #endif
+   
+ ! void fnord() { int i=42;}
+ ! int main ()
+ ! {
+ !   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
+ !   int status = $lt_dlunknown;
+   
+ !   if (self)
+ !     {
+ !       if (dlsym (self,"fnord"))       status = $lt_dlno_uscore;
+ !       else if (dlsym( self,"_fnord")) status = $lt_dlneed_uscore;
+ !       /* dlclose (self); */
+ !     }
+   
+ !     exit (status);
+ ! }
+ ! EOF
+ !   if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+ !   (eval $ac_link) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); } && test -s conftest${ac_exeext} 2>/dev/null; then
+ !     (./conftest; exit; ) 2>/dev/null
+ !     lt_status=$?
+ !     case x$lt_status in
+ !       x$lt_dlno_uscore) lt_cv_dlopen_self_static=yes ;;
+ !       x$lt_dlneed_uscore) lt_cv_dlopen_self_static=yes ;;
+ !       x$lt_unknown|x*) lt_cv_dlopen_self_static=no ;;
+ !     esac
+ !   else :
+ !     # compilation failed
+ !     lt_cv_dlopen_self_static=no
+ !   fi
+ ! fi
+ ! rm -fr conftest*
+   
+   
+ ! fi
+ ! echo "$as_me:$LINENO: result: $lt_cv_dlopen_self_static" >&5
+ ! echo "${ECHO_T}$lt_cv_dlopen_self_static" >&6
+ !     fi
+   
+ !     CPPFLAGS="$save_CPPFLAGS"
+ !     LDFLAGS="$save_LDFLAGS"
+ !     LIBS="$save_LIBS"
+ !     ;;
+ !   esac
+   
+ !   case $lt_cv_dlopen_self in
+ !   yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;
+ !   *) enable_dlopen_self=unknown ;;
+ !   esac
+   
+ !   case $lt_cv_dlopen_self_static in
+ !   yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;
+ !   *) enable_dlopen_self_static=unknown ;;
+ !   esac
+ ! fi
+   
+   
+ ! # The else clause should only fire when bootstrapping the
+ ! # libtool distribution, otherwise you forgot to ship ltmain.sh
+ ! # with your package, and you will get complaints that there are
+ ! # no rules to generate ltmain.sh.
+ ! if test -f "$ltmain"; then
+ !   # See if we are running on zsh, and set the options which allow our commands through
+ !   # without removal of \ escapes.
+ !   if test -n "${ZSH_VERSION+set}" ; then
+ !     setopt NO_GLOB_SUBST
+ !   fi
+ !   # Now quote all the things that may contain metacharacters while being
+ !   # careful not to overquote the AC_SUBSTed values.  We take copies of the
+ !   # variables and quote the copies for generation of the libtool script.
+ !   for var in echo old_CC old_CFLAGS AR AR_FLAGS EGREP RANLIB LN_S LTCC NM \
+ !     SED SHELL STRIP \
+ !     libname_spec library_names_spec soname_spec extract_expsyms_cmds \
+ !     old_striplib striplib file_magic_cmd finish_cmds finish_eval \
+ !     deplibs_check_method reload_flag reload_cmds need_locks \
+ !     lt_cv_sys_global_symbol_pipe lt_cv_sys_global_symbol_to_cdecl \
+ !     lt_cv_sys_global_symbol_to_c_name_address \
+ !     sys_lib_search_path_spec sys_lib_dlsearch_path_spec \
+ !     old_postinstall_cmds old_postuninstall_cmds \
+ !     compiler_CXX \
+ !     CC_CXX \
+ !     LD_CXX \
+ !     lt_prog_compiler_wl_CXX \
+ !     lt_prog_compiler_pic_CXX \
+ !     lt_prog_compiler_static_CXX \
+ !     lt_prog_compiler_no_builtin_flag_CXX \
+ !     export_dynamic_flag_spec_CXX \
+ !     thread_safe_flag_spec_CXX \
+ !     whole_archive_flag_spec_CXX \
+ !     enable_shared_with_static_runtimes_CXX \
+ !     old_archive_cmds_CXX \
+ !     old_archive_from_new_cmds_CXX \
+ !     predep_objects_CXX \
+ !     postdep_objects_CXX \
+ !     predeps_CXX \
+ !     postdeps_CXX \
+ !     compiler_lib_search_path_CXX \
+ !     archive_cmds_CXX \
+ !     archive_expsym_cmds_CXX \
+ !     postinstall_cmds_CXX \
+ !     postuninstall_cmds_CXX \
+ !     old_archive_from_expsyms_cmds_CXX \
+ !     allow_undefined_flag_CXX \
+ !     no_undefined_flag_CXX \
+ !     export_symbols_cmds_CXX \
+ !     hardcode_libdir_flag_spec_CXX \
+ !     hardcode_libdir_flag_spec_ld_CXX \
+ !     hardcode_libdir_separator_CXX \
+ !     hardcode_automatic_CXX \
+ !     module_cmds_CXX \
+ !     module_expsym_cmds_CXX \
+ !     lt_cv_prog_compiler_c_o_CXX \
+ !     exclude_expsyms_CXX \
+ !     include_expsyms_CXX; do
+ ! 
+ !     case $var in
+ !     old_archive_cmds_CXX | \
+ !     old_archive_from_new_cmds_CXX | \
+ !     archive_cmds_CXX | \
+ !     archive_expsym_cmds_CXX | \
+ !     module_cmds_CXX | \
+ !     module_expsym_cmds_CXX | \
+ !     old_archive_from_expsyms_cmds_CXX | \
+ !     export_symbols_cmds_CXX | \
+ !     extract_expsyms_cmds | reload_cmds | finish_cmds | \
+ !     postinstall_cmds | postuninstall_cmds | \
+ !     old_postinstall_cmds | old_postuninstall_cmds | \
+ !     sys_lib_search_path_spec | sys_lib_dlsearch_path_spec)
+ !       # Double-quote double-evaled strings.
+ !       eval "lt_$var=\\\"\`\$echo \"X\$$var\" | \$Xsed -e \"\$double_quote_subst\" -e \"\$sed_quote_subst\" -e \"\$delay_variable_subst\"\`\\\""
+ !       ;;
+ !     *)
+ !       eval "lt_$var=\\\"\`\$echo \"X\$$var\" | \$Xsed -e \"\$sed_quote_subst\"\`\\\""
+ !       ;;
+ !     esac
+ !   done
+ ! 
+ !   case $lt_echo in
+ !   *'\$0 --fallback-echo"')
+ !     lt_echo=`$echo "X$lt_echo" | $Xsed -e 's/\\\\\\\$0 --fallback-echo"$/$0 --fallback-echo"/'`
+ !     ;;
+ !   esac
+ ! 
+ ! cfgfile="$ofile"
+ ! 
+ !   cat <<__EOF__ >> "$cfgfile"
+ ! # ### BEGIN LIBTOOL TAG CONFIG: $tagname
+ ! 
+ ! # Libtool was configured on host `(hostname || uname -n) 2>/dev/null | sed 1q`:
+ ! 
+ ! # Shell to use when invoking shell scripts.
+ ! SHELL=$lt_SHELL
+ ! 
+ ! # Whether or not to build shared libraries.
+ ! build_libtool_libs=$enable_shared
+ ! 
+ ! # Whether or not to build static libraries.
+ ! build_old_libs=$enable_static
+ ! 
+ ! # Whether or not to add -lc for building shared libraries.
+ ! build_libtool_need_lc=$archive_cmds_need_lc_CXX
+ ! 
+ ! # Whether or not to disallow shared libs when runtime libs are static
+ ! allow_libtool_libs_with_static_runtimes=$enable_shared_with_static_runtimes_CXX
+ ! 
+ ! # Whether or not to optimize for fast installation.
+ ! fast_install=$enable_fast_install
+ ! 
+ ! # The host system.
+ ! host_alias=$host_alias
+ ! host=$host
+ ! host_os=$host_os
+ ! 
+ ! # The build system.
+ ! build_alias=$build_alias
+ ! build=$build
+ ! build_os=$build_os
+ ! 
+ ! # An echo program that does not interpret backslashes.
+ ! echo=$lt_echo
+ ! 
+ ! # The archiver.
+ ! AR=$lt_AR
+ ! AR_FLAGS=$lt_AR_FLAGS
+ ! 
+ ! # A C compiler.
+ ! LTCC=$lt_LTCC
+ ! 
+ ! # A language-specific compiler.
+ ! CC=$lt_compiler_CXX
+ ! 
+ ! # Is the compiler the GNU C compiler?
+ ! with_gcc=$GCC_CXX
+ ! 
+ ! # An ERE matcher.
+ ! EGREP=$lt_EGREP
+ ! 
+ ! # The linker used to build libraries.
+ ! LD=$lt_LD_CXX
+ ! 
+ ! # Whether we need hard or soft links.
+ ! LN_S=$lt_LN_S
+ ! 
+ ! # A BSD-compatible nm program.
+ ! NM=$lt_NM
+ ! 
+ ! # A symbol stripping program
+ ! STRIP=$lt_STRIP
+ ! 
+ ! # Used to examine libraries when file_magic_cmd begins "file"
+ ! MAGIC_CMD=$MAGIC_CMD
+ ! 
+ ! # Used on cygwin: DLL creation program.
+ ! DLLTOOL="$DLLTOOL"
+ ! 
+ ! # Used on cygwin: object dumper.
+ ! OBJDUMP="$OBJDUMP"
+ ! 
+ ! # Used on cygwin: assembler.
+ ! AS="$AS"
+ ! 
+ ! # The name of the directory that contains temporary libtool files.
+ ! objdir=$objdir
+ ! 
+ ! # How to create reloadable object files.
+ ! reload_flag=$lt_reload_flag
+ ! reload_cmds=$lt_reload_cmds
+ ! 
+ ! # How to pass a linker flag through the compiler.
+ ! wl=$lt_lt_prog_compiler_wl_CXX
+ ! 
+ ! # Object file suffix (normally "o").
+ ! objext="$ac_objext"
+ ! 
+ ! # Old archive suffix (normally "a").
+ ! libext="$libext"
+ ! 
+ ! # Shared library suffix (normally ".so").
+ ! shrext_cmds='$shrext_cmds'
+ ! 
+ ! # Executable file suffix (normally "").
+ ! exeext="$exeext"
+ ! 
+ ! # Additional compiler flags for building library objects.
+ ! pic_flag=$lt_lt_prog_compiler_pic_CXX
+ ! pic_mode=$pic_mode
+ ! 
+ ! # What is the maximum length of a command?
+ ! max_cmd_len=$lt_cv_sys_max_cmd_len
+ ! 
+ ! # Does compiler simultaneously support -c and -o options?
+ ! compiler_c_o=$lt_lt_cv_prog_compiler_c_o_CXX
+ ! 
+ ! # Must we lock files when doing compilation?
+ ! need_locks=$lt_need_locks
+ ! 
+ ! # Do we need the lib prefix for modules?
+ ! need_lib_prefix=$need_lib_prefix
+ ! 
+ ! # Do we need a version for libraries?
+ ! need_version=$need_version
+ ! 
+ ! # Whether dlopen is supported.
+ ! dlopen_support=$enable_dlopen
+ ! 
+ ! # Whether dlopen of programs is supported.
+ ! dlopen_self=$enable_dlopen_self
+ ! 
+ ! # Whether dlopen of statically linked programs is supported.
+ ! dlopen_self_static=$enable_dlopen_self_static
+ ! 
+ ! # Compiler flag to prevent dynamic linking.
+ ! link_static_flag=$lt_lt_prog_compiler_static_CXX
+ ! 
+ ! # Compiler flag to turn off builtin functions.
+ ! no_builtin_flag=$lt_lt_prog_compiler_no_builtin_flag_CXX
+ ! 
+ ! # Compiler flag to allow reflexive dlopens.
+ ! export_dynamic_flag_spec=$lt_export_dynamic_flag_spec_CXX
+ ! 
+ ! # Compiler flag to generate shared objects directly from archives.
+ ! whole_archive_flag_spec=$lt_whole_archive_flag_spec_CXX
+ ! 
+ ! # Compiler flag to generate thread-safe objects.
+ ! thread_safe_flag_spec=$lt_thread_safe_flag_spec_CXX
+ ! 
+ ! # Library versioning type.
+ ! version_type=$version_type
+ ! 
+ ! # Format of library name prefix.
+ ! libname_spec=$lt_libname_spec
+ ! 
+ ! # List of archive names.  First name is the real one, the rest are links.
+ ! # The last name is the one that the linker finds with -lNAME.
+ ! library_names_spec=$lt_library_names_spec
+ ! 
+ ! # The coded name of the library, if different from the real name.
+ ! soname_spec=$lt_soname_spec
+ ! 
+ ! # Commands used to build and install an old-style archive.
+ ! RANLIB=$lt_RANLIB
+ ! old_archive_cmds=$lt_old_archive_cmds_CXX
+ ! old_postinstall_cmds=$lt_old_postinstall_cmds
+ ! old_postuninstall_cmds=$lt_old_postuninstall_cmds
+ ! 
+ ! # Create an old-style archive from a shared archive.
+ ! old_archive_from_new_cmds=$lt_old_archive_from_new_cmds_CXX
+ ! 
+ ! # Create a temporary old-style archive to link instead of a shared archive.
+ ! old_archive_from_expsyms_cmds=$lt_old_archive_from_expsyms_cmds_CXX
+ ! 
+ ! # Commands used to build and install a shared archive.
+ ! archive_cmds=$lt_archive_cmds_CXX
+ ! archive_expsym_cmds=$lt_archive_expsym_cmds_CXX
+ ! postinstall_cmds=$lt_postinstall_cmds
+ ! postuninstall_cmds=$lt_postuninstall_cmds
+ ! 
+ ! # Commands used to build a loadable module (assumed same as above if empty)
+ ! module_cmds=$lt_module_cmds_CXX
+ ! module_expsym_cmds=$lt_module_expsym_cmds_CXX
+ ! 
+ ! # Commands to strip libraries.
+ ! old_striplib=$lt_old_striplib
+ ! striplib=$lt_striplib
+ ! 
+ ! # Dependencies to place before the objects being linked to create a
+ ! # shared library.
+ ! predep_objects=$lt_predep_objects_CXX
+ ! 
+ ! # Dependencies to place after the objects being linked to create a
+ ! # shared library.
+ ! postdep_objects=$lt_postdep_objects_CXX
+ ! 
+ ! # Dependencies to place before the objects being linked to create a
+ ! # shared library.
+ ! predeps=$lt_predeps_CXX
+ ! 
+ ! # Dependencies to place after the objects being linked to create a
+ ! # shared library.
+ ! postdeps=$lt_postdeps_CXX
+ ! 
+ ! # The library search path used internally by the compiler when linking
+ ! # a shared library.
+ ! compiler_lib_search_path=$lt_compiler_lib_search_path_CXX
+ ! 
+ ! # Method to check whether dependent libraries are shared objects.
+ ! deplibs_check_method=$lt_deplibs_check_method
+ ! 
+ ! # Command to use when deplibs_check_method == file_magic.
+ ! file_magic_cmd=$lt_file_magic_cmd
+ ! 
+ ! # Flag that allows shared libraries with undefined symbols to be built.
+ ! allow_undefined_flag=$lt_allow_undefined_flag_CXX
+ ! 
+ ! # Flag that forces no undefined symbols.
+ ! no_undefined_flag=$lt_no_undefined_flag_CXX
+ ! 
+ ! # Commands used to finish a libtool library installation in a directory.
+ ! finish_cmds=$lt_finish_cmds
+ ! 
+ ! # Same as above, but a single script fragment to be evaled but not shown.
+ ! finish_eval=$lt_finish_eval
+ ! 
+ ! # Take the output of nm and produce a listing of raw symbols and C names.
+ ! global_symbol_pipe=$lt_lt_cv_sys_global_symbol_pipe
+ ! 
+ ! # Transform the output of nm in a proper C declaration
+ ! global_symbol_to_cdecl=$lt_lt_cv_sys_global_symbol_to_cdecl
+ ! 
+ ! # Transform the output of nm in a C name address pair
+ ! global_symbol_to_c_name_address=$lt_lt_cv_sys_global_symbol_to_c_name_address
+   
+   # This is the shared library runtime path variable.
+   runpath_var=$runpath_var
+ --- 14551,14877 ----
+     enable_fast_install=needless
+   fi
+   
+ ! 
+ ! # The else clause should only fire when bootstrapping the
+ ! # libtool distribution, otherwise you forgot to ship ltmain.sh
+ ! # with your package, and you will get complaints that there are
+ ! # no rules to generate ltmain.sh.
+ ! if test -f "$ltmain"; then
+ !   # See if we are running on zsh, and set the options which allow our commands through
+ !   # without removal of \ escapes.
+ !   if test -n "${ZSH_VERSION+set}" ; then
+ !     setopt NO_GLOB_SUBST
+ !   fi
+ !   # Now quote all the things that may contain metacharacters while being
+ !   # careful not to overquote the AC_SUBSTed values.  We take copies of the
+ !   # variables and quote the copies for generation of the libtool script.
+ !   for var in echo old_CC old_CFLAGS AR AR_FLAGS EGREP RANLIB LN_S LTCC LTCFLAGS NM \
+ !     SED SHELL STRIP \
+ !     libname_spec library_names_spec soname_spec extract_expsyms_cmds \
+ !     old_striplib striplib file_magic_cmd finish_cmds finish_eval \
+ !     deplibs_check_method reload_flag reload_cmds need_locks \
+ !     lt_cv_sys_global_symbol_pipe lt_cv_sys_global_symbol_to_cdecl \
+ !     lt_cv_sys_global_symbol_to_c_name_address \
+ !     sys_lib_search_path_spec sys_lib_dlsearch_path_spec \
+ !     old_postinstall_cmds old_postuninstall_cmds \
+ !     compiler_CXX \
+ !     CC_CXX \
+ !     LD_CXX \
+ !     lt_prog_compiler_wl_CXX \
+ !     lt_prog_compiler_pic_CXX \
+ !     lt_prog_compiler_static_CXX \
+ !     lt_prog_compiler_no_builtin_flag_CXX \
+ !     export_dynamic_flag_spec_CXX \
+ !     thread_safe_flag_spec_CXX \
+ !     whole_archive_flag_spec_CXX \
+ !     enable_shared_with_static_runtimes_CXX \
+ !     old_archive_cmds_CXX \
+ !     old_archive_from_new_cmds_CXX \
+ !     predep_objects_CXX \
+ !     postdep_objects_CXX \
+ !     predeps_CXX \
+ !     postdeps_CXX \
+ !     compiler_lib_search_path_CXX \
+ !     archive_cmds_CXX \
+ !     archive_expsym_cmds_CXX \
+ !     postinstall_cmds_CXX \
+ !     postuninstall_cmds_CXX \
+ !     old_archive_from_expsyms_cmds_CXX \
+ !     allow_undefined_flag_CXX \
+ !     no_undefined_flag_CXX \
+ !     export_symbols_cmds_CXX \
+ !     hardcode_libdir_flag_spec_CXX \
+ !     hardcode_libdir_flag_spec_ld_CXX \
+ !     hardcode_libdir_separator_CXX \
+ !     hardcode_automatic_CXX \
+ !     module_cmds_CXX \
+ !     module_expsym_cmds_CXX \
+ !     lt_cv_prog_compiler_c_o_CXX \
+ !     exclude_expsyms_CXX \
+ !     include_expsyms_CXX; do
+ ! 
+ !     case $var in
+ !     old_archive_cmds_CXX | \
+ !     old_archive_from_new_cmds_CXX | \
+ !     archive_cmds_CXX | \
+ !     archive_expsym_cmds_CXX | \
+ !     module_cmds_CXX | \
+ !     module_expsym_cmds_CXX | \
+ !     old_archive_from_expsyms_cmds_CXX | \
+ !     export_symbols_cmds_CXX | \
+ !     extract_expsyms_cmds | reload_cmds | finish_cmds | \
+ !     postinstall_cmds | postuninstall_cmds | \
+ !     old_postinstall_cmds | old_postuninstall_cmds | \
+ !     sys_lib_search_path_spec | sys_lib_dlsearch_path_spec)
+ !       # Double-quote double-evaled strings.
+ !       eval "lt_$var=\\\"\`\$echo \"X\$$var\" | \$Xsed -e \"\$double_quote_subst\" -e \"\$sed_quote_subst\" -e \"\$delay_variable_subst\"\`\\\""
+ !       ;;
+ !     *)
+ !       eval "lt_$var=\\\"\`\$echo \"X\$$var\" | \$Xsed -e \"\$sed_quote_subst\"\`\\\""
+ !       ;;
+ !     esac
+ !   done
+ ! 
+ !   case $lt_echo in
+ !   *'\$0 --fallback-echo"')
+ !     lt_echo=`$echo "X$lt_echo" | $Xsed -e 's/\\\\\\\$0 --fallback-echo"$/$0 --fallback-echo"/'`
+       ;;
+     esac
+   
+ ! cfgfile="$ofile"
+   
+ !   cat <<__EOF__ >> "$cfgfile"
+ ! # ### BEGIN LIBTOOL TAG CONFIG: $tagname
+   
+ ! # Libtool was configured on host `(hostname || uname -n) 2>/dev/null | sed 1q`:
+   
+ ! # Shell to use when invoking shell scripts.
+ ! SHELL=$lt_SHELL
+   
+ ! # Whether or not to build shared libraries.
+ ! build_libtool_libs=$enable_shared
+   
+ ! # Whether or not to build static libraries.
+ ! build_old_libs=$enable_static
+   
+ ! # Whether or not to add -lc for building shared libraries.
+ ! build_libtool_need_lc=$archive_cmds_need_lc_CXX
+   
+ ! # Whether or not to disallow shared libs when runtime libs are static
+ ! allow_libtool_libs_with_static_runtimes=$enable_shared_with_static_runtimes_CXX
+   
+ ! # Whether or not to optimize for fast installation.
+ ! fast_install=$enable_fast_install
+   
+ ! # The host system.
+ ! host_alias=$host_alias
+ ! host=$host
+ ! host_os=$host_os
+   
+ ! # The build system.
+ ! build_alias=$build_alias
+ ! build=$build
+ ! build_os=$build_os
+   
+ ! # An echo program that does not interpret backslashes.
+ ! echo=$lt_echo
+   
+ ! # The archiver.
+ ! AR=$lt_AR
+ ! AR_FLAGS=$lt_AR_FLAGS
+   
+ ! # A C compiler.
+ ! LTCC=$lt_LTCC
+   
+ ! # LTCC compiler flags.
+ ! LTCFLAGS=$lt_LTCFLAGS
+   
+ ! # A language-specific compiler.
+ ! CC=$lt_compiler_CXX
+   
+ ! # Is the compiler the GNU C compiler?
+ ! with_gcc=$GCC_CXX
+   
+ ! gcc_dir=\`gcc -print-file-name=. | $SED 's,/\.$,,'\`
+ ! gcc_ver=\`gcc -dumpversion\`
+   
+ ! # An ERE matcher.
+ ! EGREP=$lt_EGREP
+   
+ ! # The linker used to build libraries.
+ ! LD=$lt_LD_CXX
+   
+ ! # Whether we need hard or soft links.
+ ! LN_S=$lt_LN_S
+   
+ ! # A BSD-compatible nm program.
+ ! NM=$lt_NM
+   
+ ! # A symbol stripping program
+ ! STRIP=$lt_STRIP
+   
+ ! # Used to examine libraries when file_magic_cmd begins "file"
+ ! MAGIC_CMD=$MAGIC_CMD
+   
+ ! # Used on cygwin: DLL creation program.
+ ! DLLTOOL="$DLLTOOL"
+   
+ ! # Used on cygwin: object dumper.
+ ! OBJDUMP="$OBJDUMP"
+   
+ ! # Used on cygwin: assembler.
+ ! AS="$AS"
+   
+ ! # The name of the directory that contains temporary libtool files.
+ ! objdir=$objdir
+   
+ ! # How to create reloadable object files.
+ ! reload_flag=$lt_reload_flag
+ ! reload_cmds=$lt_reload_cmds
+   
+ ! # How to pass a linker flag through the compiler.
+ ! wl=$lt_lt_prog_compiler_wl_CXX
+   
+ ! # Object file suffix (normally "o").
+ ! objext="$ac_objext"
+   
+ + # Old archive suffix (normally "a").
+ + libext="$libext"
+   
+ ! # Shared library suffix (normally ".so").
+ ! shrext_cmds='$shrext_cmds'
+   
+ + # Executable file suffix (normally "").
+ + exeext="$exeext"
+   
+ ! # Additional compiler flags for building library objects.
+ ! pic_flag=$lt_lt_prog_compiler_pic_CXX
+ ! pic_mode=$pic_mode
+   
+ + # What is the maximum length of a command?
+ + max_cmd_len=$lt_cv_sys_max_cmd_len
+   
+ ! # Does compiler simultaneously support -c and -o options?
+ ! compiler_c_o=$lt_lt_cv_prog_compiler_c_o_CXX
+   
+ + # Must we lock files when doing compilation?
+ + need_locks=$lt_need_locks
+   
+ ! # Do we need the lib prefix for modules?
+ ! need_lib_prefix=$need_lib_prefix
+   
+ + # Do we need a version for libraries?
+ + need_version=$need_version
+   
+ ! # Whether dlopen is supported.
+ ! dlopen_support=$enable_dlopen
+   
+ ! # Whether dlopen of programs is supported.
+ ! dlopen_self=$enable_dlopen_self
+   
+ ! # Whether dlopen of statically linked programs is supported.
+ ! dlopen_self_static=$enable_dlopen_self_static
+   
+ ! # Compiler flag to prevent dynamic linking.
+ ! link_static_flag=$lt_lt_prog_compiler_static_CXX
+   
+ ! # Compiler flag to turn off builtin functions.
+ ! no_builtin_flag=$lt_lt_prog_compiler_no_builtin_flag_CXX
+   
+ ! # Compiler flag to allow reflexive dlopens.
+ ! export_dynamic_flag_spec=$lt_export_dynamic_flag_spec_CXX
+   
+ ! # Compiler flag to generate shared objects directly from archives.
+ ! whole_archive_flag_spec=$lt_whole_archive_flag_spec_CXX
+   
+ ! # Compiler flag to generate thread-safe objects.
+ ! thread_safe_flag_spec=$lt_thread_safe_flag_spec_CXX
+   
+ ! # Library versioning type.
+ ! version_type=$version_type
+   
+ ! # Format of library name prefix.
+ ! libname_spec=$lt_libname_spec
+   
+ ! # List of archive names.  First name is the real one, the rest are links.
+ ! # The last name is the one that the linker finds with -lNAME.
+ ! library_names_spec=$lt_library_names_spec
+   
+ ! # The coded name of the library, if different from the real name.
+ ! soname_spec=$lt_soname_spec
+   
+ ! # Commands used to build and install an old-style archive.
+ ! RANLIB=$lt_RANLIB
+ ! old_archive_cmds=$lt_old_archive_cmds_CXX
+ ! old_postinstall_cmds=$lt_old_postinstall_cmds
+ ! old_postuninstall_cmds=$lt_old_postuninstall_cmds
+   
+ ! # Create an old-style archive from a shared archive.
+ ! old_archive_from_new_cmds=$lt_old_archive_from_new_cmds_CXX
+   
+ + # Create a temporary old-style archive to link instead of a shared archive.
+ + old_archive_from_expsyms_cmds=$lt_old_archive_from_expsyms_cmds_CXX
+   
+ ! # Commands used to build and install a shared archive.
+ ! archive_cmds=$lt_archive_cmds_CXX
+ ! archive_expsym_cmds=$lt_archive_expsym_cmds_CXX
+ ! postinstall_cmds=$lt_postinstall_cmds
+ ! postuninstall_cmds=$lt_postuninstall_cmds
+   
+ ! # Commands used to build a loadable module (assumed same as above if empty)
+ ! module_cmds=$lt_module_cmds_CXX
+ ! module_expsym_cmds=$lt_module_expsym_cmds_CXX
+   
+ ! # Commands to strip libraries.
+ ! old_striplib=$lt_old_striplib
+ ! striplib=$lt_striplib
+   
+ ! # Dependencies to place before the objects being linked to create a
+ ! # shared library.
+ ! predep_objects=\`echo $lt_predep_objects_CXX | \$SED -e "s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g"\`
+   
+ ! # Dependencies to place after the objects being linked to create a
+ ! # shared library.
+ ! postdep_objects=\`echo $lt_postdep_objects_CXX | \$SED -e "s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g"\`
+   
+ ! # Dependencies to place before the objects being linked to create a
+ ! # shared library.
+ ! predeps=$lt_predeps_CXX
+   
+ ! # Dependencies to place after the objects being linked to create a
+ ! # shared library.
+ ! postdeps=$lt_postdeps_CXX
+   
+ ! # The library search path used internally by the compiler when linking
+ ! # a shared library.
+ ! compiler_lib_search_path=\`echo $lt_compiler_lib_search_path_CXX | \$SED -e "s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g"\`
+   
+ ! # Method to check whether dependent libraries are shared objects.
+ ! deplibs_check_method=$lt_deplibs_check_method
+   
+ ! # Command to use when deplibs_check_method == file_magic.
+ ! file_magic_cmd=$lt_file_magic_cmd
+   
+ + # Flag that allows shared libraries with undefined symbols to be built.
+ + allow_undefined_flag=$lt_allow_undefined_flag_CXX
+   
+ ! # Flag that forces no undefined symbols.
+ ! no_undefined_flag=$lt_no_undefined_flag_CXX
+   
+ ! # Commands used to finish a libtool library installation in a directory.
+ ! finish_cmds=$lt_finish_cmds
+   
+ ! # Same as above, but a single script fragment to be evaled but not shown.
+ ! finish_eval=$lt_finish_eval
+   
+ ! # Take the output of nm and produce a listing of raw symbols and C names.
+ ! global_symbol_pipe=$lt_lt_cv_sys_global_symbol_pipe
+   
+ + # Transform the output of nm in a proper C declaration
+ + global_symbol_to_cdecl=$lt_lt_cv_sys_global_symbol_to_cdecl
+   
+ ! # Transform the output of nm in a C name address pair
+ ! global_symbol_to_c_name_address=$lt_lt_cv_sys_global_symbol_to_c_name_address
+   
+   # This is the shared library runtime path variable.
+   runpath_var=$runpath_var
+ ***************
+ *** 15397,15403 ****
+   link_all_deplibs=$link_all_deplibs_CXX
+   
+   # Compile-time system search path for libraries
+ ! sys_lib_search_path_spec=$lt_sys_lib_search_path_spec
+   
+   # Run-time system search path for libraries
+   sys_lib_dlsearch_path_spec=$lt_sys_lib_dlsearch_path_spec
+ --- 14924,14930 ----
+   link_all_deplibs=$link_all_deplibs_CXX
+   
+   # Compile-time system search path for libraries
+ ! sys_lib_search_path_spec=\`echo $lt_sys_lib_search_path_spec | \$SED -e "s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g"\`
+   
+   # Run-time system search path for libraries
+   sys_lib_dlsearch_path_spec=$lt_sys_lib_dlsearch_path_spec
+ ***************
+ *** 15504,15509 ****
+ --- 15031,15039 ----
+   # If no C compiler was specified, use CC.
+   LTCC=${LTCC-"$CC"}
+   
+ + # If no C compiler flags were specified, use CFLAGS.
+ + LTCFLAGS=${LTCFLAGS-"$CFLAGS"}
+ + 
+   # Allow CC to be a program name with arguments.
+   compiler=$CC
+   
+ ***************
+ *** 15511,15523 ****
+   # save warnings/boilerplate of simple test code
+   ac_outfile=conftest.$ac_objext
+   printf "$lt_simple_compile_test_code" >conftest.$ac_ext
+ ! eval "$ac_compile" 2>&1 >/dev/null | $SED '/^$/d' >conftest.err
+   _lt_compiler_boilerplate=`cat conftest.err`
+   $rm conftest*
+   
+   ac_outfile=conftest.$ac_objext
+   printf "$lt_simple_link_test_code" >conftest.$ac_ext
+ ! eval "$ac_link" 2>&1 >/dev/null | $SED '/^$/d' >conftest.err
+   _lt_linker_boilerplate=`cat conftest.err`
+   $rm conftest*
+   
+ --- 15041,15053 ----
+   # save warnings/boilerplate of simple test code
+   ac_outfile=conftest.$ac_objext
+   printf "$lt_simple_compile_test_code" >conftest.$ac_ext
+ ! eval "$ac_compile" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err
+   _lt_compiler_boilerplate=`cat conftest.err`
+   $rm conftest*
+   
+   ac_outfile=conftest.$ac_objext
+   printf "$lt_simple_link_test_code" >conftest.$ac_ext
+ ! eval "$ac_link" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err
+   _lt_linker_boilerplate=`cat conftest.err`
+   $rm conftest*
+   
+ ***************
+ *** 15549,15555 ****
+   
+   # On AIX, shared libraries and static libraries use the same namespace, and
+   # are all built from PIC.
+ ! case "$host_os" in
+   aix3*)
+     test "$enable_shared" = yes && enable_static=no
+     if test -n "$RANLIB"; then
+ --- 15079,15085 ----
+   
+   # On AIX, shared libraries and static libraries use the same namespace, and
+   # are all built from PIC.
+ ! case $host_os in
+   aix3*)
+     test "$enable_shared" = yes && enable_static=no
+     if test -n "$RANLIB"; then
+ ***************
+ *** 15573,15580 ****
+   echo "$as_me:$LINENO: result: $enable_static" >&5
+   echo "${ECHO_T}$enable_static" >&6
+   
+ - test "$ld_shlibs_F77" = no && can_build_shared=no
+ - 
+   GCC_F77="$G77"
+   LD_F77="$LD"
+   
+ --- 15103,15108 ----
+ ***************
+ *** 15621,15626 ****
+ --- 15149,15159 ----
+         lt_prog_compiler_pic_F77='-fno-common'
+         ;;
+   
+ +     interix3*)
+ +       # Interix 3.x gcc -fpic/-fPIC options generate broken code.
+ +       # Instead, we relocate shared libraries at runtime.
+ +       ;;
+ + 
+       msdosdjgpp*)
+         # Just because we use GCC doesn't mean we suddenly get shared libraries
+         # on systems that don't support them.
+ ***************
+ *** 15637,15643 ****
+       hpux*)
+         # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
+         # not for PA HP-UX.
+ !       case "$host_cpu" in
+         hppa*64*|ia64*)
+   	# +Z the default
+   	;;
+ --- 15170,15176 ----
+       hpux*)
+         # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
+         # not for PA HP-UX.
+ !       case $host_cpu in
+         hppa*64*|ia64*)
+   	# +Z the default
+   	;;
+ ***************
+ *** 15684,15690 ****
+         lt_prog_compiler_wl_F77='-Wl,'
+         # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
+         # not for PA HP-UX.
+ !       case "$host_cpu" in
+         hppa*64*|ia64*)
+   	# +Z the default
+   	;;
+ --- 15217,15223 ----
+         lt_prog_compiler_wl_F77='-Wl,'
+         # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
+         # not for PA HP-UX.
+ !       case $host_cpu in
+         hppa*64*|ia64*)
+   	# +Z the default
+   	;;
+ ***************
+ *** 15714,15725 ****
+   	lt_prog_compiler_pic_F77='-KPIC'
+   	lt_prog_compiler_static_F77='-static'
+           ;;
+ !       pgcc* | pgf77* | pgf90*)
+           # Portland Group compilers (*not* the Pentium gcc compiler,
+   	# which looks to be a dead project)
+   	lt_prog_compiler_wl_F77='-Wl,'
+   	lt_prog_compiler_pic_F77='-fpic'
+ ! 	lt_prog_compiler_static_F77='-static'
+           ;;
+         ccc*)
+           lt_prog_compiler_wl_F77='-Wl,'
+ --- 15247,15258 ----
+   	lt_prog_compiler_pic_F77='-KPIC'
+   	lt_prog_compiler_static_F77='-static'
+           ;;
+ !       pgcc* | pgf77* | pgf90* | pgf95*)
+           # Portland Group compilers (*not* the Pentium gcc compiler,
+   	# which looks to be a dead project)
+   	lt_prog_compiler_wl_F77='-Wl,'
+   	lt_prog_compiler_pic_F77='-fpic'
+ ! 	lt_prog_compiler_static_F77='-Bstatic'
+           ;;
+         ccc*)
+           lt_prog_compiler_wl_F77='-Wl,'
+ ***************
+ *** 15735,15745 ****
+         lt_prog_compiler_static_F77='-non_shared'
+         ;;
+   
+ -     sco3.2v5*)
+ -       lt_prog_compiler_pic_F77='-Kpic'
+ -       lt_prog_compiler_static_F77='-dn'
+ -       ;;
+ - 
+       solaris*)
+         lt_prog_compiler_pic_F77='-KPIC'
+         lt_prog_compiler_static_F77='-Bstatic'
+ --- 15268,15273 ----
+ ***************
+ *** 15757,15763 ****
+         lt_prog_compiler_static_F77='-Bstatic'
+         ;;
+   
+ !     sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)
+         lt_prog_compiler_wl_F77='-Wl,'
+         lt_prog_compiler_pic_F77='-KPIC'
+         lt_prog_compiler_static_F77='-Bstatic'
+ --- 15285,15291 ----
+         lt_prog_compiler_static_F77='-Bstatic'
+         ;;
+   
+ !     sysv4 | sysv4.2uw2* | sysv4.3*)
+         lt_prog_compiler_wl_F77='-Wl,'
+         lt_prog_compiler_pic_F77='-KPIC'
+         lt_prog_compiler_static_F77='-Bstatic'
+ ***************
+ *** 15770,15775 ****
+ --- 15298,15309 ----
+         fi
+         ;;
+   
+ +     sysv5* | unixware* | sco3.2v5* | sco5v6* | OpenUNIX*)
+ +       lt_prog_compiler_wl_F77='-Wl,'
+ +       lt_prog_compiler_pic_F77='-KPIC'
+ +       lt_prog_compiler_static_F77='-Bstatic'
+ +       ;;
+ + 
+       unicos*)
+         lt_prog_compiler_wl_F77='-Wl,'
+         lt_prog_compiler_can_build_shared_F77=no
+ ***************
+ *** 15809,15828 ****
+      # with a dollar sign (not a hyphen), so the echo should work correctly.
+      # The option is referenced via a variable to avoid confusing sed.
+      lt_compile=`echo "$ac_compile" | $SED \
+ !    -e 's:.*FLAGS}? :&$lt_compiler_flag :; t' \
+      -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
+      -e 's:$: $lt_compiler_flag:'`
+ !    (eval echo "\"\$as_me:15815: $lt_compile\"" >&5)
+      (eval "$lt_compile" 2>conftest.err)
+      ac_status=$?
+      cat conftest.err >&5
+ !    echo "$as_me:15819: \$? = $ac_status" >&5
+      if (exit $ac_status) && test -s "$ac_outfile"; then
+        # The compiler can only warn and ignore the option if not recognized
+        # So say no if there are warnings other than the usual output.
+ !      $echo "X$_lt_compiler_boilerplate" | $Xsed >conftest.exp
+ !      $SED '/^$/d' conftest.err >conftest.er2
+ !      if test ! -s conftest.err || diff conftest.exp conftest.er2 >/dev/null; then
+          lt_prog_compiler_pic_works_F77=yes
+        fi
+      fi
+ --- 15343,15362 ----
+      # with a dollar sign (not a hyphen), so the echo should work correctly.
+      # The option is referenced via a variable to avoid confusing sed.
+      lt_compile=`echo "$ac_compile" | $SED \
+ !    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
+      -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
+      -e 's:$: $lt_compiler_flag:'`
+ !    (eval echo "\"\$as_me:15349: $lt_compile\"" >&5)
+      (eval "$lt_compile" 2>conftest.err)
+      ac_status=$?
+      cat conftest.err >&5
+ !    echo "$as_me:15353: \$? = $ac_status" >&5
+      if (exit $ac_status) && test -s "$ac_outfile"; then
+        # The compiler can only warn and ignore the option if not recognized
+        # So say no if there are warnings other than the usual output.
+ !      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
+ !      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
+ !      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
+          lt_prog_compiler_pic_works_F77=yes
+        fi
+      fi
+ ***************
+ *** 15843,15849 ****
+   fi
+   
+   fi
+ ! case "$host_os" in
+     # For platforms which do not support PIC, -DPIC is meaningless:
+     *djgpp*)
+       lt_prog_compiler_pic_F77=
+ --- 15377,15383 ----
+   fi
+   
+   fi
+ ! case $host_os in
+     # For platforms which do not support PIC, -DPIC is meaningless:
+     *djgpp*)
+       lt_prog_compiler_pic_F77=
+ ***************
+ *** 15853,15858 ****
+ --- 15387,15434 ----
+       ;;
+   esac
+   
+ + #
+ + # Check to make sure the static flag actually works.
+ + #
+ + wl=$lt_prog_compiler_wl_F77 eval lt_tmp_static_flag=\"$lt_prog_compiler_static_F77\"
+ + echo "$as_me:$LINENO: checking if $compiler static flag $lt_tmp_static_flag works" >&5
+ + echo $ECHO_N "checking if $compiler static flag $lt_tmp_static_flag works... $ECHO_C" >&6
+ + if test "${lt_prog_compiler_static_works_F77+set}" = set; then
+ +   echo $ECHO_N "(cached) $ECHO_C" >&6
+ + else
+ +   lt_prog_compiler_static_works_F77=no
+ +    save_LDFLAGS="$LDFLAGS"
+ +    LDFLAGS="$LDFLAGS $lt_tmp_static_flag"
+ +    printf "$lt_simple_link_test_code" > conftest.$ac_ext
+ +    if (eval $ac_link 2>conftest.err) && test -s conftest$ac_exeext; then
+ +      # The linker can only warn and ignore the option if not recognized
+ +      # So say no if there are warnings
+ +      if test -s conftest.err; then
+ +        # Append any errors to the config.log.
+ +        cat conftest.err 1>&5
+ +        $echo "X$_lt_linker_boilerplate" | $Xsed -e '/^$/d' > conftest.exp
+ +        $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
+ +        if diff conftest.exp conftest.er2 >/dev/null; then
+ +          lt_prog_compiler_static_works_F77=yes
+ +        fi
+ +      else
+ +        lt_prog_compiler_static_works_F77=yes
+ +      fi
+ +    fi
+ +    $rm conftest*
+ +    LDFLAGS="$save_LDFLAGS"
+ + 
+ + fi
+ + echo "$as_me:$LINENO: result: $lt_prog_compiler_static_works_F77" >&5
+ + echo "${ECHO_T}$lt_prog_compiler_static_works_F77" >&6
+ + 
+ + if test x"$lt_prog_compiler_static_works_F77" = xyes; then
+ +     :
+ + else
+ +     lt_prog_compiler_static_F77=
+ + fi
+ + 
+ + 
+   echo "$as_me:$LINENO: checking if $compiler supports -c -o file.$ac_objext" >&5
+   echo $ECHO_N "checking if $compiler supports -c -o file.$ac_objext... $ECHO_C" >&6
+   if test "${lt_cv_prog_compiler_c_o_F77+set}" = set; then
+ ***************
+ *** 15871,15895 ****
+      # Note that $ac_compile itself does not contain backslashes and begins
+      # with a dollar sign (not a hyphen), so the echo should work correctly.
+      lt_compile=`echo "$ac_compile" | $SED \
+ !    -e 's:.*FLAGS}? :&$lt_compiler_flag :; t' \
+      -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
+      -e 's:$: $lt_compiler_flag:'`
+ !    (eval echo "\"\$as_me:15877: $lt_compile\"" >&5)
+      (eval "$lt_compile" 2>out/conftest.err)
+      ac_status=$?
+      cat out/conftest.err >&5
+ !    echo "$as_me:15881: \$? = $ac_status" >&5
+      if (exit $ac_status) && test -s out/conftest2.$ac_objext
+      then
+        # The compiler can only warn and ignore the option if not recognized
+        # So say no if there are warnings
+ !      $echo "X$_lt_compiler_boilerplate" | $Xsed > out/conftest.exp
+ !      $SED '/^$/d' out/conftest.err >out/conftest.er2
+ !      if test ! -s out/conftest.err || diff out/conftest.exp out/conftest.er2 >/dev/null; then
+          lt_cv_prog_compiler_c_o_F77=yes
+        fi
+      fi
+ !    chmod u+w .
+      $rm conftest*
+      # SGI C++ compiler will create directory out/ii_files/ for
+      # template instantiation
+ --- 15447,15471 ----
+      # Note that $ac_compile itself does not contain backslashes and begins
+      # with a dollar sign (not a hyphen), so the echo should work correctly.
+      lt_compile=`echo "$ac_compile" | $SED \
+ !    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
+      -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
+      -e 's:$: $lt_compiler_flag:'`
+ !    (eval echo "\"\$as_me:15453: $lt_compile\"" >&5)
+      (eval "$lt_compile" 2>out/conftest.err)
+      ac_status=$?
+      cat out/conftest.err >&5
+ !    echo "$as_me:15457: \$? = $ac_status" >&5
+      if (exit $ac_status) && test -s out/conftest2.$ac_objext
+      then
+        # The compiler can only warn and ignore the option if not recognized
+        # So say no if there are warnings
+ !      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
+ !      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
+ !      if test ! -s out/conftest.er2 || diff out/conftest.exp out/conftest.er2 >/dev/null; then
+          lt_cv_prog_compiler_c_o_F77=yes
+        fi
+      fi
+ !    chmod u+w . 2>&5
+      $rm conftest*
+      # SGI C++ compiler will create directory out/ii_files/ for
+      # template instantiation
+ ***************
+ *** 15985,15990 ****
+ --- 15561,15570 ----
+         with_gnu_ld=no
+       fi
+       ;;
+ +   interix*)
+ +     # we just hope/assume this is gcc and not c89 (= MSVC++)
+ +     with_gnu_ld=yes
+ +     ;;
+     openbsd*)
+       with_gnu_ld=no
+       ;;
+ ***************
+ *** 16069,16075 ****
+         export_symbols_cmds_F77='$NM $libobjs $convenience | $global_symbol_pipe | $SED -e '\''/^[BCDGRS] /s/.* \([^ ]*\)/\1 DATA/'\'' | $SED -e '\''/^[AITW] /s/.* //'\'' | sort | uniq > $export_symbols'
+   
+         if $LD --help 2>&1 | grep 'auto-import' > /dev/null; then
+ !         archive_cmds_F77='$CC -shared $libobjs $deplibs $compiler_flags -o $output_objdir/$soname ${wl}--image-base=0x10000000 ${wl}--out-implib,$lib'
+   	# If the export-symbols file already is a .def file (1st line
+   	# is EXPORTS), use it as is; otherwise, prepend...
+   	archive_expsym_cmds_F77='if test "x`$SED 1q $export_symbols`" = xEXPORTS; then
+ --- 15649,15655 ----
+         export_symbols_cmds_F77='$NM $libobjs $convenience | $global_symbol_pipe | $SED -e '\''/^[BCDGRS] /s/.* \([^ ]*\)/\1 DATA/'\'' | $SED -e '\''/^[AITW] /s/.* //'\'' | sort | uniq > $export_symbols'
+   
+         if $LD --help 2>&1 | grep 'auto-import' > /dev/null; then
+ !         archive_cmds_F77='$CC -shared $libobjs $deplibs $compiler_flags -o $output_objdir/$soname ${wl}--enable-auto-image-base -Xlinker --out-implib -Xlinker $lib'
+   	# If the export-symbols file already is a .def file (1st line
+   	# is EXPORTS), use it as is; otherwise, prepend...
+   	archive_expsym_cmds_F77='if test "x`$SED 1q $export_symbols`" = xEXPORTS; then
+ ***************
+ *** 16078,16099 ****
+   	  echo EXPORTS > $output_objdir/$soname.def;
+   	  cat $export_symbols >> $output_objdir/$soname.def;
+   	fi~
+ ! 	$CC -shared $output_objdir/$soname.def $libobjs $deplibs $compiler_flags -o $output_objdir/$soname ${wl}--image-base=0x10000000  ${wl}--out-implib,$lib'
+         else
+   	ld_shlibs_F77=no
+         fi
+         ;;
+   
+       linux*)
+         if $LD --help 2>&1 | grep ': supported targets:.* elf' > /dev/null; then
+   	tmp_addflag=
+   	case $cc_basename,$host_cpu in
+   	pgcc*)				# Portland Group C compiler
+ ! 	  whole_archive_flag_spec_F77=
+   	  ;;
+ ! 	pgf77* | pgf90* )			# Portland Group f77 and f90 compilers
+ ! 	  whole_archive_flag_spec_F77=
+ ! 	  tmp_addflag=' -fpic -Mnomain' ;;
+   	ecc*,ia64* | icc*,ia64*)		# Intel C compiler on ia64
+   	  tmp_addflag=' -i_dynamic' ;;
+   	efc*,ia64* | ifort*,ia64*)	# Intel Fortran compiler on ia64
+ --- 15658,15695 ----
+   	  echo EXPORTS > $output_objdir/$soname.def;
+   	  cat $export_symbols >> $output_objdir/$soname.def;
+   	fi~
+ ! 	$CC -shared $output_objdir/$soname.def $libobjs $deplibs $compiler_flags -o $output_objdir/$soname ${wl}--enable-auto-image-base -Xlinker --out-implib -Xlinker $lib'
+         else
+   	ld_shlibs_F77=no
+         fi
+         ;;
+   
+ +     interix3*)
+ +       hardcode_direct_F77=no
+ +       hardcode_shlibpath_var_F77=no
+ +       hardcode_libdir_flag_spec_F77='${wl}-rpath,$libdir'
+ +       export_dynamic_flag_spec_F77='${wl}-E'
+ +       # Hack: On Interix 3.x, we cannot compile PIC because of a broken gcc.
+ +       # Instead, shared libraries are loaded at an image base (0x10000000 by
+ +       # default) and relocated if they conflict, which is a slow very memory
+ +       # consuming and fragmenting process.  To avoid this, we pick a random,
+ +       # 256 KiB-aligned image base between 0x50000000 and 0x6FFC0000 at link
+ +       # time.  Moving up from 0x10000000 also allows more sbrk(2) space.
+ +       archive_cmds_F77='$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-h,$soname ${wl}--image-base,`expr ${RANDOM-$$} % 4096 / 2 \* 262144 + 1342177280` -o $lib'
+ +       archive_expsym_cmds_F77='sed "s,^,_," $export_symbols >$output_objdir/$soname.expsym~$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-h,$soname ${wl}--retain-symbols-file,$output_objdir/$soname.expsym ${wl}--image-base,`expr ${RANDOM-$$} % 4096 / 2 \* 262144 + 1342177280` -o $lib'
+ +       ;;
+ + 
+       linux*)
+         if $LD --help 2>&1 | grep ': supported targets:.* elf' > /dev/null; then
+   	tmp_addflag=
+   	case $cc_basename,$host_cpu in
+   	pgcc*)				# Portland Group C compiler
+ ! 	  whole_archive_flag_spec_F77='${wl}--whole-archive`for conv in $convenience\"\"; do test  -n \"$conv\" && new_convenience=\"$new_convenience,$conv\"; done; $echo \"$new_convenience\"` ${wl}--no-whole-archive'
+ ! 	  tmp_addflag=' $pic_flag'
+   	  ;;
+ ! 	pgf77* | pgf90* | pgf95*)	# Portland Group f77 and f90 compilers
+ ! 	  whole_archive_flag_spec_F77='${wl}--whole-archive`for conv in $convenience\"\"; do test  -n \"$conv\" && new_convenience=\"$new_convenience,$conv\"; done; $echo \"$new_convenience\"` ${wl}--no-whole-archive'
+ ! 	  tmp_addflag=' $pic_flag -Mnomain' ;;
+   	ecc*,ia64* | icc*,ia64*)		# Intel C compiler on ia64
+   	  tmp_addflag=' -i_dynamic' ;;
+   	efc*,ia64* | ifort*,ia64*)	# Intel Fortran compiler on ia64
+ ***************
+ *** 16124,16130 ****
+         fi
+         ;;
+   
+ !     solaris* | sysv5*)
+         if $LD -v 2>&1 | grep 'BFD 2\.8' > /dev/null; then
+   	ld_shlibs_F77=no
+   	cat <<EOF 1>&2
+ --- 15720,15726 ----
+         fi
+         ;;
+   
+ !     solaris*)
+         if $LD -v 2>&1 | grep 'BFD 2\.8' > /dev/null; then
+   	ld_shlibs_F77=no
+   	cat <<EOF 1>&2
+ ***************
+ *** 16145,16150 ****
+ --- 15741,15773 ----
+         fi
+         ;;
+   
+ +     sysv5* | sco3.2v5* | sco5v6* | unixware* | OpenUNIX*)
+ +       case `$LD -v 2>&1` in
+ +         *\ [01].* | *\ 2.[0-9].* | *\ 2.1[0-5].*)
+ + 	ld_shlibs_F77=no
+ + 	cat <<_LT_EOF 1>&2
+ + 
+ + *** Warning: Releases of the GNU linker prior to 2.16.91.0.3 can not
+ + *** reliably create shared libraries on SCO systems.  Therefore, libtool
+ + *** is disabling shared libraries support.  We urge you to upgrade GNU
+ + *** binutils to release 2.16.91.0.3 or newer.  Another option is to modify
+ + *** your PATH or compiler configuration so that the native linker is
+ + *** used, and then restart.
+ + 
+ + _LT_EOF
+ + 	;;
+ + 	*)
+ + 	  if $LD --help 2>&1 | grep ': supported targets:.* elf' > /dev/null; then
+ + 	    hardcode_libdir_flag_spec_F77='`test -z "$SCOABSPATH" && echo ${wl}-rpath,$libdir`'
+ + 	    archive_cmds_F77='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib'
+ + 	    archive_expsym_cmds_F77='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname,\${SCOABSPATH:+${install_libdir}/}$soname,-retain-symbols-file,$export_symbols -o $lib'
+ + 	  else
+ + 	    ld_shlibs_F77=no
+ + 	  fi
+ + 	;;
+ +       esac
+ +       ;;
+ + 
+       sunos4*)
+         archive_cmds_F77='$LD -assert pure-text -Bshareable -o $lib $libobjs $deplibs $linker_flags'
+         wlarc=
+ ***************
+ *** 16178,16184 ****
+         # Note: this linker hardcodes the directories in LIBPATH if there
+         # are no directories specified by -L.
+         hardcode_minus_L_F77=yes
+ !       if test "$GCC" = yes && test -z "$link_static_flag"; then
+   	# Neither direct hardcoding nor static linking is supported with a
+   	# broken collect2.
+   	hardcode_direct_F77=unsupported
+ --- 15801,15807 ----
+         # Note: this linker hardcodes the directories in LIBPATH if there
+         # are no directories specified by -L.
+         hardcode_minus_L_F77=yes
+ !       if test "$GCC" = yes && test -z "$lt_prog_compiler_static"; then
+   	# Neither direct hardcoding nor static linking is supported with a
+   	# broken collect2.
+   	hardcode_direct_F77=unsupported
+ ***************
+ *** 16212,16217 ****
+ --- 15835,15841 ----
+     	    break
+     	  fi
+   	  done
+ + 	  ;;
+   	esac
+   
+   	exp_sym_flag='-bexport'
+ ***************
+ *** 16249,16254 ****
+ --- 15873,15879 ----
+     	  hardcode_libdir_flag_spec_F77='-L$libdir'
+     	  hardcode_libdir_separator_F77=
+   	  fi
+ + 	  ;;
+   	esac
+   	shared_flag='-shared'
+   	if test "$aix_use_runtimelinking" = yes; then
+ ***************
+ *** 16261,16271 ****
+     	# chokes on -Wl,-G. The following line is correct:
+   	  shared_flag='-G'
+   	else
+ !   	if test "$aix_use_runtimelinking" = yes; then
+   	    shared_flag='${wl}-G'
+   	  else
+   	    shared_flag='${wl}-bM:SRE'
+ !   	fi
+   	fi
+         fi
+   
+ --- 15886,15896 ----
+     	# chokes on -Wl,-G. The following line is correct:
+   	  shared_flag='-G'
+   	else
+ ! 	  if test "$aix_use_runtimelinking" = yes; then
+   	    shared_flag='${wl}-G'
+   	  else
+   	    shared_flag='${wl}-bM:SRE'
+ ! 	  fi
+   	fi
+         fi
+   
+ ***************
+ *** 16320,16331 ****
+   if test -z "$aix_libpath"; then aix_libpath="/usr/lib:/lib"; fi
+   
+          hardcode_libdir_flag_spec_F77='${wl}-blibpath:$libdir:'"$aix_libpath"
+ ! 	archive_expsym_cmds_F77="\$CC"' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags `if test "x${allow_undefined_flag}" != "x"; then echo "${wl}${allow_undefined_flag}"; else :; fi` '"\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols $shared_flag"
+          else
+   	if test "$host_cpu" = ia64; then
+   	  hardcode_libdir_flag_spec_F77='${wl}-R $libdir:/usr/lib:/lib'
+   	  allow_undefined_flag_F77="-z nodefs"
+ ! 	  archive_expsym_cmds_F77="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags ${wl}${allow_undefined_flag} '"\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols"
+   	else
+   	 # Determine the default libpath from the value encoded in an empty executable.
+   	 cat >conftest.$ac_ext <<_ACEOF
+ --- 15945,15956 ----
+   if test -z "$aix_libpath"; then aix_libpath="/usr/lib:/lib"; fi
+   
+          hardcode_libdir_flag_spec_F77='${wl}-blibpath:$libdir:'"$aix_libpath"
+ ! 	archive_expsym_cmds_F77="\$CC"' -o $output_objdir/$soname $libobjs $deplibs '"\${wl}$no_entry_flag"' $compiler_flags `if test "x${allow_undefined_flag}" != "x"; then echo "${wl}${allow_undefined_flag}"; else :; fi` '"\${wl}$exp_sym_flag:\$export_symbols $shared_flag"
+          else
+   	if test "$host_cpu" = ia64; then
+   	  hardcode_libdir_flag_spec_F77='${wl}-R $libdir:/usr/lib:/lib'
+   	  allow_undefined_flag_F77="-z nodefs"
+ ! 	  archive_expsym_cmds_F77="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs '"\${wl}$no_entry_flag"' $compiler_flags ${wl}${allow_undefined_flag} '"\${wl}$exp_sym_flag:\$export_symbols"
+   	else
+   	 # Determine the default libpath from the value encoded in an empty executable.
+   	 cat >conftest.$ac_ext <<_ACEOF
+ ***************
+ *** 16375,16387 ****
+   	  # -berok will link without error, but may produce a broken library.
+   	  no_undefined_flag_F77=' ${wl}-bernotok'
+   	  allow_undefined_flag_F77=' ${wl}-berok'
+ - 	  # -bexpall does not export symbols beginning with underscore (_)
+ - 	  always_export_symbols_F77=yes
+   	  # Exported symbols can be pulled into shared objects from archives
+ ! 	  whole_archive_flag_spec_F77=' '
+   	  archive_cmds_need_lc_F77=yes
+ ! 	  # This is similar to how AIX traditionally builds it's shared libraries.
+ ! 	  archive_expsym_cmds_F77="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags ${wl}-bE:$export_symbols ${wl}-bnoentry${allow_undefined_flag}~$AR $AR_FLAGS $output_objdir/$libname$release.a $output_objdir/$soname'
+   	fi
+         fi
+         ;;
+ --- 16000,16010 ----
+   	  # -berok will link without error, but may produce a broken library.
+   	  no_undefined_flag_F77=' ${wl}-bernotok'
+   	  allow_undefined_flag_F77=' ${wl}-berok'
+   	  # Exported symbols can be pulled into shared objects from archives
+ ! 	  whole_archive_flag_spec_F77='$convenience'
+   	  archive_cmds_need_lc_F77=yes
+ ! 	  # This is similar to how AIX traditionally builds its shared libraries.
+ ! 	  archive_expsym_cmds_F77="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs ${wl}-bnoentry $compiler_flags ${wl}-bE:$export_symbols${allow_undefined_flag}~$AR $AR_FLAGS $output_objdir/$libname$release.a $output_objdir/$soname'
+   	fi
+         fi
+         ;;
+ ***************
+ *** 16420,16426 ****
+         ;;
+   
+       darwin* | rhapsody*)
+ !       case "$host_os" in
+           rhapsody* | darwin1.[012])
+            allow_undefined_flag_F77='${wl}-undefined ${wl}suppress'
+            ;;
+ --- 16043,16049 ----
+         ;;
+   
+       darwin* | rhapsody*)
+ !       case $host_os in
+           rhapsody* | darwin1.[012])
+            allow_undefined_flag_F77='${wl}-undefined ${wl}suppress'
+            ;;
+ ***************
+ *** 16449,16455 ****
+       	output_verbose_link_cmd='echo'
+           archive_cmds_F77='$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+         module_cmds_F77='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+ !       # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin ld's
+         archive_expsym_cmds_F77='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+         module_expsym_cmds_F77='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+       else
+ --- 16072,16078 ----
+       	output_verbose_link_cmd='echo'
+           archive_cmds_F77='$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+         module_cmds_F77='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+ !       # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
+         archive_expsym_cmds_F77='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+         module_expsym_cmds_F77='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+       else
+ ***************
+ *** 16458,16464 ****
+            output_verbose_link_cmd='echo'
+            archive_cmds_F77='$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $verstring'
+            module_cmds_F77='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+ !           # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin ld's
+            archive_expsym_cmds_F77='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}$rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             module_expsym_cmds_F77='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             ;;
+ --- 16081,16087 ----
+            output_verbose_link_cmd='echo'
+            archive_cmds_F77='$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $verstring'
+            module_cmds_F77='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+ !           # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
+            archive_expsym_cmds_F77='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}$rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             module_expsym_cmds_F77='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             ;;
+ ***************
+ *** 16522,16568 ****
+         export_dynamic_flag_spec_F77='${wl}-E'
+         ;;
+   
+ !     hpux10* | hpux11*)
+         if test "$GCC" = yes -a "$with_gnu_ld" = no; then
+ ! 	case "$host_cpu" in
+ ! 	hppa*64*|ia64*)
+   	  archive_cmds_F77='$CC -shared ${wl}+h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
+   	  ;;
+   	*)
+   	  archive_cmds_F77='$CC -shared -fPIC ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $libobjs $deplibs $compiler_flags'
+   	  ;;
+   	esac
+         else
+ ! 	case "$host_cpu" in
+ ! 	hppa*64*|ia64*)
+ ! 	  archive_cmds_F77='$LD -b +h $soname -o $lib $libobjs $deplibs $linker_flags'
+   	  ;;
+   	*)
+ ! 	  archive_cmds_F77='$LD -b +h $soname +b $install_libdir -o $lib $libobjs $deplibs $linker_flags'
+   	  ;;
+   	esac
+         fi
+         if test "$with_gnu_ld" = no; then
+ ! 	case "$host_cpu" in
+ ! 	hppa*64*)
+ ! 	  hardcode_libdir_flag_spec_F77='${wl}+b ${wl}$libdir'
+   	  hardcode_libdir_flag_spec_ld_F77='+b $libdir'
+ - 	  hardcode_libdir_separator_F77=:
+ - 	  hardcode_direct_F77=no
+ - 	  hardcode_shlibpath_var_F77=no
+ - 	  ;;
+ - 	ia64*)
+ - 	  hardcode_libdir_flag_spec_F77='-L$libdir'
+   	  hardcode_direct_F77=no
+   	  hardcode_shlibpath_var_F77=no
+ - 
+ - 	  # hardcode_minus_L: Not really in the search PATH,
+ - 	  # but as the default location of the library.
+ - 	  hardcode_minus_L_F77=yes
+   	  ;;
+   	*)
+ - 	  hardcode_libdir_flag_spec_F77='${wl}+b ${wl}$libdir'
+ - 	  hardcode_libdir_separator_F77=:
+   	  hardcode_direct_F77=yes
+   	  export_dynamic_flag_spec_F77='${wl}-E'
+   
+ --- 16145,16206 ----
+         export_dynamic_flag_spec_F77='${wl}-E'
+         ;;
+   
+ !     hpux10*)
+         if test "$GCC" = yes -a "$with_gnu_ld" = no; then
+ ! 	archive_cmds_F77='$CC -shared -fPIC ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $libobjs $deplibs $compiler_flags'
+ !       else
+ ! 	archive_cmds_F77='$LD -b +h $soname +b $install_libdir -o $lib $libobjs $deplibs $linker_flags'
+ !       fi
+ !       if test "$with_gnu_ld" = no; then
+ ! 	hardcode_libdir_flag_spec_F77='${wl}+b ${wl}$libdir'
+ ! 	hardcode_libdir_separator_F77=:
+ ! 
+ ! 	hardcode_direct_F77=yes
+ ! 	export_dynamic_flag_spec_F77='${wl}-E'
+ ! 
+ ! 	# hardcode_minus_L: Not really in the search PATH,
+ ! 	# but as the default location of the library.
+ ! 	hardcode_minus_L_F77=yes
+ !       fi
+ !       ;;
+ ! 
+ !     hpux11*)
+ !       if test "$GCC" = yes -a "$with_gnu_ld" = no; then
+ ! 	case $host_cpu in
+ ! 	hppa*64*)
+   	  archive_cmds_F77='$CC -shared ${wl}+h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
+   	  ;;
+ + 	ia64*)
+ + 	  archive_cmds_F77='$CC -shared ${wl}+h ${wl}$soname ${wl}+nodefaultrpath -o $lib $libobjs $deplibs $compiler_flags'
+ + 	  ;;
+   	*)
+   	  archive_cmds_F77='$CC -shared -fPIC ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $libobjs $deplibs $compiler_flags'
+   	  ;;
+   	esac
+         else
+ ! 	case $host_cpu in
+ ! 	hppa*64*)
+ ! 	  archive_cmds_F77='$CC -b ${wl}+h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ ! 	  ;;
+ ! 	ia64*)
+ ! 	  archive_cmds_F77='$CC -b ${wl}+h ${wl}$soname ${wl}+nodefaultrpath -o $lib $libobjs $deplibs $compiler_flags'
+   	  ;;
+   	*)
+ ! 	  archive_cmds_F77='$CC -b ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $libobjs $deplibs $compiler_flags'
+   	  ;;
+   	esac
+         fi
+         if test "$with_gnu_ld" = no; then
+ ! 	hardcode_libdir_flag_spec_F77='${wl}+b ${wl}$libdir'
+ ! 	hardcode_libdir_separator_F77=:
+ ! 
+ ! 	case $host_cpu in
+ ! 	hppa*64*|ia64*)
+   	  hardcode_libdir_flag_spec_ld_F77='+b $libdir'
+   	  hardcode_direct_F77=no
+   	  hardcode_shlibpath_var_F77=no
+   	  ;;
+   	*)
+   	  hardcode_direct_F77=yes
+   	  export_dynamic_flag_spec_F77='${wl}-E'
+   
+ ***************
+ *** 16664,16677 ****
+         hardcode_libdir_separator_F77=:
+         ;;
+   
+ -     sco3.2v5*)
+ -       archive_cmds_F77='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
+ -       hardcode_shlibpath_var_F77=no
+ -       export_dynamic_flag_spec_F77='${wl}-Bexport'
+ -       runpath_var=LD_RUN_PATH
+ -       hardcode_runpath_var=yes
+ -       ;;
+ - 
+       solaris*)
+         no_undefined_flag_F77=' -z text'
+         if test "$GCC" = yes; then
+ --- 16302,16307 ----
+ ***************
+ *** 16757,16792 ****
+         fi
+         ;;
+   
+ !     sysv4.2uw2*)
+ !       archive_cmds_F77='$LD -G -o $lib $libobjs $deplibs $linker_flags'
+ !       hardcode_direct_F77=yes
+ !       hardcode_minus_L_F77=no
+         hardcode_shlibpath_var_F77=no
+ !       hardcode_runpath_var=yes
+ !       runpath_var=LD_RUN_PATH
+ !       ;;
+   
+ -    sysv5OpenUNIX8* | sysv5UnixWare7* |  sysv5uw[78]* | unixware7*)
+ -       no_undefined_flag_F77='${wl}-z ${wl}text'
+         if test "$GCC" = yes; then
+ ! 	archive_cmds_F77='$CC -shared ${wl}-h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
+         else
+ ! 	archive_cmds_F77='$CC -G ${wl}-h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
+         fi
+ -       runpath_var='LD_RUN_PATH'
+ -       hardcode_shlibpath_var_F77=no
+         ;;
+   
+ !     sysv5*)
+ !       no_undefined_flag_F77=' -z text'
+ !       # $CC -shared without GNU ld will not create a library from C++
+ !       # object files and a static libstdc++, better avoid it by now
+ !       archive_cmds_F77='$LD -G${allow_undefined_flag} -h $soname -o $lib $libobjs $deplibs $linker_flags'
+ !       archive_expsym_cmds_F77='$echo "{ global:" > $lib.exp~cat $export_symbols | $SED -e "s/\(.*\)/\1;/" >> $lib.exp~$echo "local: *; };" >> $lib.exp~
+ !   		$LD -G${allow_undefined_flag} -M $lib.exp -h $soname -o $lib $libobjs $deplibs $linker_flags~$rm $lib.exp'
+ !       hardcode_libdir_flag_spec_F77=
+         hardcode_shlibpath_var_F77=no
+         runpath_var='LD_RUN_PATH'
+         ;;
+   
+       uts4*)
+ --- 16387,16431 ----
+         fi
+         ;;
+   
+ !     sysv4*uw2* | sysv5OpenUNIX* | sysv5UnixWare7.[01].[10]* | unixware7*)
+ !       no_undefined_flag_F77='${wl}-z,text'
+ !       archive_cmds_need_lc_F77=no
+         hardcode_shlibpath_var_F77=no
+ !       runpath_var='LD_RUN_PATH'
+   
+         if test "$GCC" = yes; then
+ ! 	archive_cmds_F77='$CC -shared ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
+ ! 	archive_expsym_cmds_F77='$CC -shared ${wl}-Bexport:$export_symbols ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
+         else
+ ! 	archive_cmds_F77='$CC -G ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
+ ! 	archive_expsym_cmds_F77='$CC -G ${wl}-Bexport:$export_symbols ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
+         fi
+         ;;
+   
+ !     sysv5* | sco3.2v5* | sco5v6*)
+ !       # Note: We can NOT use -z defs as we might desire, because we do not
+ !       # link with -lc, and that would cause any symbols used from libc to
+ !       # always be unresolved, which means just about no library would
+ !       # ever link correctly.  If we're not using GNU ld we use -z text
+ !       # though, which does catch some bad symbols but isn't as heavy-handed
+ !       # as -z defs.
+ !       no_undefined_flag_F77='${wl}-z,text'
+ !       allow_undefined_flag_F77='${wl}-z,nodefs'
+ !       archive_cmds_need_lc_F77=no
+         hardcode_shlibpath_var_F77=no
+ +       hardcode_libdir_flag_spec_F77='`test -z "$SCOABSPATH" && echo ${wl}-R,$libdir`'
+ +       hardcode_libdir_separator_F77=':'
+ +       link_all_deplibs_F77=yes
+ +       export_dynamic_flag_spec_F77='${wl}-Bexport'
+         runpath_var='LD_RUN_PATH'
+ + 
+ +       if test "$GCC" = yes; then
+ + 	archive_cmds_F77='$CC -shared ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ + 	archive_expsym_cmds_F77='$CC -shared ${wl}-Bexport:$export_symbols ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ +       else
+ + 	archive_cmds_F77='$CC -G ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ + 	archive_expsym_cmds_F77='$CC -G ${wl}-Bexport:$export_symbols ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ +       fi
+         ;;
+   
+       uts4*)
+ ***************
+ *** 16805,16815 ****
+   echo "${ECHO_T}$ld_shlibs_F77" >&6
+   test "$ld_shlibs_F77" = no && can_build_shared=no
+   
+ - variables_saved_for_relink="PATH $shlibpath_var $runpath_var"
+ - if test "$GCC" = yes; then
+ -   variables_saved_for_relink="$variables_saved_for_relink GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH"
+ - fi
+ - 
+   #
+   # Do we need to explicitly link libc?
+   #
+ --- 16444,16449 ----
+ ***************
+ *** 16842,16847 ****
+ --- 16476,16482 ----
+           libobjs=conftest.$ac_objext
+           deplibs=
+           wl=$lt_prog_compiler_wl_F77
+ + 	pic_flag=$lt_prog_compiler_pic_F77
+           compiler_flags=-v
+           linker_flags=-v
+           verstring=
+ ***************
+ *** 17002,17008 ****
+         dlpath=`$SHELL 2>&1 -c '\''. $dir/'\''\${base_file}'\''i;echo \$dlname'\''`~
+         dldir=$destdir/`dirname \$dlpath`~
+         test -d \$dldir || mkdir -p \$dldir~
+ !       $install_prog $dir/$dlname \$dldir/$dlname'
+       postuninstall_cmds='dldll=`$SHELL 2>&1 -c '\''. $file; echo \$dlname'\''`~
+         dlpath=$dir/\$dldll~
+          $rm \$dlpath'
+ --- 16637,16644 ----
+         dlpath=`$SHELL 2>&1 -c '\''. $dir/'\''\${base_file}'\''i;echo \$dlname'\''`~
+         dldir=$destdir/`dirname \$dlpath`~
+         test -d \$dldir || mkdir -p \$dldir~
+ !       $install_prog $dir/$dlname \$dldir/$dlname~
+ !       chmod a+x \$dldir/$dlname'
+       postuninstall_cmds='dldll=`$SHELL 2>&1 -c '\''. $file; echo \$dlname'\''`~
+         dlpath=$dir/\$dldll~
+          $rm \$dlpath'
+ ***************
+ *** 17055,17061 ****
+     soname_spec='${libname}${release}${major}$shared_ext'
+     shlibpath_overrides_runpath=yes
+     shlibpath_var=DYLD_LIBRARY_PATH
+ !   shrext_cmds='$(test .$module = .yes && echo .so || echo .dylib)'
+     # Apple's gcc prints 'gcc -print-search-dirs' doesn't operate the same.
+     if test "$GCC" = yes; then
+       sys_lib_search_path_spec=`$CC -print-search-dirs | tr "\n" "$PATH_SEPARATOR" | sed -e 's/libraries:/@libraries:/' | tr "@" "\n" | grep "^libraries:" | sed -e "s/^libraries://" -e "s,=/,/,g" -e "s,$PATH_SEPARATOR, ,g" -e "s,.*,& /lib /usr/lib /usr/local/lib,g"`
+ --- 16691,16697 ----
+     soname_spec='${libname}${release}${major}$shared_ext'
+     shlibpath_overrides_runpath=yes
+     shlibpath_var=DYLD_LIBRARY_PATH
+ !   shrext_cmds='`test .$module = .yes && echo .so || echo .dylib`'
+     # Apple's gcc prints 'gcc -print-search-dirs' doesn't operate the same.
+     if test "$GCC" = yes; then
+       sys_lib_search_path_spec=`$CC -print-search-dirs | tr "\n" "$PATH_SEPARATOR" | sed -e 's/libraries:/@libraries:/' | tr "@" "\n" | grep "^libraries:" | sed -e "s/^libraries://" -e "s,=/,/,g" -e "s,$PATH_SEPARATOR, ,g" -e "s,.*,& /lib /usr/lib /usr/local/lib,g"`
+ ***************
+ *** 17093,17099 ****
+   freebsd* | dragonfly*)
+     # DragonFly does not have aout.  When/if they implement a new
+     # versioning mechanism, adjust this.
+ !   objformat=`test -x /usr/bin/objformat && /usr/bin/objformat || echo aout`
+     version_type=freebsd-$objformat
+     case $version_type in
+       freebsd-elf*)
+ --- 16729,16742 ----
+   freebsd* | dragonfly*)
+     # DragonFly does not have aout.  When/if they implement a new
+     # versioning mechanism, adjust this.
+ !   if test -x /usr/bin/objformat; then
+ !     objformat=`/usr/bin/objformat`
+ !   else
+ !     case $host_os in
+ !     freebsd[123]*) objformat=aout ;;
+ !     *) objformat=elf ;;
+ !     esac
+ !   fi
+     version_type=freebsd-$objformat
+     case $version_type in
+       freebsd-elf*)
+ ***************
+ *** 17115,17124 ****
+       shlibpath_overrides_runpath=yes
+       hardcode_into_libs=yes
+       ;;
+ !   *) # from 3.2 on
+       shlibpath_overrides_runpath=no
+       hardcode_into_libs=yes
+       ;;
+     esac
+     ;;
+   
+ --- 16758,16772 ----
+       shlibpath_overrides_runpath=yes
+       hardcode_into_libs=yes
+       ;;
+ !   freebsd3.[2-9]* | freebsdelf3.[2-9]* | \
+ !   freebsd4.[0-5] | freebsdelf4.[0-5] | freebsd4.1.1 | freebsdelf4.1.1)
+       shlibpath_overrides_runpath=no
+       hardcode_into_libs=yes
+       ;;
+ +   freebsd*) # from 4.6 on
+ +     shlibpath_overrides_runpath=yes
+ +     hardcode_into_libs=yes
+ +     ;;
+     esac
+     ;;
+   
+ ***************
+ *** 17138,17144 ****
+     version_type=sunos
+     need_lib_prefix=no
+     need_version=no
+ !   case "$host_cpu" in
+     ia64*)
+       shrext_cmds='.so'
+       hardcode_into_libs=yes
+ --- 16786,16792 ----
+     version_type=sunos
+     need_lib_prefix=no
+     need_version=no
+ !   case $host_cpu in
+     ia64*)
+       shrext_cmds='.so'
+       hardcode_into_libs=yes
+ ***************
+ *** 17178,17183 ****
+ --- 16826,16843 ----
+     postinstall_cmds='chmod 555 $lib'
+     ;;
+   
+ + interix3*)
+ +   version_type=linux
+ +   need_lib_prefix=no
+ +   need_version=no
+ +   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major ${libname}${shared_ext}'
+ +   soname_spec='${libname}${release}${shared_ext}$major'
+ +   dynamic_linker='Interix 3.x ld.so.1 (PE, like ELF)'
+ +   shlibpath_var=LD_LIBRARY_PATH
+ +   shlibpath_overrides_runpath=no
+ +   hardcode_into_libs=yes
+ +   ;;
+ + 
+   irix5* | irix6* | nonstopux*)
+     case $host_os in
+       nonstopux*) version_type=nonstopux ;;
+ ***************
+ *** 17239,17245 ****
+     libsuff=
+     case "$host_cpu" in
+     x86_64*|s390x*|powerpc64*)
+ !     echo '#line 17242 "configure"' > conftest.$ac_ext
+       if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+     (eval $ac_compile) 2>&5
+     ac_status=$?
+ --- 16899,16905 ----
+     libsuff=
+     case "$host_cpu" in
+     x86_64*|s390x*|powerpc64*)
+ !     echo '#line 16902 "configure"' > conftest.$ac_ext
+       if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+     (eval $ac_compile) 2>&5
+     ac_status=$?
+ ***************
+ *** 17258,17264 ****
+   
+     # Append ld.so.conf contents to the search path
+     if test -f /etc/ld.so.conf; then
+ !     lt_ld_extra=`awk '/^include / { system(sprintf("cd /etc; cat %s", \$2)); skip = 1; } { if (!skip) print \$0; skip = 0; }' < /etc/ld.so.conf | $SED -e 's/#.*//;s/[:,\t]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;/^$/d' | tr '\n' ' '`
+       sys_lib_dlsearch_path_spec="/lib${libsuff} /usr/lib${libsuff} $lt_ld_extra"
+     fi
+   
+ --- 16918,16924 ----
+   
+     # Append ld.so.conf contents to the search path
+     if test -f /etc/ld.so.conf; then
+ !     lt_ld_extra=`awk '/^include / { system(sprintf("cd /etc; cat %s 2>/dev/null", \$2)); skip = 1; } { if (!skip) print \$0; skip = 0; }' < /etc/ld.so.conf | $SED -e 's/#.*//;s/[:,	]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;/^$/d' | tr '\n' ' '`
+       sys_lib_dlsearch_path_spec="/lib${libsuff} /usr/lib${libsuff} $lt_ld_extra"
+     fi
+   
+ ***************
+ *** 17320,17327 ****
+   
+   openbsd*)
+     version_type=sunos
+     need_lib_prefix=no
+ !   need_version=no
+     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'
+     finish_cmds='PATH="\$PATH:/sbin" ldconfig -m $libdir'
+     shlibpath_var=LD_LIBRARY_PATH
+ --- 16980,16992 ----
+   
+   openbsd*)
+     version_type=sunos
+ +   sys_lib_dlsearch_path_spec="/usr/lib"
+     need_lib_prefix=no
+ !   # Some older versions of OpenBSD (3.3 at least) *do* need versioned libs.
+ !   case $host_os in
+ !     openbsd3.3 | openbsd3.3.*) need_version=yes ;;
+ !     *)                         need_version=no  ;;
+ !   esac
+     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'
+     finish_cmds='PATH="\$PATH:/sbin" ldconfig -m $libdir'
+     shlibpath_var=LD_LIBRARY_PATH
+ ***************
+ *** 17359,17371 ****
+     sys_lib_dlsearch_path_spec="$sys_lib_search_path_spec"
+     ;;
+   
+ - sco3.2v5*)
+ -   version_type=osf
+ -   soname_spec='${libname}${release}${shared_ext}$major'
+ -   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+ -   shlibpath_var=LD_LIBRARY_PATH
+ -   ;;
+ - 
+   solaris*)
+     version_type=linux
+     need_lib_prefix=no
+ --- 17024,17029 ----
+ ***************
+ *** 17391,17397 ****
+     need_version=yes
+     ;;
+   
+ ! sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)
+     version_type=linux
+     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+     soname_spec='${libname}${release}${shared_ext}$major'
+ --- 17049,17055 ----
+     need_version=yes
+     ;;
+   
+ ! sysv4 | sysv4.3*)
+     version_type=linux
+     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+     soname_spec='${libname}${release}${shared_ext}$major'
+ ***************
+ *** 17424,17429 ****
+ --- 17082,17110 ----
+     fi
+     ;;
+   
+ + sysv5* | sco3.2v5* | sco5v6* | unixware* | OpenUNIX* | sysv4*uw2*)
+ +   version_type=freebsd-elf
+ +   need_lib_prefix=no
+ +   need_version=no
+ +   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext} $libname${shared_ext}'
+ +   soname_spec='${libname}${release}${shared_ext}$major'
+ +   shlibpath_var=LD_LIBRARY_PATH
+ +   hardcode_into_libs=yes
+ +   if test "$with_gnu_ld" = yes; then
+ +     sys_lib_search_path_spec='/usr/local/lib /usr/gnu/lib /usr/ccs/lib /usr/lib /lib'
+ +     shlibpath_overrides_runpath=no
+ +   else
+ +     sys_lib_search_path_spec='/usr/ccs/lib /usr/lib'
+ +     shlibpath_overrides_runpath=yes
+ +     case $host_os in
+ +       sco3.2v5*)
+ +         sys_lib_search_path_spec="$sys_lib_search_path_spec /lib"
+ + 	;;
+ +     esac
+ +   fi
+ +   sys_lib_dlsearch_path_spec='/usr/lib'
+ +   ;;
+ + 
+   uts4*)
+     version_type=linux
+     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+ ***************
+ *** 17439,17444 ****
+ --- 17120,17130 ----
+   echo "${ECHO_T}$dynamic_linker" >&6
+   test "$dynamic_linker" = no && can_build_shared=no
+   
+ + variables_saved_for_relink="PATH $shlibpath_var $runpath_var"
+ + if test "$GCC" = yes; then
+ +   variables_saved_for_relink="$variables_saved_for_relink GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH"
+ + fi
+ + 
+   echo "$as_me:$LINENO: checking how to hardcode library paths into programs" >&5
+   echo $ECHO_N "checking how to hardcode library paths into programs... $ECHO_C" >&6
+   hardcode_action_F77=
+ ***************
+ *** 17476,17511 ****
+     enable_fast_install=needless
+   fi
+   
+ - striplib=
+ - old_striplib=
+ - echo "$as_me:$LINENO: checking whether stripping libraries is possible" >&5
+ - echo $ECHO_N "checking whether stripping libraries is possible... $ECHO_C" >&6
+ - if test -n "$STRIP" && $STRIP -V 2>&1 | grep "GNU strip" >/dev/null; then
+ -   test -z "$old_striplib" && old_striplib="$STRIP --strip-debug"
+ -   test -z "$striplib" && striplib="$STRIP --strip-unneeded"
+ -   echo "$as_me:$LINENO: result: yes" >&5
+ - echo "${ECHO_T}yes" >&6
+ - else
+ - # FIXME - insert some real tests, host_os isn't really good enough
+ -   case $host_os in
+ -    darwin*)
+ -        if test -n "$STRIP" ; then
+ -          striplib="$STRIP -x"
+ -          echo "$as_me:$LINENO: result: yes" >&5
+ - echo "${ECHO_T}yes" >&6
+ -        else
+ -   echo "$as_me:$LINENO: result: no" >&5
+ - echo "${ECHO_T}no" >&6
+ - fi
+ -        ;;
+ -    *)
+ -   echo "$as_me:$LINENO: result: no" >&5
+ - echo "${ECHO_T}no" >&6
+ -     ;;
+ -   esac
+ - fi
+ - 
+ - 
+   
+   # The else clause should only fire when bootstrapping the
+   # libtool distribution, otherwise you forgot to ship ltmain.sh
+ --- 17162,17167 ----
+ ***************
+ *** 17520,17526 ****
+     # Now quote all the things that may contain metacharacters while being
+     # careful not to overquote the AC_SUBSTed values.  We take copies of the
+     # variables and quote the copies for generation of the libtool script.
+ !   for var in echo old_CC old_CFLAGS AR AR_FLAGS EGREP RANLIB LN_S LTCC NM \
+       SED SHELL STRIP \
+       libname_spec library_names_spec soname_spec extract_expsyms_cmds \
+       old_striplib striplib file_magic_cmd finish_cmds finish_eval \
+ --- 17176,17182 ----
+     # Now quote all the things that may contain metacharacters while being
+     # careful not to overquote the AC_SUBSTed values.  We take copies of the
+     # variables and quote the copies for generation of the libtool script.
+ !   for var in echo old_CC old_CFLAGS AR AR_FLAGS EGREP RANLIB LN_S LTCC LTCFLAGS NM \
+       SED SHELL STRIP \
+       libname_spec library_names_spec soname_spec extract_expsyms_cmds \
+       old_striplib striplib file_magic_cmd finish_cmds finish_eval \
+ ***************
+ *** 17638,17649 ****
+ --- 17294,17311 ----
+   # A C compiler.
+   LTCC=$lt_LTCC
+   
+ + # LTCC compiler flags.
+ + LTCFLAGS=$lt_LTCFLAGS
+ + 
+   # A language-specific compiler.
+   CC=$lt_compiler_F77
+   
+   # Is the compiler the GNU C compiler?
+   with_gcc=$GCC_F77
+   
+ + gcc_dir=\`gcc -print-file-name=. | $SED 's,/\.$,,'\`
+ + gcc_ver=\`gcc -dumpversion\`
+ + 
+   # An ERE matcher.
+   EGREP=$lt_EGREP
+   
+ ***************
+ *** 17777,17787 ****
+   
+   # Dependencies to place before the objects being linked to create a
+   # shared library.
+ ! predep_objects=$lt_predep_objects_F77
+   
+   # Dependencies to place after the objects being linked to create a
+   # shared library.
+ ! postdep_objects=$lt_postdep_objects_F77
+   
+   # Dependencies to place before the objects being linked to create a
+   # shared library.
+ --- 17439,17449 ----
+   
+   # Dependencies to place before the objects being linked to create a
+   # shared library.
+ ! predep_objects=\`echo $lt_predep_objects_F77 | \$SED -e "s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g"\`
+   
+   # Dependencies to place after the objects being linked to create a
+   # shared library.
+ ! postdep_objects=\`echo $lt_postdep_objects_F77 | \$SED -e "s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g"\`
+   
+   # Dependencies to place before the objects being linked to create a
+   # shared library.
+ ***************
+ *** 17793,17799 ****
+   
+   # The library search path used internally by the compiler when linking
+   # a shared library.
+ ! compiler_lib_search_path=$lt_compiler_lib_search_path_F77
+   
+   # Method to check whether dependent libraries are shared objects.
+   deplibs_check_method=$lt_deplibs_check_method
+ --- 17455,17461 ----
+   
+   # The library search path used internally by the compiler when linking
+   # a shared library.
+ ! compiler_lib_search_path=\`echo $lt_compiler_lib_search_path_F77 | \$SED -e "s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g"\`
+   
+   # Method to check whether dependent libraries are shared objects.
+   deplibs_check_method=$lt_deplibs_check_method
+ ***************
+ *** 17873,17879 ****
+   link_all_deplibs=$link_all_deplibs_F77
+   
+   # Compile-time system search path for libraries
+ ! sys_lib_search_path_spec=$lt_sys_lib_search_path_spec
+   
+   # Run-time system search path for libraries
+   sys_lib_dlsearch_path_spec=$lt_sys_lib_dlsearch_path_spec
+ --- 17535,17541 ----
+   link_all_deplibs=$link_all_deplibs_F77
+   
+   # Compile-time system search path for libraries
+ ! sys_lib_search_path_spec=\`echo $lt_sys_lib_search_path_spec | \$SED -e "s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g"\`
+   
+   # Run-time system search path for libraries
+   sys_lib_dlsearch_path_spec=$lt_sys_lib_dlsearch_path_spec
+ ***************
+ *** 17948,17953 ****
+ --- 17610,17618 ----
+   # If no C compiler was specified, use CC.
+   LTCC=${LTCC-"$CC"}
+   
+ + # If no C compiler flags were specified, use CFLAGS.
+ + LTCFLAGS=${LTCFLAGS-"$CFLAGS"}
+ + 
+   # Allow CC to be a program name with arguments.
+   compiler=$CC
+   
+ ***************
+ *** 17955,17967 ****
+   # save warnings/boilerplate of simple test code
+   ac_outfile=conftest.$ac_objext
+   printf "$lt_simple_compile_test_code" >conftest.$ac_ext
+ ! eval "$ac_compile" 2>&1 >/dev/null | $SED '/^$/d' >conftest.err
+   _lt_compiler_boilerplate=`cat conftest.err`
+   $rm conftest*
+   
+   ac_outfile=conftest.$ac_objext
+   printf "$lt_simple_link_test_code" >conftest.$ac_ext
+ ! eval "$ac_link" 2>&1 >/dev/null | $SED '/^$/d' >conftest.err
+   _lt_linker_boilerplate=`cat conftest.err`
+   $rm conftest*
+   
+ --- 17620,17632 ----
+   # save warnings/boilerplate of simple test code
+   ac_outfile=conftest.$ac_objext
+   printf "$lt_simple_compile_test_code" >conftest.$ac_ext
+ ! eval "$ac_compile" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err
+   _lt_compiler_boilerplate=`cat conftest.err`
+   $rm conftest*
+   
+   ac_outfile=conftest.$ac_objext
+   printf "$lt_simple_link_test_code" >conftest.$ac_ext
+ ! eval "$ac_link" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err
+   _lt_linker_boilerplate=`cat conftest.err`
+   $rm conftest*
+   
+ ***************
+ *** 18009,18028 ****
+      # with a dollar sign (not a hyphen), so the echo should work correctly.
+      # The option is referenced via a variable to avoid confusing sed.
+      lt_compile=`echo "$ac_compile" | $SED \
+ !    -e 's:.*FLAGS}? :&$lt_compiler_flag :; t' \
+      -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
+      -e 's:$: $lt_compiler_flag:'`
+ !    (eval echo "\"\$as_me:18015: $lt_compile\"" >&5)
+      (eval "$lt_compile" 2>conftest.err)
+      ac_status=$?
+      cat conftest.err >&5
+ !    echo "$as_me:18019: \$? = $ac_status" >&5
+      if (exit $ac_status) && test -s "$ac_outfile"; then
+        # The compiler can only warn and ignore the option if not recognized
+        # So say no if there are warnings other than the usual output.
+ !      $echo "X$_lt_compiler_boilerplate" | $Xsed >conftest.exp
+ !      $SED '/^$/d' conftest.err >conftest.er2
+ !      if test ! -s conftest.err || diff conftest.exp conftest.er2 >/dev/null; then
+          lt_cv_prog_compiler_rtti_exceptions=yes
+        fi
+      fi
+ --- 17674,17693 ----
+      # with a dollar sign (not a hyphen), so the echo should work correctly.
+      # The option is referenced via a variable to avoid confusing sed.
+      lt_compile=`echo "$ac_compile" | $SED \
+ !    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
+      -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
+      -e 's:$: $lt_compiler_flag:'`
+ !    (eval echo "\"\$as_me:17680: $lt_compile\"" >&5)
+      (eval "$lt_compile" 2>conftest.err)
+      ac_status=$?
+      cat conftest.err >&5
+ !    echo "$as_me:17684: \$? = $ac_status" >&5
+      if (exit $ac_status) && test -s "$ac_outfile"; then
+        # The compiler can only warn and ignore the option if not recognized
+        # So say no if there are warnings other than the usual output.
+ !      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
+ !      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
+ !      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
+          lt_cv_prog_compiler_rtti_exceptions=yes
+        fi
+      fi
+ ***************
+ *** 18083,18088 ****
+ --- 17748,17758 ----
+         lt_prog_compiler_pic_GCJ='-fno-common'
+         ;;
+   
+ +     interix3*)
+ +       # Interix 3.x gcc -fpic/-fPIC options generate broken code.
+ +       # Instead, we relocate shared libraries at runtime.
+ +       ;;
+ + 
+       msdosdjgpp*)
+         # Just because we use GCC doesn't mean we suddenly get shared libraries
+         # on systems that don't support them.
+ ***************
+ *** 18099,18105 ****
+       hpux*)
+         # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
+         # not for PA HP-UX.
+ !       case "$host_cpu" in
+         hppa*64*|ia64*)
+   	# +Z the default
+   	;;
+ --- 17769,17775 ----
+       hpux*)
+         # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
+         # not for PA HP-UX.
+ !       case $host_cpu in
+         hppa*64*|ia64*)
+   	# +Z the default
+   	;;
+ ***************
+ *** 18146,18152 ****
+         lt_prog_compiler_wl_GCJ='-Wl,'
+         # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
+         # not for PA HP-UX.
+ !       case "$host_cpu" in
+         hppa*64*|ia64*)
+   	# +Z the default
+   	;;
+ --- 17816,17822 ----
+         lt_prog_compiler_wl_GCJ='-Wl,'
+         # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
+         # not for PA HP-UX.
+ !       case $host_cpu in
+         hppa*64*|ia64*)
+   	# +Z the default
+   	;;
+ ***************
+ *** 18176,18187 ****
+   	lt_prog_compiler_pic_GCJ='-KPIC'
+   	lt_prog_compiler_static_GCJ='-static'
+           ;;
+ !       pgcc* | pgf77* | pgf90*)
+           # Portland Group compilers (*not* the Pentium gcc compiler,
+   	# which looks to be a dead project)
+   	lt_prog_compiler_wl_GCJ='-Wl,'
+   	lt_prog_compiler_pic_GCJ='-fpic'
+ ! 	lt_prog_compiler_static_GCJ='-static'
+           ;;
+         ccc*)
+           lt_prog_compiler_wl_GCJ='-Wl,'
+ --- 17846,17857 ----
+   	lt_prog_compiler_pic_GCJ='-KPIC'
+   	lt_prog_compiler_static_GCJ='-static'
+           ;;
+ !       pgcc* | pgf77* | pgf90* | pgf95*)
+           # Portland Group compilers (*not* the Pentium gcc compiler,
+   	# which looks to be a dead project)
+   	lt_prog_compiler_wl_GCJ='-Wl,'
+   	lt_prog_compiler_pic_GCJ='-fpic'
+ ! 	lt_prog_compiler_static_GCJ='-Bstatic'
+           ;;
+         ccc*)
+           lt_prog_compiler_wl_GCJ='-Wl,'
+ ***************
+ *** 18197,18207 ****
+         lt_prog_compiler_static_GCJ='-non_shared'
+         ;;
+   
+ -     sco3.2v5*)
+ -       lt_prog_compiler_pic_GCJ='-Kpic'
+ -       lt_prog_compiler_static_GCJ='-dn'
+ -       ;;
+ - 
+       solaris*)
+         lt_prog_compiler_pic_GCJ='-KPIC'
+         lt_prog_compiler_static_GCJ='-Bstatic'
+ --- 17867,17872 ----
+ ***************
+ *** 18219,18225 ****
+         lt_prog_compiler_static_GCJ='-Bstatic'
+         ;;
+   
+ !     sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)
+         lt_prog_compiler_wl_GCJ='-Wl,'
+         lt_prog_compiler_pic_GCJ='-KPIC'
+         lt_prog_compiler_static_GCJ='-Bstatic'
+ --- 17884,17890 ----
+         lt_prog_compiler_static_GCJ='-Bstatic'
+         ;;
+   
+ !     sysv4 | sysv4.2uw2* | sysv4.3*)
+         lt_prog_compiler_wl_GCJ='-Wl,'
+         lt_prog_compiler_pic_GCJ='-KPIC'
+         lt_prog_compiler_static_GCJ='-Bstatic'
+ ***************
+ *** 18232,18237 ****
+ --- 17897,17908 ----
+         fi
+         ;;
+   
+ +     sysv5* | unixware* | sco3.2v5* | sco5v6* | OpenUNIX*)
+ +       lt_prog_compiler_wl_GCJ='-Wl,'
+ +       lt_prog_compiler_pic_GCJ='-KPIC'
+ +       lt_prog_compiler_static_GCJ='-Bstatic'
+ +       ;;
+ + 
+       unicos*)
+         lt_prog_compiler_wl_GCJ='-Wl,'
+         lt_prog_compiler_can_build_shared_GCJ=no
+ ***************
+ *** 18271,18290 ****
+      # with a dollar sign (not a hyphen), so the echo should work correctly.
+      # The option is referenced via a variable to avoid confusing sed.
+      lt_compile=`echo "$ac_compile" | $SED \
+ !    -e 's:.*FLAGS}? :&$lt_compiler_flag :; t' \
+      -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
+      -e 's:$: $lt_compiler_flag:'`
+ !    (eval echo "\"\$as_me:18277: $lt_compile\"" >&5)
+      (eval "$lt_compile" 2>conftest.err)
+      ac_status=$?
+      cat conftest.err >&5
+ !    echo "$as_me:18281: \$? = $ac_status" >&5
+      if (exit $ac_status) && test -s "$ac_outfile"; then
+        # The compiler can only warn and ignore the option if not recognized
+        # So say no if there are warnings other than the usual output.
+ !      $echo "X$_lt_compiler_boilerplate" | $Xsed >conftest.exp
+ !      $SED '/^$/d' conftest.err >conftest.er2
+ !      if test ! -s conftest.err || diff conftest.exp conftest.er2 >/dev/null; then
+          lt_prog_compiler_pic_works_GCJ=yes
+        fi
+      fi
+ --- 17942,17961 ----
+      # with a dollar sign (not a hyphen), so the echo should work correctly.
+      # The option is referenced via a variable to avoid confusing sed.
+      lt_compile=`echo "$ac_compile" | $SED \
+ !    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
+      -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
+      -e 's:$: $lt_compiler_flag:'`
+ !    (eval echo "\"\$as_me:17948: $lt_compile\"" >&5)
+      (eval "$lt_compile" 2>conftest.err)
+      ac_status=$?
+      cat conftest.err >&5
+ !    echo "$as_me:17952: \$? = $ac_status" >&5
+      if (exit $ac_status) && test -s "$ac_outfile"; then
+        # The compiler can only warn and ignore the option if not recognized
+        # So say no if there are warnings other than the usual output.
+ !      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' >conftest.exp
+ !      $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
+ !      if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
+          lt_prog_compiler_pic_works_GCJ=yes
+        fi
+      fi
+ ***************
+ *** 18305,18311 ****
+   fi
+   
+   fi
+ ! case "$host_os" in
+     # For platforms which do not support PIC, -DPIC is meaningless:
+     *djgpp*)
+       lt_prog_compiler_pic_GCJ=
+ --- 17976,17982 ----
+   fi
+   
+   fi
+ ! case $host_os in
+     # For platforms which do not support PIC, -DPIC is meaningless:
+     *djgpp*)
+       lt_prog_compiler_pic_GCJ=
+ ***************
+ *** 18315,18320 ****
+ --- 17986,18033 ----
+       ;;
+   esac
+   
+ + #
+ + # Check to make sure the static flag actually works.
+ + #
+ + wl=$lt_prog_compiler_wl_GCJ eval lt_tmp_static_flag=\"$lt_prog_compiler_static_GCJ\"
+ + echo "$as_me:$LINENO: checking if $compiler static flag $lt_tmp_static_flag works" >&5
+ + echo $ECHO_N "checking if $compiler static flag $lt_tmp_static_flag works... $ECHO_C" >&6
+ + if test "${lt_prog_compiler_static_works_GCJ+set}" = set; then
+ +   echo $ECHO_N "(cached) $ECHO_C" >&6
+ + else
+ +   lt_prog_compiler_static_works_GCJ=no
+ +    save_LDFLAGS="$LDFLAGS"
+ +    LDFLAGS="$LDFLAGS $lt_tmp_static_flag"
+ +    printf "$lt_simple_link_test_code" > conftest.$ac_ext
+ +    if (eval $ac_link 2>conftest.err) && test -s conftest$ac_exeext; then
+ +      # The linker can only warn and ignore the option if not recognized
+ +      # So say no if there are warnings
+ +      if test -s conftest.err; then
+ +        # Append any errors to the config.log.
+ +        cat conftest.err 1>&5
+ +        $echo "X$_lt_linker_boilerplate" | $Xsed -e '/^$/d' > conftest.exp
+ +        $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
+ +        if diff conftest.exp conftest.er2 >/dev/null; then
+ +          lt_prog_compiler_static_works_GCJ=yes
+ +        fi
+ +      else
+ +        lt_prog_compiler_static_works_GCJ=yes
+ +      fi
+ +    fi
+ +    $rm conftest*
+ +    LDFLAGS="$save_LDFLAGS"
+ + 
+ + fi
+ + echo "$as_me:$LINENO: result: $lt_prog_compiler_static_works_GCJ" >&5
+ + echo "${ECHO_T}$lt_prog_compiler_static_works_GCJ" >&6
+ + 
+ + if test x"$lt_prog_compiler_static_works_GCJ" = xyes; then
+ +     :
+ + else
+ +     lt_prog_compiler_static_GCJ=
+ + fi
+ + 
+ + 
+   echo "$as_me:$LINENO: checking if $compiler supports -c -o file.$ac_objext" >&5
+   echo $ECHO_N "checking if $compiler supports -c -o file.$ac_objext... $ECHO_C" >&6
+   if test "${lt_cv_prog_compiler_c_o_GCJ+set}" = set; then
+ ***************
+ *** 18333,18357 ****
+      # Note that $ac_compile itself does not contain backslashes and begins
+      # with a dollar sign (not a hyphen), so the echo should work correctly.
+      lt_compile=`echo "$ac_compile" | $SED \
+ !    -e 's:.*FLAGS}? :&$lt_compiler_flag :; t' \
+      -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
+      -e 's:$: $lt_compiler_flag:'`
+ !    (eval echo "\"\$as_me:18339: $lt_compile\"" >&5)
+      (eval "$lt_compile" 2>out/conftest.err)
+      ac_status=$?
+      cat out/conftest.err >&5
+ !    echo "$as_me:18343: \$? = $ac_status" >&5
+      if (exit $ac_status) && test -s out/conftest2.$ac_objext
+      then
+        # The compiler can only warn and ignore the option if not recognized
+        # So say no if there are warnings
+ !      $echo "X$_lt_compiler_boilerplate" | $Xsed > out/conftest.exp
+ !      $SED '/^$/d' out/conftest.err >out/conftest.er2
+ !      if test ! -s out/conftest.err || diff out/conftest.exp out/conftest.er2 >/dev/null; then
+          lt_cv_prog_compiler_c_o_GCJ=yes
+        fi
+      fi
+ !    chmod u+w .
+      $rm conftest*
+      # SGI C++ compiler will create directory out/ii_files/ for
+      # template instantiation
+ --- 18046,18070 ----
+      # Note that $ac_compile itself does not contain backslashes and begins
+      # with a dollar sign (not a hyphen), so the echo should work correctly.
+      lt_compile=`echo "$ac_compile" | $SED \
+ !    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
+      -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
+      -e 's:$: $lt_compiler_flag:'`
+ !    (eval echo "\"\$as_me:18052: $lt_compile\"" >&5)
+      (eval "$lt_compile" 2>out/conftest.err)
+      ac_status=$?
+      cat out/conftest.err >&5
+ !    echo "$as_me:18056: \$? = $ac_status" >&5
+      if (exit $ac_status) && test -s out/conftest2.$ac_objext
+      then
+        # The compiler can only warn and ignore the option if not recognized
+        # So say no if there are warnings
+ !      $echo "X$_lt_compiler_boilerplate" | $Xsed -e '/^$/d' > out/conftest.exp
+ !      $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2
+ !      if test ! -s out/conftest.er2 || diff out/conftest.exp out/conftest.er2 >/dev/null; then
+          lt_cv_prog_compiler_c_o_GCJ=yes
+        fi
+      fi
+ !    chmod u+w . 2>&5
+      $rm conftest*
+      # SGI C++ compiler will create directory out/ii_files/ for
+      # template instantiation
+ ***************
+ *** 18447,18452 ****
+ --- 18160,18169 ----
+         with_gnu_ld=no
+       fi
+       ;;
+ +   interix*)
+ +     # we just hope/assume this is gcc and not c89 (= MSVC++)
+ +     with_gnu_ld=yes
+ +     ;;
+     openbsd*)
+       with_gnu_ld=no
+       ;;
+ ***************
+ *** 18531,18537 ****
+         export_symbols_cmds_GCJ='$NM $libobjs $convenience | $global_symbol_pipe | $SED -e '\''/^[BCDGRS] /s/.* \([^ ]*\)/\1 DATA/'\'' | $SED -e '\''/^[AITW] /s/.* //'\'' | sort | uniq > $export_symbols'
+   
+         if $LD --help 2>&1 | grep 'auto-import' > /dev/null; then
+ !         archive_cmds_GCJ='$CC -shared $libobjs $deplibs $compiler_flags -o $output_objdir/$soname ${wl}--image-base=0x10000000 ${wl}--out-implib,$lib'
+   	# If the export-symbols file already is a .def file (1st line
+   	# is EXPORTS), use it as is; otherwise, prepend...
+   	archive_expsym_cmds_GCJ='if test "x`$SED 1q $export_symbols`" = xEXPORTS; then
+ --- 18248,18254 ----
+         export_symbols_cmds_GCJ='$NM $libobjs $convenience | $global_symbol_pipe | $SED -e '\''/^[BCDGRS] /s/.* \([^ ]*\)/\1 DATA/'\'' | $SED -e '\''/^[AITW] /s/.* //'\'' | sort | uniq > $export_symbols'
+   
+         if $LD --help 2>&1 | grep 'auto-import' > /dev/null; then
+ !         archive_cmds_GCJ='$CC -shared $libobjs $deplibs $compiler_flags -o $output_objdir/$soname ${wl}--enable-auto-image-base -Xlinker --out-implib -Xlinker $lib'
+   	# If the export-symbols file already is a .def file (1st line
+   	# is EXPORTS), use it as is; otherwise, prepend...
+   	archive_expsym_cmds_GCJ='if test "x`$SED 1q $export_symbols`" = xEXPORTS; then
+ ***************
+ *** 18540,18561 ****
+   	  echo EXPORTS > $output_objdir/$soname.def;
+   	  cat $export_symbols >> $output_objdir/$soname.def;
+   	fi~
+ ! 	$CC -shared $output_objdir/$soname.def $libobjs $deplibs $compiler_flags -o $output_objdir/$soname ${wl}--image-base=0x10000000  ${wl}--out-implib,$lib'
+         else
+   	ld_shlibs_GCJ=no
+         fi
+         ;;
+   
+       linux*)
+         if $LD --help 2>&1 | grep ': supported targets:.* elf' > /dev/null; then
+   	tmp_addflag=
+   	case $cc_basename,$host_cpu in
+   	pgcc*)				# Portland Group C compiler
+ ! 	  whole_archive_flag_spec_GCJ=
+   	  ;;
+ ! 	pgf77* | pgf90* )			# Portland Group f77 and f90 compilers
+ ! 	  whole_archive_flag_spec_GCJ=
+ ! 	  tmp_addflag=' -fpic -Mnomain' ;;
+   	ecc*,ia64* | icc*,ia64*)		# Intel C compiler on ia64
+   	  tmp_addflag=' -i_dynamic' ;;
+   	efc*,ia64* | ifort*,ia64*)	# Intel Fortran compiler on ia64
+ --- 18257,18294 ----
+   	  echo EXPORTS > $output_objdir/$soname.def;
+   	  cat $export_symbols >> $output_objdir/$soname.def;
+   	fi~
+ ! 	$CC -shared $output_objdir/$soname.def $libobjs $deplibs $compiler_flags -o $output_objdir/$soname ${wl}--enable-auto-image-base -Xlinker --out-implib -Xlinker $lib'
+         else
+   	ld_shlibs_GCJ=no
+         fi
+         ;;
+   
+ +     interix3*)
+ +       hardcode_direct_GCJ=no
+ +       hardcode_shlibpath_var_GCJ=no
+ +       hardcode_libdir_flag_spec_GCJ='${wl}-rpath,$libdir'
+ +       export_dynamic_flag_spec_GCJ='${wl}-E'
+ +       # Hack: On Interix 3.x, we cannot compile PIC because of a broken gcc.
+ +       # Instead, shared libraries are loaded at an image base (0x10000000 by
+ +       # default) and relocated if they conflict, which is a slow very memory
+ +       # consuming and fragmenting process.  To avoid this, we pick a random,
+ +       # 256 KiB-aligned image base between 0x50000000 and 0x6FFC0000 at link
+ +       # time.  Moving up from 0x10000000 also allows more sbrk(2) space.
+ +       archive_cmds_GCJ='$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-h,$soname ${wl}--image-base,`expr ${RANDOM-$$} % 4096 / 2 \* 262144 + 1342177280` -o $lib'
+ +       archive_expsym_cmds_GCJ='sed "s,^,_," $export_symbols >$output_objdir/$soname.expsym~$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-h,$soname ${wl}--retain-symbols-file,$output_objdir/$soname.expsym ${wl}--image-base,`expr ${RANDOM-$$} % 4096 / 2 \* 262144 + 1342177280` -o $lib'
+ +       ;;
+ + 
+       linux*)
+         if $LD --help 2>&1 | grep ': supported targets:.* elf' > /dev/null; then
+   	tmp_addflag=
+   	case $cc_basename,$host_cpu in
+   	pgcc*)				# Portland Group C compiler
+ ! 	  whole_archive_flag_spec_GCJ='${wl}--whole-archive`for conv in $convenience\"\"; do test  -n \"$conv\" && new_convenience=\"$new_convenience,$conv\"; done; $echo \"$new_convenience\"` ${wl}--no-whole-archive'
+ ! 	  tmp_addflag=' $pic_flag'
+   	  ;;
+ ! 	pgf77* | pgf90* | pgf95*)	# Portland Group f77 and f90 compilers
+ ! 	  whole_archive_flag_spec_GCJ='${wl}--whole-archive`for conv in $convenience\"\"; do test  -n \"$conv\" && new_convenience=\"$new_convenience,$conv\"; done; $echo \"$new_convenience\"` ${wl}--no-whole-archive'
+ ! 	  tmp_addflag=' $pic_flag -Mnomain' ;;
+   	ecc*,ia64* | icc*,ia64*)		# Intel C compiler on ia64
+   	  tmp_addflag=' -i_dynamic' ;;
+   	efc*,ia64* | ifort*,ia64*)	# Intel Fortran compiler on ia64
+ ***************
+ *** 18586,18592 ****
+         fi
+         ;;
+   
+ !     solaris* | sysv5*)
+         if $LD -v 2>&1 | grep 'BFD 2\.8' > /dev/null; then
+   	ld_shlibs_GCJ=no
+   	cat <<EOF 1>&2
+ --- 18319,18325 ----
+         fi
+         ;;
+   
+ !     solaris*)
+         if $LD -v 2>&1 | grep 'BFD 2\.8' > /dev/null; then
+   	ld_shlibs_GCJ=no
+   	cat <<EOF 1>&2
+ ***************
+ *** 18607,18614 ****
+         fi
+         ;;
+   
+ !     sunos4*)
+ !       archive_cmds_GCJ='$LD -assert pure-text -Bshareable -o $lib $libobjs $deplibs $linker_flags'
+         wlarc=
+         hardcode_direct_GCJ=yes
+         hardcode_shlibpath_var_GCJ=no
+ --- 18340,18374 ----
+         fi
+         ;;
+   
+ !     sysv5* | sco3.2v5* | sco5v6* | unixware* | OpenUNIX*)
+ !       case `$LD -v 2>&1` in
+ !         *\ [01].* | *\ 2.[0-9].* | *\ 2.1[0-5].*)
+ ! 	ld_shlibs_GCJ=no
+ ! 	cat <<_LT_EOF 1>&2
+ ! 
+ ! *** Warning: Releases of the GNU linker prior to 2.16.91.0.3 can not
+ ! *** reliably create shared libraries on SCO systems.  Therefore, libtool
+ ! *** is disabling shared libraries support.  We urge you to upgrade GNU
+ ! *** binutils to release 2.16.91.0.3 or newer.  Another option is to modify
+ ! *** your PATH or compiler configuration so that the native linker is
+ ! *** used, and then restart.
+ ! 
+ ! _LT_EOF
+ ! 	;;
+ ! 	*)
+ ! 	  if $LD --help 2>&1 | grep ': supported targets:.* elf' > /dev/null; then
+ ! 	    hardcode_libdir_flag_spec_GCJ='`test -z "$SCOABSPATH" && echo ${wl}-rpath,$libdir`'
+ ! 	    archive_cmds_GCJ='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib'
+ ! 	    archive_expsym_cmds_GCJ='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname,\${SCOABSPATH:+${install_libdir}/}$soname,-retain-symbols-file,$export_symbols -o $lib'
+ ! 	  else
+ ! 	    ld_shlibs_GCJ=no
+ ! 	  fi
+ ! 	;;
+ !       esac
+ !       ;;
+ ! 
+ !     sunos4*)
+ !       archive_cmds_GCJ='$LD -assert pure-text -Bshareable -o $lib $libobjs $deplibs $linker_flags'
+         wlarc=
+         hardcode_direct_GCJ=yes
+         hardcode_shlibpath_var_GCJ=no
+ ***************
+ *** 18640,18646 ****
+         # Note: this linker hardcodes the directories in LIBPATH if there
+         # are no directories specified by -L.
+         hardcode_minus_L_GCJ=yes
+ !       if test "$GCC" = yes && test -z "$link_static_flag"; then
+   	# Neither direct hardcoding nor static linking is supported with a
+   	# broken collect2.
+   	hardcode_direct_GCJ=unsupported
+ --- 18400,18406 ----
+         # Note: this linker hardcodes the directories in LIBPATH if there
+         # are no directories specified by -L.
+         hardcode_minus_L_GCJ=yes
+ !       if test "$GCC" = yes && test -z "$lt_prog_compiler_static"; then
+   	# Neither direct hardcoding nor static linking is supported with a
+   	# broken collect2.
+   	hardcode_direct_GCJ=unsupported
+ ***************
+ *** 18674,18679 ****
+ --- 18434,18440 ----
+     	    break
+     	  fi
+   	  done
+ + 	  ;;
+   	esac
+   
+   	exp_sym_flag='-bexport'
+ ***************
+ *** 18711,18716 ****
+ --- 18472,18478 ----
+     	  hardcode_libdir_flag_spec_GCJ='-L$libdir'
+     	  hardcode_libdir_separator_GCJ=
+   	  fi
+ + 	  ;;
+   	esac
+   	shared_flag='-shared'
+   	if test "$aix_use_runtimelinking" = yes; then
+ ***************
+ *** 18723,18733 ****
+     	# chokes on -Wl,-G. The following line is correct:
+   	  shared_flag='-G'
+   	else
+ !   	if test "$aix_use_runtimelinking" = yes; then
+   	    shared_flag='${wl}-G'
+   	  else
+   	    shared_flag='${wl}-bM:SRE'
+ !   	fi
+   	fi
+         fi
+   
+ --- 18485,18495 ----
+     	# chokes on -Wl,-G. The following line is correct:
+   	  shared_flag='-G'
+   	else
+ ! 	  if test "$aix_use_runtimelinking" = yes; then
+   	    shared_flag='${wl}-G'
+   	  else
+   	    shared_flag='${wl}-bM:SRE'
+ ! 	  fi
+   	fi
+         fi
+   
+ ***************
+ *** 18792,18803 ****
+   if test -z "$aix_libpath"; then aix_libpath="/usr/lib:/lib"; fi
+   
+          hardcode_libdir_flag_spec_GCJ='${wl}-blibpath:$libdir:'"$aix_libpath"
+ ! 	archive_expsym_cmds_GCJ="\$CC"' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags `if test "x${allow_undefined_flag}" != "x"; then echo "${wl}${allow_undefined_flag}"; else :; fi` '"\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols $shared_flag"
+          else
+   	if test "$host_cpu" = ia64; then
+   	  hardcode_libdir_flag_spec_GCJ='${wl}-R $libdir:/usr/lib:/lib'
+   	  allow_undefined_flag_GCJ="-z nodefs"
+ ! 	  archive_expsym_cmds_GCJ="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags ${wl}${allow_undefined_flag} '"\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols"
+   	else
+   	 # Determine the default libpath from the value encoded in an empty executable.
+   	 cat >conftest.$ac_ext <<_ACEOF
+ --- 18554,18565 ----
+   if test -z "$aix_libpath"; then aix_libpath="/usr/lib:/lib"; fi
+   
+          hardcode_libdir_flag_spec_GCJ='${wl}-blibpath:$libdir:'"$aix_libpath"
+ ! 	archive_expsym_cmds_GCJ="\$CC"' -o $output_objdir/$soname $libobjs $deplibs '"\${wl}$no_entry_flag"' $compiler_flags `if test "x${allow_undefined_flag}" != "x"; then echo "${wl}${allow_undefined_flag}"; else :; fi` '"\${wl}$exp_sym_flag:\$export_symbols $shared_flag"
+          else
+   	if test "$host_cpu" = ia64; then
+   	  hardcode_libdir_flag_spec_GCJ='${wl}-R $libdir:/usr/lib:/lib'
+   	  allow_undefined_flag_GCJ="-z nodefs"
+ ! 	  archive_expsym_cmds_GCJ="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs '"\${wl}$no_entry_flag"' $compiler_flags ${wl}${allow_undefined_flag} '"\${wl}$exp_sym_flag:\$export_symbols"
+   	else
+   	 # Determine the default libpath from the value encoded in an empty executable.
+   	 cat >conftest.$ac_ext <<_ACEOF
+ ***************
+ *** 18857,18869 ****
+   	  # -berok will link without error, but may produce a broken library.
+   	  no_undefined_flag_GCJ=' ${wl}-bernotok'
+   	  allow_undefined_flag_GCJ=' ${wl}-berok'
+ - 	  # -bexpall does not export symbols beginning with underscore (_)
+ - 	  always_export_symbols_GCJ=yes
+   	  # Exported symbols can be pulled into shared objects from archives
+ ! 	  whole_archive_flag_spec_GCJ=' '
+   	  archive_cmds_need_lc_GCJ=yes
+ ! 	  # This is similar to how AIX traditionally builds it's shared libraries.
+ ! 	  archive_expsym_cmds_GCJ="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags ${wl}-bE:$export_symbols ${wl}-bnoentry${allow_undefined_flag}~$AR $AR_FLAGS $output_objdir/$libname$release.a $output_objdir/$soname'
+   	fi
+         fi
+         ;;
+ --- 18619,18629 ----
+   	  # -berok will link without error, but may produce a broken library.
+   	  no_undefined_flag_GCJ=' ${wl}-bernotok'
+   	  allow_undefined_flag_GCJ=' ${wl}-berok'
+   	  # Exported symbols can be pulled into shared objects from archives
+ ! 	  whole_archive_flag_spec_GCJ='$convenience'
+   	  archive_cmds_need_lc_GCJ=yes
+ ! 	  # This is similar to how AIX traditionally builds its shared libraries.
+ ! 	  archive_expsym_cmds_GCJ="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs ${wl}-bnoentry $compiler_flags ${wl}-bE:$export_symbols${allow_undefined_flag}~$AR $AR_FLAGS $output_objdir/$libname$release.a $output_objdir/$soname'
+   	fi
+         fi
+         ;;
+ ***************
+ *** 18902,18908 ****
+         ;;
+   
+       darwin* | rhapsody*)
+ !       case "$host_os" in
+           rhapsody* | darwin1.[012])
+            allow_undefined_flag_GCJ='${wl}-undefined ${wl}suppress'
+            ;;
+ --- 18662,18668 ----
+         ;;
+   
+       darwin* | rhapsody*)
+ !       case $host_os in
+           rhapsody* | darwin1.[012])
+            allow_undefined_flag_GCJ='${wl}-undefined ${wl}suppress'
+            ;;
+ ***************
+ *** 18931,18937 ****
+       	output_verbose_link_cmd='echo'
+           archive_cmds_GCJ='$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+         module_cmds_GCJ='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+ !       # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin ld's
+         archive_expsym_cmds_GCJ='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+         module_expsym_cmds_GCJ='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+       else
+ --- 18691,18697 ----
+       	output_verbose_link_cmd='echo'
+           archive_cmds_GCJ='$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring'
+         module_cmds_GCJ='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+ !       # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
+         archive_expsym_cmds_GCJ='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+         module_expsym_cmds_GCJ='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+       else
+ ***************
+ *** 18940,18946 ****
+            output_verbose_link_cmd='echo'
+            archive_cmds_GCJ='$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $verstring'
+            module_cmds_GCJ='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+ !           # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin ld's
+            archive_expsym_cmds_GCJ='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}$rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             module_expsym_cmds_GCJ='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             ;;
+ --- 18700,18706 ----
+            output_verbose_link_cmd='echo'
+            archive_cmds_GCJ='$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`echo $rpath/$soname` $verstring'
+            module_cmds_GCJ='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'
+ !           # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds
+            archive_expsym_cmds_GCJ='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}$rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             module_expsym_cmds_GCJ='sed -e "s,#.*,," -e "s,^[    ]*,," -e "s,^\(..*\),_&," < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'
+             ;;
+ ***************
+ *** 19004,19050 ****
+         export_dynamic_flag_spec_GCJ='${wl}-E'
+         ;;
+   
+ !     hpux10* | hpux11*)
+         if test "$GCC" = yes -a "$with_gnu_ld" = no; then
+ ! 	case "$host_cpu" in
+ ! 	hppa*64*|ia64*)
+   	  archive_cmds_GCJ='$CC -shared ${wl}+h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
+   	  ;;
+   	*)
+   	  archive_cmds_GCJ='$CC -shared -fPIC ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $libobjs $deplibs $compiler_flags'
+   	  ;;
+   	esac
+         else
+ ! 	case "$host_cpu" in
+ ! 	hppa*64*|ia64*)
+ ! 	  archive_cmds_GCJ='$LD -b +h $soname -o $lib $libobjs $deplibs $linker_flags'
+   	  ;;
+   	*)
+ ! 	  archive_cmds_GCJ='$LD -b +h $soname +b $install_libdir -o $lib $libobjs $deplibs $linker_flags'
+   	  ;;
+   	esac
+         fi
+         if test "$with_gnu_ld" = no; then
+ ! 	case "$host_cpu" in
+ ! 	hppa*64*)
+ ! 	  hardcode_libdir_flag_spec_GCJ='${wl}+b ${wl}$libdir'
+   	  hardcode_libdir_flag_spec_ld_GCJ='+b $libdir'
+ - 	  hardcode_libdir_separator_GCJ=:
+ - 	  hardcode_direct_GCJ=no
+ - 	  hardcode_shlibpath_var_GCJ=no
+ - 	  ;;
+ - 	ia64*)
+ - 	  hardcode_libdir_flag_spec_GCJ='-L$libdir'
+   	  hardcode_direct_GCJ=no
+   	  hardcode_shlibpath_var_GCJ=no
+ - 
+ - 	  # hardcode_minus_L: Not really in the search PATH,
+ - 	  # but as the default location of the library.
+ - 	  hardcode_minus_L_GCJ=yes
+   	  ;;
+   	*)
+ - 	  hardcode_libdir_flag_spec_GCJ='${wl}+b ${wl}$libdir'
+ - 	  hardcode_libdir_separator_GCJ=:
+   	  hardcode_direct_GCJ=yes
+   	  export_dynamic_flag_spec_GCJ='${wl}-E'
+   
+ --- 18764,18825 ----
+         export_dynamic_flag_spec_GCJ='${wl}-E'
+         ;;
+   
+ !     hpux10*)
+         if test "$GCC" = yes -a "$with_gnu_ld" = no; then
+ ! 	archive_cmds_GCJ='$CC -shared -fPIC ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $libobjs $deplibs $compiler_flags'
+ !       else
+ ! 	archive_cmds_GCJ='$LD -b +h $soname +b $install_libdir -o $lib $libobjs $deplibs $linker_flags'
+ !       fi
+ !       if test "$with_gnu_ld" = no; then
+ ! 	hardcode_libdir_flag_spec_GCJ='${wl}+b ${wl}$libdir'
+ ! 	hardcode_libdir_separator_GCJ=:
+ ! 
+ ! 	hardcode_direct_GCJ=yes
+ ! 	export_dynamic_flag_spec_GCJ='${wl}-E'
+ ! 
+ ! 	# hardcode_minus_L: Not really in the search PATH,
+ ! 	# but as the default location of the library.
+ ! 	hardcode_minus_L_GCJ=yes
+ !       fi
+ !       ;;
+ ! 
+ !     hpux11*)
+ !       if test "$GCC" = yes -a "$with_gnu_ld" = no; then
+ ! 	case $host_cpu in
+ ! 	hppa*64*)
+   	  archive_cmds_GCJ='$CC -shared ${wl}+h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
+   	  ;;
+ + 	ia64*)
+ + 	  archive_cmds_GCJ='$CC -shared ${wl}+h ${wl}$soname ${wl}+nodefaultrpath -o $lib $libobjs $deplibs $compiler_flags'
+ + 	  ;;
+   	*)
+   	  archive_cmds_GCJ='$CC -shared -fPIC ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $libobjs $deplibs $compiler_flags'
+   	  ;;
+   	esac
+         else
+ ! 	case $host_cpu in
+ ! 	hppa*64*)
+ ! 	  archive_cmds_GCJ='$CC -b ${wl}+h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ ! 	  ;;
+ ! 	ia64*)
+ ! 	  archive_cmds_GCJ='$CC -b ${wl}+h ${wl}$soname ${wl}+nodefaultrpath -o $lib $libobjs $deplibs $compiler_flags'
+   	  ;;
+   	*)
+ ! 	  archive_cmds_GCJ='$CC -b ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $libobjs $deplibs $compiler_flags'
+   	  ;;
+   	esac
+         fi
+         if test "$with_gnu_ld" = no; then
+ ! 	hardcode_libdir_flag_spec_GCJ='${wl}+b ${wl}$libdir'
+ ! 	hardcode_libdir_separator_GCJ=:
+ ! 
+ ! 	case $host_cpu in
+ ! 	hppa*64*|ia64*)
+   	  hardcode_libdir_flag_spec_ld_GCJ='+b $libdir'
+   	  hardcode_direct_GCJ=no
+   	  hardcode_shlibpath_var_GCJ=no
+   	  ;;
+   	*)
+   	  hardcode_direct_GCJ=yes
+   	  export_dynamic_flag_spec_GCJ='${wl}-E'
+   
+ ***************
+ *** 19146,19159 ****
+         hardcode_libdir_separator_GCJ=:
+         ;;
+   
+ -     sco3.2v5*)
+ -       archive_cmds_GCJ='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
+ -       hardcode_shlibpath_var_GCJ=no
+ -       export_dynamic_flag_spec_GCJ='${wl}-Bexport'
+ -       runpath_var=LD_RUN_PATH
+ -       hardcode_runpath_var=yes
+ -       ;;
+ - 
+       solaris*)
+         no_undefined_flag_GCJ=' -z text'
+         if test "$GCC" = yes; then
+ --- 18921,18926 ----
+ ***************
+ *** 19239,19274 ****
+         fi
+         ;;
+   
+ !     sysv4.2uw2*)
+ !       archive_cmds_GCJ='$LD -G -o $lib $libobjs $deplibs $linker_flags'
+ !       hardcode_direct_GCJ=yes
+ !       hardcode_minus_L_GCJ=no
+         hardcode_shlibpath_var_GCJ=no
+ !       hardcode_runpath_var=yes
+ !       runpath_var=LD_RUN_PATH
+ !       ;;
+   
+ -    sysv5OpenUNIX8* | sysv5UnixWare7* |  sysv5uw[78]* | unixware7*)
+ -       no_undefined_flag_GCJ='${wl}-z ${wl}text'
+         if test "$GCC" = yes; then
+ ! 	archive_cmds_GCJ='$CC -shared ${wl}-h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
+         else
+ ! 	archive_cmds_GCJ='$CC -G ${wl}-h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'
+         fi
+ -       runpath_var='LD_RUN_PATH'
+ -       hardcode_shlibpath_var_GCJ=no
+         ;;
+   
+ !     sysv5*)
+ !       no_undefined_flag_GCJ=' -z text'
+ !       # $CC -shared without GNU ld will not create a library from C++
+ !       # object files and a static libstdc++, better avoid it by now
+ !       archive_cmds_GCJ='$LD -G${allow_undefined_flag} -h $soname -o $lib $libobjs $deplibs $linker_flags'
+ !       archive_expsym_cmds_GCJ='$echo "{ global:" > $lib.exp~cat $export_symbols | $SED -e "s/\(.*\)/\1;/" >> $lib.exp~$echo "local: *; };" >> $lib.exp~
+ !   		$LD -G${allow_undefined_flag} -M $lib.exp -h $soname -o $lib $libobjs $deplibs $linker_flags~$rm $lib.exp'
+ !       hardcode_libdir_flag_spec_GCJ=
+         hardcode_shlibpath_var_GCJ=no
+         runpath_var='LD_RUN_PATH'
+         ;;
+   
+       uts4*)
+ --- 19006,19050 ----
+         fi
+         ;;
+   
+ !     sysv4*uw2* | sysv5OpenUNIX* | sysv5UnixWare7.[01].[10]* | unixware7*)
+ !       no_undefined_flag_GCJ='${wl}-z,text'
+ !       archive_cmds_need_lc_GCJ=no
+         hardcode_shlibpath_var_GCJ=no
+ !       runpath_var='LD_RUN_PATH'
+   
+         if test "$GCC" = yes; then
+ ! 	archive_cmds_GCJ='$CC -shared ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
+ ! 	archive_expsym_cmds_GCJ='$CC -shared ${wl}-Bexport:$export_symbols ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
+         else
+ ! 	archive_cmds_GCJ='$CC -G ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
+ ! 	archive_expsym_cmds_GCJ='$CC -G ${wl}-Bexport:$export_symbols ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'
+         fi
+         ;;
+   
+ !     sysv5* | sco3.2v5* | sco5v6*)
+ !       # Note: We can NOT use -z defs as we might desire, because we do not
+ !       # link with -lc, and that would cause any symbols used from libc to
+ !       # always be unresolved, which means just about no library would
+ !       # ever link correctly.  If we're not using GNU ld we use -z text
+ !       # though, which does catch some bad symbols but isn't as heavy-handed
+ !       # as -z defs.
+ !       no_undefined_flag_GCJ='${wl}-z,text'
+ !       allow_undefined_flag_GCJ='${wl}-z,nodefs'
+ !       archive_cmds_need_lc_GCJ=no
+         hardcode_shlibpath_var_GCJ=no
+ +       hardcode_libdir_flag_spec_GCJ='`test -z "$SCOABSPATH" && echo ${wl}-R,$libdir`'
+ +       hardcode_libdir_separator_GCJ=':'
+ +       link_all_deplibs_GCJ=yes
+ +       export_dynamic_flag_spec_GCJ='${wl}-Bexport'
+         runpath_var='LD_RUN_PATH'
+ + 
+ +       if test "$GCC" = yes; then
+ + 	archive_cmds_GCJ='$CC -shared ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ + 	archive_expsym_cmds_GCJ='$CC -shared ${wl}-Bexport:$export_symbols ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ +       else
+ + 	archive_cmds_GCJ='$CC -G ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ + 	archive_expsym_cmds_GCJ='$CC -G ${wl}-Bexport:$export_symbols ${wl}-h,\${SCOABSPATH:+${install_libdir}/}$soname -o $lib $libobjs $deplibs $compiler_flags'
+ +       fi
+         ;;
+   
+       uts4*)
+ ***************
+ *** 19287,19297 ****
+   echo "${ECHO_T}$ld_shlibs_GCJ" >&6
+   test "$ld_shlibs_GCJ" = no && can_build_shared=no
+   
+ - variables_saved_for_relink="PATH $shlibpath_var $runpath_var"
+ - if test "$GCC" = yes; then
+ -   variables_saved_for_relink="$variables_saved_for_relink GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH"
+ - fi
+ - 
+   #
+   # Do we need to explicitly link libc?
+   #
+ --- 19063,19068 ----
+ ***************
+ *** 19324,19329 ****
+ --- 19095,19101 ----
+           libobjs=conftest.$ac_objext
+           deplibs=
+           wl=$lt_prog_compiler_wl_GCJ
+ + 	pic_flag=$lt_prog_compiler_pic_GCJ
+           compiler_flags=-v
+           linker_flags=-v
+           verstring=
+ ***************
+ *** 19484,19490 ****
+         dlpath=`$SHELL 2>&1 -c '\''. $dir/'\''\${base_file}'\''i;echo \$dlname'\''`~
+         dldir=$destdir/`dirname \$dlpath`~
+         test -d \$dldir || mkdir -p \$dldir~
+ !       $install_prog $dir/$dlname \$dldir/$dlname'
+       postuninstall_cmds='dldll=`$SHELL 2>&1 -c '\''. $file; echo \$dlname'\''`~
+         dlpath=$dir/\$dldll~
+          $rm \$dlpath'
+ --- 19256,19263 ----
+         dlpath=`$SHELL 2>&1 -c '\''. $dir/'\''\${base_file}'\''i;echo \$dlname'\''`~
+         dldir=$destdir/`dirname \$dlpath`~
+         test -d \$dldir || mkdir -p \$dldir~
+ !       $install_prog $dir/$dlname \$dldir/$dlname~
+ !       chmod a+x \$dldir/$dlname'
+       postuninstall_cmds='dldll=`$SHELL 2>&1 -c '\''. $file; echo \$dlname'\''`~
+         dlpath=$dir/\$dldll~
+          $rm \$dlpath'
+ ***************
+ *** 19537,19543 ****
+     soname_spec='${libname}${release}${major}$shared_ext'
+     shlibpath_overrides_runpath=yes
+     shlibpath_var=DYLD_LIBRARY_PATH
+ !   shrext_cmds='$(test .$module = .yes && echo .so || echo .dylib)'
+     # Apple's gcc prints 'gcc -print-search-dirs' doesn't operate the same.
+     if test "$GCC" = yes; then
+       sys_lib_search_path_spec=`$CC -print-search-dirs | tr "\n" "$PATH_SEPARATOR" | sed -e 's/libraries:/@libraries:/' | tr "@" "\n" | grep "^libraries:" | sed -e "s/^libraries://" -e "s,=/,/,g" -e "s,$PATH_SEPARATOR, ,g" -e "s,.*,& /lib /usr/lib /usr/local/lib,g"`
+ --- 19310,19316 ----
+     soname_spec='${libname}${release}${major}$shared_ext'
+     shlibpath_overrides_runpath=yes
+     shlibpath_var=DYLD_LIBRARY_PATH
+ !   shrext_cmds='`test .$module = .yes && echo .so || echo .dylib`'
+     # Apple's gcc prints 'gcc -print-search-dirs' doesn't operate the same.
+     if test "$GCC" = yes; then
+       sys_lib_search_path_spec=`$CC -print-search-dirs | tr "\n" "$PATH_SEPARATOR" | sed -e 's/libraries:/@libraries:/' | tr "@" "\n" | grep "^libraries:" | sed -e "s/^libraries://" -e "s,=/,/,g" -e "s,$PATH_SEPARATOR, ,g" -e "s,.*,& /lib /usr/lib /usr/local/lib,g"`
+ ***************
+ *** 19575,19581 ****
+   freebsd* | dragonfly*)
+     # DragonFly does not have aout.  When/if they implement a new
+     # versioning mechanism, adjust this.
+ !   objformat=`test -x /usr/bin/objformat && /usr/bin/objformat || echo aout`
+     version_type=freebsd-$objformat
+     case $version_type in
+       freebsd-elf*)
+ --- 19348,19361 ----
+   freebsd* | dragonfly*)
+     # DragonFly does not have aout.  When/if they implement a new
+     # versioning mechanism, adjust this.
+ !   if test -x /usr/bin/objformat; then
+ !     objformat=`/usr/bin/objformat`
+ !   else
+ !     case $host_os in
+ !     freebsd[123]*) objformat=aout ;;
+ !     *) objformat=elf ;;
+ !     esac
+ !   fi
+     version_type=freebsd-$objformat
+     case $version_type in
+       freebsd-elf*)
+ ***************
+ *** 19597,19606 ****
+       shlibpath_overrides_runpath=yes
+       hardcode_into_libs=yes
+       ;;
+ !   *) # from 3.2 on
+       shlibpath_overrides_runpath=no
+       hardcode_into_libs=yes
+       ;;
+     esac
+     ;;
+   
+ --- 19377,19391 ----
+       shlibpath_overrides_runpath=yes
+       hardcode_into_libs=yes
+       ;;
+ !   freebsd3.[2-9]* | freebsdelf3.[2-9]* | \
+ !   freebsd4.[0-5] | freebsdelf4.[0-5] | freebsd4.1.1 | freebsdelf4.1.1)
+       shlibpath_overrides_runpath=no
+       hardcode_into_libs=yes
+       ;;
+ +   freebsd*) # from 4.6 on
+ +     shlibpath_overrides_runpath=yes
+ +     hardcode_into_libs=yes
+ +     ;;
+     esac
+     ;;
+   
+ ***************
+ *** 19620,19626 ****
+     version_type=sunos
+     need_lib_prefix=no
+     need_version=no
+ !   case "$host_cpu" in
+     ia64*)
+       shrext_cmds='.so'
+       hardcode_into_libs=yes
+ --- 19405,19411 ----
+     version_type=sunos
+     need_lib_prefix=no
+     need_version=no
+ !   case $host_cpu in
+     ia64*)
+       shrext_cmds='.so'
+       hardcode_into_libs=yes
+ ***************
+ *** 19647,20796 ****
+        sys_lib_search_path_spec="/usr/lib/pa20_64 /usr/ccs/lib/pa20_64"
+        sys_lib_dlsearch_path_spec=$sys_lib_search_path_spec
+        ;;
+ !    *)
+ !     shrext_cmds='.sl'
+ !     dynamic_linker="$host_os dld.sl"
+ !     shlibpath_var=SHLIB_PATH
+ !     shlibpath_overrides_runpath=no # +s is required to enable SHLIB_PATH
+ !     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+ !     soname_spec='${libname}${release}${shared_ext}$major'
+ !     ;;
+ !   esac
+ !   # HP-UX runs *really* slowly unless shared libraries are mode 555.
+ !   postinstall_cmds='chmod 555 $lib'
+ !   ;;
+ ! 
+ ! irix5* | irix6* | nonstopux*)
+ !   case $host_os in
+ !     nonstopux*) version_type=nonstopux ;;
+ !     *)
+ ! 	if test "$lt_cv_prog_gnu_ld" = yes; then
+ ! 		version_type=linux
+ ! 	else
+ ! 		version_type=irix
+ ! 	fi ;;
+ !   esac
+ !   need_lib_prefix=no
+ !   need_version=no
+ !   soname_spec='${libname}${release}${shared_ext}$major'
+ !   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major ${libname}${release}${shared_ext} $libname${shared_ext}'
+ !   case $host_os in
+ !   irix5* | nonstopux*)
+ !     libsuff= shlibsuff=
+ !     ;;
+ !   *)
+ !     case $LD in # libtool.m4 will add one of these switches to LD
+ !     *-32|*"-32 "|*-melf32bsmip|*"-melf32bsmip ")
+ !       libsuff= shlibsuff= libmagic=32-bit;;
+ !     *-n32|*"-n32 "|*-melf32bmipn32|*"-melf32bmipn32 ")
+ !       libsuff=32 shlibsuff=N32 libmagic=N32;;
+ !     *-64|*"-64 "|*-melf64bmip|*"-melf64bmip ")
+ !       libsuff=64 shlibsuff=64 libmagic=64-bit;;
+ !     *) libsuff= shlibsuff= libmagic=never-match;;
+ !     esac
+ !     ;;
+ !   esac
+ !   shlibpath_var=LD_LIBRARY${shlibsuff}_PATH
+ !   shlibpath_overrides_runpath=no
+ !   sys_lib_search_path_spec="/usr/lib${libsuff} /lib${libsuff} /usr/local/lib${libsuff}"
+ !   sys_lib_dlsearch_path_spec="/usr/lib${libsuff} /lib${libsuff}"
+ !   hardcode_into_libs=yes
+ !   ;;
+ ! 
+ ! # No shared lib support for Linux oldld, aout, or coff.
+ ! linux*oldld* | linux*aout* | linux*coff*)
+ !   dynamic_linker=no
+ !   ;;
+ ! 
+ ! # This must be Linux ELF.
+ ! linux*)
+ !   version_type=linux
+ !   need_lib_prefix=no
+ !   need_version=no
+ !   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+ !   soname_spec='${libname}${release}${shared_ext}$major'
+ !   finish_cmds='PATH="\$PATH:/sbin" ldconfig -n $libdir'
+ !   shlibpath_var=LD_LIBRARY_PATH
+ !   shlibpath_overrides_runpath=no
+ !   # This implies no fast_install, which is unacceptable.
+ !   # Some rework will be needed to allow for fast_install
+ !   # before this can be enabled.
+ !   hardcode_into_libs=yes
+ ! 
+ !   # find out which ABI we are using
+ !   libsuff=
+ !   case "$host_cpu" in
+ !   x86_64*|s390x*|powerpc64*)
+ !     echo '#line 19724 "configure"' > conftest.$ac_ext
+ !     if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+ !   (eval $ac_compile) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; then
+ !       case `/usr/bin/file conftest.$ac_objext` in
+ !       *64-bit*)
+ !         libsuff=64
+ !         sys_lib_search_path_spec="/lib${libsuff} /usr/lib${libsuff} /usr/local/lib${libsuff}"
+ !         ;;
+ !       esac
+ !     fi
+ !     rm -rf conftest*
+ !     ;;
+ !   esac
+ ! 
+ !   # Append ld.so.conf contents to the search path
+ !   if test -f /etc/ld.so.conf; then
+ !     lt_ld_extra=`awk '/^include / { system(sprintf("cd /etc; cat %s", \$2)); skip = 1; } { if (!skip) print \$0; skip = 0; }' < /etc/ld.so.conf | $SED -e 's/#.*//;s/[:,\t]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;/^$/d' | tr '\n' ' '`
+ !     sys_lib_dlsearch_path_spec="/lib${libsuff} /usr/lib${libsuff} $lt_ld_extra"
+ !   fi
+ ! 
+ !   # We used to test for /lib/ld.so.1 and disable shared libraries on
+ !   # powerpc, because MkLinux only supported shared libraries with the
+ !   # GNU dynamic linker.  Since this was broken with cross compilers,
+ !   # most powerpc-linux boxes support dynamic linking these days and
+ !   # people can always --disable-shared, the test was removed, and we
+ !   # assume the GNU/Linux dynamic linker is in use.
+ !   dynamic_linker='GNU/Linux ld.so'
+ !   ;;
+ ! 
+ ! knetbsd*-gnu)
+ !   version_type=linux
+ !   need_lib_prefix=no
+ !   need_version=no
+ !   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major ${libname}${shared_ext}'
+ !   soname_spec='${libname}${release}${shared_ext}$major'
+ !   shlibpath_var=LD_LIBRARY_PATH
+ !   shlibpath_overrides_runpath=no
+ !   hardcode_into_libs=yes
+ !   dynamic_linker='GNU ld.so'
+ !   ;;
+ ! 
+ ! netbsd*)
+ !   version_type=sunos
+ !   need_lib_prefix=no
+ !   need_version=no
+ !   if echo __ELF__ | $CC -E - | grep __ELF__ >/dev/null; then
+ !     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'
+ !     finish_cmds='PATH="\$PATH:/sbin" ldconfig -m $libdir'
+ !     dynamic_linker='NetBSD (a.out) ld.so'
+ !   else
+ !     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major ${libname}${shared_ext}'
+ !     soname_spec='${libname}${release}${shared_ext}$major'
+ !     dynamic_linker='NetBSD ld.elf_so'
+ !   fi
+ !   shlibpath_var=LD_LIBRARY_PATH
+ !   shlibpath_overrides_runpath=yes
+ !   hardcode_into_libs=yes
+ !   ;;
+ ! 
+ ! newsos6)
+ !   version_type=linux
+ !   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+ !   shlibpath_var=LD_LIBRARY_PATH
+ !   shlibpath_overrides_runpath=yes
+ !   ;;
+ ! 
+ ! nto-qnx*)
+ !   version_type=linux
+ !   need_lib_prefix=no
+ !   need_version=no
+ !   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+ !   soname_spec='${libname}${release}${shared_ext}$major'
+ !   shlibpath_var=LD_LIBRARY_PATH
+ !   shlibpath_overrides_runpath=yes
+ !   ;;
+ ! 
+ ! openbsd*)
+ !   version_type=sunos
+ !   need_lib_prefix=no
+ !   need_version=no
+ !   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'
+ !   finish_cmds='PATH="\$PATH:/sbin" ldconfig -m $libdir'
+ !   shlibpath_var=LD_LIBRARY_PATH
+ !   if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
+ !     case $host_os in
+ !       openbsd2.[89] | openbsd2.[89].*)
+ ! 	shlibpath_overrides_runpath=no
+ ! 	;;
+ !       *)
+ ! 	shlibpath_overrides_runpath=yes
+ ! 	;;
+ !       esac
+ !   else
+ !     shlibpath_overrides_runpath=yes
+ !   fi
+ !   ;;
+ ! 
+ ! os2*)
+ !   libname_spec='$name'
+ !   shrext_cmds=".dll"
+ !   need_lib_prefix=no
+ !   library_names_spec='$libname${shared_ext} $libname.a'
+ !   dynamic_linker='OS/2 ld.exe'
+ !   shlibpath_var=LIBPATH
+ !   ;;
+ ! 
+ ! osf3* | osf4* | osf5*)
+ !   version_type=osf
+ !   need_lib_prefix=no
+ !   need_version=no
+ !   soname_spec='${libname}${release}${shared_ext}$major'
+ !   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+ !   shlibpath_var=LD_LIBRARY_PATH
+ !   sys_lib_search_path_spec="/usr/shlib /usr/ccs/lib /usr/lib/cmplrs/cc /usr/lib /usr/local/lib /var/shlib"
+ !   sys_lib_dlsearch_path_spec="$sys_lib_search_path_spec"
+ !   ;;
+ ! 
+ ! sco3.2v5*)
+ !   version_type=osf
+ !   soname_spec='${libname}${release}${shared_ext}$major'
+ !   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+ !   shlibpath_var=LD_LIBRARY_PATH
+ !   ;;
+ ! 
+ ! solaris*)
+ !   version_type=linux
+ !   need_lib_prefix=no
+ !   need_version=no
+ !   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+ !   soname_spec='${libname}${release}${shared_ext}$major'
+ !   shlibpath_var=LD_LIBRARY_PATH
+ !   shlibpath_overrides_runpath=yes
+ !   hardcode_into_libs=yes
+ !   # ldd complains unless libraries are executable
+ !   postinstall_cmds='chmod +x $lib'
+ !   ;;
+ ! 
+ ! sunos4*)
+ !   version_type=sunos
+ !   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'
+ !   finish_cmds='PATH="\$PATH:/usr/etc" ldconfig $libdir'
+ !   shlibpath_var=LD_LIBRARY_PATH
+ !   shlibpath_overrides_runpath=yes
+ !   if test "$with_gnu_ld" = yes; then
+ !     need_lib_prefix=no
+ !   fi
+ !   need_version=yes
+ !   ;;
+ ! 
+ ! sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)
+ !   version_type=linux
+ !   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+ !   soname_spec='${libname}${release}${shared_ext}$major'
+ !   shlibpath_var=LD_LIBRARY_PATH
+ !   case $host_vendor in
+ !     sni)
+ !       shlibpath_overrides_runpath=no
+ !       need_lib_prefix=no
+ !       export_dynamic_flag_spec='${wl}-Blargedynsym'
+ !       runpath_var=LD_RUN_PATH
+ !       ;;
+ !     siemens)
+ !       need_lib_prefix=no
+ !       ;;
+ !     motorola)
+ !       need_lib_prefix=no
+ !       need_version=no
+ !       shlibpath_overrides_runpath=no
+ !       sys_lib_search_path_spec='/lib /usr/lib /usr/ccs/lib'
+ !       ;;
+ !   esac
+ !   ;;
+ ! 
+ ! sysv4*MP*)
+ !   if test -d /usr/nec ;then
+ !     version_type=linux
+ !     library_names_spec='$libname${shared_ext}.$versuffix $libname${shared_ext}.$major $libname${shared_ext}'
+ !     soname_spec='$libname${shared_ext}.$major'
+ !     shlibpath_var=LD_LIBRARY_PATH
+ !   fi
+ !   ;;
+ ! 
+ ! uts4*)
+ !   version_type=linux
+ !   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+ !   soname_spec='${libname}${release}${shared_ext}$major'
+ !   shlibpath_var=LD_LIBRARY_PATH
+ !   ;;
+ ! 
+ ! *)
+ !   dynamic_linker=no
+ !   ;;
+ ! esac
+ ! echo "$as_me:$LINENO: result: $dynamic_linker" >&5
+ ! echo "${ECHO_T}$dynamic_linker" >&6
+ ! test "$dynamic_linker" = no && can_build_shared=no
+ ! 
+ ! echo "$as_me:$LINENO: checking how to hardcode library paths into programs" >&5
+ ! echo $ECHO_N "checking how to hardcode library paths into programs... $ECHO_C" >&6
+ ! hardcode_action_GCJ=
+ ! if test -n "$hardcode_libdir_flag_spec_GCJ" || \
+ !    test -n "$runpath_var_GCJ" || \
+ !    test "X$hardcode_automatic_GCJ" = "Xyes" ; then
+ ! 
+ !   # We can hardcode non-existant directories.
+ !   if test "$hardcode_direct_GCJ" != no &&
+ !      # If the only mechanism to avoid hardcoding is shlibpath_var, we
+ !      # have to relink, otherwise we might link with an installed library
+ !      # when we should be linking with a yet-to-be-installed one
+ !      ## test "$_LT_AC_TAGVAR(hardcode_shlibpath_var, GCJ)" != no &&
+ !      test "$hardcode_minus_L_GCJ" != no; then
+ !     # Linking always hardcodes the temporary library directory.
+ !     hardcode_action_GCJ=relink
+ !   else
+ !     # We can link without hardcoding, and we can hardcode nonexisting dirs.
+ !     hardcode_action_GCJ=immediate
+ !   fi
+ ! else
+ !   # We cannot hardcode anything, or else we can only hardcode existing
+ !   # directories.
+ !   hardcode_action_GCJ=unsupported
+ ! fi
+ ! echo "$as_me:$LINENO: result: $hardcode_action_GCJ" >&5
+ ! echo "${ECHO_T}$hardcode_action_GCJ" >&6
+ ! 
+ ! if test "$hardcode_action_GCJ" = relink; then
+ !   # Fast installation is not supported
+ !   enable_fast_install=no
+ ! elif test "$shlibpath_overrides_runpath" = yes ||
+ !      test "$enable_shared" = no; then
+ !   # Fast installation is not necessary
+ !   enable_fast_install=needless
+ ! fi
+ ! 
+ ! striplib=
+ ! old_striplib=
+ ! echo "$as_me:$LINENO: checking whether stripping libraries is possible" >&5
+ ! echo $ECHO_N "checking whether stripping libraries is possible... $ECHO_C" >&6
+ ! if test -n "$STRIP" && $STRIP -V 2>&1 | grep "GNU strip" >/dev/null; then
+ !   test -z "$old_striplib" && old_striplib="$STRIP --strip-debug"
+ !   test -z "$striplib" && striplib="$STRIP --strip-unneeded"
+ !   echo "$as_me:$LINENO: result: yes" >&5
+ ! echo "${ECHO_T}yes" >&6
+ ! else
+ ! # FIXME - insert some real tests, host_os isn't really good enough
+ !   case $host_os in
+ !    darwin*)
+ !        if test -n "$STRIP" ; then
+ !          striplib="$STRIP -x"
+ !          echo "$as_me:$LINENO: result: yes" >&5
+ ! echo "${ECHO_T}yes" >&6
+ !        else
+ !   echo "$as_me:$LINENO: result: no" >&5
+ ! echo "${ECHO_T}no" >&6
+ ! fi
+ !        ;;
+ !    *)
+ !   echo "$as_me:$LINENO: result: no" >&5
+ ! echo "${ECHO_T}no" >&6
+ !     ;;
+ !   esac
+ ! fi
+ ! 
+ ! if test "x$enable_dlopen" != xyes; then
+ !   enable_dlopen=unknown
+ !   enable_dlopen_self=unknown
+ !   enable_dlopen_self_static=unknown
+ ! else
+ !   lt_cv_dlopen=no
+ !   lt_cv_dlopen_libs=
+ ! 
+ !   case $host_os in
+ !   beos*)
+ !     lt_cv_dlopen="load_add_on"
+ !     lt_cv_dlopen_libs=
+ !     lt_cv_dlopen_self=yes
+ !     ;;
+ ! 
+ !   mingw* | pw32*)
+ !     lt_cv_dlopen="LoadLibrary"
+ !     lt_cv_dlopen_libs=
+ !    ;;
+ ! 
+ !   cygwin*)
+ !     lt_cv_dlopen="dlopen"
+ !     lt_cv_dlopen_libs=
+ !    ;;
+ ! 
+ !   darwin*)
+ !   # if libdl is installed we need to link against it
+ !     echo "$as_me:$LINENO: checking for dlopen in -ldl" >&5
+ ! echo $ECHO_N "checking for dlopen in -ldl... $ECHO_C" >&6
+ ! if test "${ac_cv_lib_dl_dlopen+set}" = set; then
+ !   echo $ECHO_N "(cached) $ECHO_C" >&6
+ ! else
+ !   ac_check_lib_save_LIBS=$LIBS
+ ! LIBS="-ldl  $LIBS"
+ ! cat >conftest.$ac_ext <<_ACEOF
+ ! /* confdefs.h.  */
+ ! _ACEOF
+ ! cat confdefs.h >>conftest.$ac_ext
+ ! cat >>conftest.$ac_ext <<_ACEOF
+ ! /* end confdefs.h.  */
+ ! 
+ ! /* Override any gcc2 internal prototype to avoid an error.  */
+ ! #ifdef __cplusplus
+ ! extern "C"
+ ! #endif
+ ! /* We use char because int might match the return type of a gcc2
+ !    builtin and then its argument prototype would still apply.  */
+ ! char dlopen ();
+ ! int
+ ! main ()
+ ! {
+ ! dlopen ();
+ !   ;
+ !   return 0;
+ ! }
+ ! _ACEOF
+ ! rm -f conftest.$ac_objext conftest$ac_exeext
+ ! if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+ !   (eval $ac_link) 2>conftest.er1
+ !   ac_status=$?
+ !   grep -v '^ *+' conftest.er1 >conftest.err
+ !   rm -f conftest.er1
+ !   cat conftest.err >&5
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); } &&
+ ! 	 { ac_try='test -z "$ac_c_werror_flag"
+ ! 			 || test ! -s conftest.err'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; } &&
+ ! 	 { ac_try='test -s conftest$ac_exeext'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; }; then
+ !   ac_cv_lib_dl_dlopen=yes
+ ! else
+ !   echo "$as_me: failed program was:" >&5
+ ! sed 's/^/| /' conftest.$ac_ext >&5
+ ! 
+ ! ac_cv_lib_dl_dlopen=no
+ ! fi
+ ! rm -f conftest.err conftest.$ac_objext \
+ !       conftest$ac_exeext conftest.$ac_ext
+ ! LIBS=$ac_check_lib_save_LIBS
+ ! fi
+ ! echo "$as_me:$LINENO: result: $ac_cv_lib_dl_dlopen" >&5
+ ! echo "${ECHO_T}$ac_cv_lib_dl_dlopen" >&6
+ ! if test $ac_cv_lib_dl_dlopen = yes; then
+ !   lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-ldl"
+ ! else
+ ! 
+ !     lt_cv_dlopen="dyld"
+ !     lt_cv_dlopen_libs=
+ !     lt_cv_dlopen_self=yes
+ ! 
+ ! fi
+ ! 
+ !    ;;
+ ! 
+ !   *)
+ !     echo "$as_me:$LINENO: checking for shl_load" >&5
+ ! echo $ECHO_N "checking for shl_load... $ECHO_C" >&6
+ ! if test "${ac_cv_func_shl_load+set}" = set; then
+ !   echo $ECHO_N "(cached) $ECHO_C" >&6
+ ! else
+ !   cat >conftest.$ac_ext <<_ACEOF
+ ! /* confdefs.h.  */
+ ! _ACEOF
+ ! cat confdefs.h >>conftest.$ac_ext
+ ! cat >>conftest.$ac_ext <<_ACEOF
+ ! /* end confdefs.h.  */
+ ! /* Define shl_load to an innocuous variant, in case <limits.h> declares shl_load.
+ !    For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+ ! #define shl_load innocuous_shl_load
+ ! 
+ ! /* System header to define __stub macros and hopefully few prototypes,
+ !     which can conflict with char shl_load (); below.
+ !     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
+ !     <limits.h> exists even on freestanding compilers.  */
+ ! 
+ ! #ifdef __STDC__
+ ! # include <limits.h>
+ ! #else
+ ! # include <assert.h>
+ ! #endif
+ ! 
+ ! #undef shl_load
+ ! 
+ ! /* Override any gcc2 internal prototype to avoid an error.  */
+ ! #ifdef __cplusplus
+ ! extern "C"
+ ! {
+ ! #endif
+ ! /* We use char because int might match the return type of a gcc2
+ !    builtin and then its argument prototype would still apply.  */
+ ! char shl_load ();
+ ! /* The GNU C library defines this for functions which it implements
+ !     to always fail with ENOSYS.  Some functions are actually named
+ !     something starting with __ and the normal name is an alias.  */
+ ! #if defined (__stub_shl_load) || defined (__stub___shl_load)
+ ! choke me
+ ! #else
+ ! char (*f) () = shl_load;
+ ! #endif
+ ! #ifdef __cplusplus
+ ! }
+ ! #endif
+ ! 
+ ! int
+ ! main ()
+ ! {
+ ! return f != shl_load;
+ !   ;
+ !   return 0;
+ ! }
+ ! _ACEOF
+ ! rm -f conftest.$ac_objext conftest$ac_exeext
+ ! if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+ !   (eval $ac_link) 2>conftest.er1
+ !   ac_status=$?
+ !   grep -v '^ *+' conftest.er1 >conftest.err
+ !   rm -f conftest.er1
+ !   cat conftest.err >&5
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); } &&
+ ! 	 { ac_try='test -z "$ac_c_werror_flag"
+ ! 			 || test ! -s conftest.err'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; } &&
+ ! 	 { ac_try='test -s conftest$ac_exeext'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; }; then
+ !   ac_cv_func_shl_load=yes
+ ! else
+ !   echo "$as_me: failed program was:" >&5
+ ! sed 's/^/| /' conftest.$ac_ext >&5
+ ! 
+ ! ac_cv_func_shl_load=no
+ ! fi
+ ! rm -f conftest.err conftest.$ac_objext \
+ !       conftest$ac_exeext conftest.$ac_ext
+ ! fi
+ ! echo "$as_me:$LINENO: result: $ac_cv_func_shl_load" >&5
+ ! echo "${ECHO_T}$ac_cv_func_shl_load" >&6
+ ! if test $ac_cv_func_shl_load = yes; then
+ !   lt_cv_dlopen="shl_load"
+ ! else
+ !   echo "$as_me:$LINENO: checking for shl_load in -ldld" >&5
+ ! echo $ECHO_N "checking for shl_load in -ldld... $ECHO_C" >&6
+ ! if test "${ac_cv_lib_dld_shl_load+set}" = set; then
+ !   echo $ECHO_N "(cached) $ECHO_C" >&6
+ ! else
+ !   ac_check_lib_save_LIBS=$LIBS
+ ! LIBS="-ldld  $LIBS"
+ ! cat >conftest.$ac_ext <<_ACEOF
+ ! /* confdefs.h.  */
+ ! _ACEOF
+ ! cat confdefs.h >>conftest.$ac_ext
+ ! cat >>conftest.$ac_ext <<_ACEOF
+ ! /* end confdefs.h.  */
+ ! 
+ ! /* Override any gcc2 internal prototype to avoid an error.  */
+ ! #ifdef __cplusplus
+ ! extern "C"
+ ! #endif
+ ! /* We use char because int might match the return type of a gcc2
+ !    builtin and then its argument prototype would still apply.  */
+ ! char shl_load ();
+ ! int
+ ! main ()
+ ! {
+ ! shl_load ();
+ !   ;
+ !   return 0;
+ ! }
+ ! _ACEOF
+ ! rm -f conftest.$ac_objext conftest$ac_exeext
+ ! if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+ !   (eval $ac_link) 2>conftest.er1
+ !   ac_status=$?
+ !   grep -v '^ *+' conftest.er1 >conftest.err
+ !   rm -f conftest.er1
+ !   cat conftest.err >&5
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); } &&
+ ! 	 { ac_try='test -z "$ac_c_werror_flag"
+ ! 			 || test ! -s conftest.err'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; } &&
+ ! 	 { ac_try='test -s conftest$ac_exeext'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; }; then
+ !   ac_cv_lib_dld_shl_load=yes
+ ! else
+ !   echo "$as_me: failed program was:" >&5
+ ! sed 's/^/| /' conftest.$ac_ext >&5
+ ! 
+ ! ac_cv_lib_dld_shl_load=no
+ ! fi
+ ! rm -f conftest.err conftest.$ac_objext \
+ !       conftest$ac_exeext conftest.$ac_ext
+ ! LIBS=$ac_check_lib_save_LIBS
+ ! fi
+ ! echo "$as_me:$LINENO: result: $ac_cv_lib_dld_shl_load" >&5
+ ! echo "${ECHO_T}$ac_cv_lib_dld_shl_load" >&6
+ ! if test $ac_cv_lib_dld_shl_load = yes; then
+ !   lt_cv_dlopen="shl_load" lt_cv_dlopen_libs="-dld"
+ ! else
+ !   echo "$as_me:$LINENO: checking for dlopen" >&5
+ ! echo $ECHO_N "checking for dlopen... $ECHO_C" >&6
+ ! if test "${ac_cv_func_dlopen+set}" = set; then
+ !   echo $ECHO_N "(cached) $ECHO_C" >&6
+ ! else
+ !   cat >conftest.$ac_ext <<_ACEOF
+ ! /* confdefs.h.  */
+ ! _ACEOF
+ ! cat confdefs.h >>conftest.$ac_ext
+ ! cat >>conftest.$ac_ext <<_ACEOF
+ ! /* end confdefs.h.  */
+ ! /* Define dlopen to an innocuous variant, in case <limits.h> declares dlopen.
+ !    For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+ ! #define dlopen innocuous_dlopen
+ ! 
+ ! /* System header to define __stub macros and hopefully few prototypes,
+ !     which can conflict with char dlopen (); below.
+ !     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
+ !     <limits.h> exists even on freestanding compilers.  */
+ ! 
+ ! #ifdef __STDC__
+ ! # include <limits.h>
+ ! #else
+ ! # include <assert.h>
+ ! #endif
+ ! 
+ ! #undef dlopen
+ ! 
+ ! /* Override any gcc2 internal prototype to avoid an error.  */
+ ! #ifdef __cplusplus
+ ! extern "C"
+ ! {
+ ! #endif
+ ! /* We use char because int might match the return type of a gcc2
+ !    builtin and then its argument prototype would still apply.  */
+ ! char dlopen ();
+ ! /* The GNU C library defines this for functions which it implements
+ !     to always fail with ENOSYS.  Some functions are actually named
+ !     something starting with __ and the normal name is an alias.  */
+ ! #if defined (__stub_dlopen) || defined (__stub___dlopen)
+ ! choke me
+ ! #else
+ ! char (*f) () = dlopen;
+ ! #endif
+ ! #ifdef __cplusplus
+ ! }
+ ! #endif
+ ! 
+ ! int
+ ! main ()
+ ! {
+ ! return f != dlopen;
+ !   ;
+ !   return 0;
+ ! }
+ ! _ACEOF
+ ! rm -f conftest.$ac_objext conftest$ac_exeext
+ ! if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+ !   (eval $ac_link) 2>conftest.er1
+ !   ac_status=$?
+ !   grep -v '^ *+' conftest.er1 >conftest.err
+ !   rm -f conftest.er1
+ !   cat conftest.err >&5
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); } &&
+ ! 	 { ac_try='test -z "$ac_c_werror_flag"
+ ! 			 || test ! -s conftest.err'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; } &&
+ ! 	 { ac_try='test -s conftest$ac_exeext'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; }; then
+ !   ac_cv_func_dlopen=yes
+ ! else
+ !   echo "$as_me: failed program was:" >&5
+ ! sed 's/^/| /' conftest.$ac_ext >&5
+ ! 
+ ! ac_cv_func_dlopen=no
+ ! fi
+ ! rm -f conftest.err conftest.$ac_objext \
+ !       conftest$ac_exeext conftest.$ac_ext
+ ! fi
+ ! echo "$as_me:$LINENO: result: $ac_cv_func_dlopen" >&5
+ ! echo "${ECHO_T}$ac_cv_func_dlopen" >&6
+ ! if test $ac_cv_func_dlopen = yes; then
+ !   lt_cv_dlopen="dlopen"
+ ! else
+ !   echo "$as_me:$LINENO: checking for dlopen in -ldl" >&5
+ ! echo $ECHO_N "checking for dlopen in -ldl... $ECHO_C" >&6
+ ! if test "${ac_cv_lib_dl_dlopen+set}" = set; then
+ !   echo $ECHO_N "(cached) $ECHO_C" >&6
+ ! else
+ !   ac_check_lib_save_LIBS=$LIBS
+ ! LIBS="-ldl  $LIBS"
+ ! cat >conftest.$ac_ext <<_ACEOF
+ ! /* confdefs.h.  */
+ ! _ACEOF
+ ! cat confdefs.h >>conftest.$ac_ext
+ ! cat >>conftest.$ac_ext <<_ACEOF
+ ! /* end confdefs.h.  */
+ ! 
+ ! /* Override any gcc2 internal prototype to avoid an error.  */
+ ! #ifdef __cplusplus
+ ! extern "C"
+ ! #endif
+ ! /* We use char because int might match the return type of a gcc2
+ !    builtin and then its argument prototype would still apply.  */
+ ! char dlopen ();
+ ! int
+ ! main ()
+ ! {
+ ! dlopen ();
+ !   ;
+ !   return 0;
+ ! }
+ ! _ACEOF
+ ! rm -f conftest.$ac_objext conftest$ac_exeext
+ ! if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+ !   (eval $ac_link) 2>conftest.er1
+ !   ac_status=$?
+ !   grep -v '^ *+' conftest.er1 >conftest.err
+ !   rm -f conftest.er1
+ !   cat conftest.err >&5
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); } &&
+ ! 	 { ac_try='test -z "$ac_c_werror_flag"
+ ! 			 || test ! -s conftest.err'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; } &&
+ ! 	 { ac_try='test -s conftest$ac_exeext'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; }; then
+ !   ac_cv_lib_dl_dlopen=yes
+ ! else
+ !   echo "$as_me: failed program was:" >&5
+ ! sed 's/^/| /' conftest.$ac_ext >&5
+ ! 
+ ! ac_cv_lib_dl_dlopen=no
+ ! fi
+ ! rm -f conftest.err conftest.$ac_objext \
+ !       conftest$ac_exeext conftest.$ac_ext
+ ! LIBS=$ac_check_lib_save_LIBS
+ ! fi
+ ! echo "$as_me:$LINENO: result: $ac_cv_lib_dl_dlopen" >&5
+ ! echo "${ECHO_T}$ac_cv_lib_dl_dlopen" >&6
+ ! if test $ac_cv_lib_dl_dlopen = yes; then
+ !   lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-ldl"
+ ! else
+ !   echo "$as_me:$LINENO: checking for dlopen in -lsvld" >&5
+ ! echo $ECHO_N "checking for dlopen in -lsvld... $ECHO_C" >&6
+ ! if test "${ac_cv_lib_svld_dlopen+set}" = set; then
+ !   echo $ECHO_N "(cached) $ECHO_C" >&6
+ ! else
+ !   ac_check_lib_save_LIBS=$LIBS
+ ! LIBS="-lsvld  $LIBS"
+ ! cat >conftest.$ac_ext <<_ACEOF
+ ! /* confdefs.h.  */
+ ! _ACEOF
+ ! cat confdefs.h >>conftest.$ac_ext
+ ! cat >>conftest.$ac_ext <<_ACEOF
+ ! /* end confdefs.h.  */
+ ! 
+ ! /* Override any gcc2 internal prototype to avoid an error.  */
+ ! #ifdef __cplusplus
+ ! extern "C"
+ ! #endif
+ ! /* We use char because int might match the return type of a gcc2
+ !    builtin and then its argument prototype would still apply.  */
+ ! char dlopen ();
+ ! int
+ ! main ()
+ ! {
+ ! dlopen ();
+ !   ;
+ !   return 0;
+ ! }
+ ! _ACEOF
+ ! rm -f conftest.$ac_objext conftest$ac_exeext
+ ! if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+ !   (eval $ac_link) 2>conftest.er1
+ !   ac_status=$?
+ !   grep -v '^ *+' conftest.er1 >conftest.err
+ !   rm -f conftest.er1
+ !   cat conftest.err >&5
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); } &&
+ ! 	 { ac_try='test -z "$ac_c_werror_flag"
+ ! 			 || test ! -s conftest.err'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; } &&
+ ! 	 { ac_try='test -s conftest$ac_exeext'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; }; then
+ !   ac_cv_lib_svld_dlopen=yes
+ ! else
+ !   echo "$as_me: failed program was:" >&5
+ ! sed 's/^/| /' conftest.$ac_ext >&5
+ ! 
+ ! ac_cv_lib_svld_dlopen=no
+ ! fi
+ ! rm -f conftest.err conftest.$ac_objext \
+ !       conftest$ac_exeext conftest.$ac_ext
+ ! LIBS=$ac_check_lib_save_LIBS
+ ! fi
+ ! echo "$as_me:$LINENO: result: $ac_cv_lib_svld_dlopen" >&5
+ ! echo "${ECHO_T}$ac_cv_lib_svld_dlopen" >&6
+ ! if test $ac_cv_lib_svld_dlopen = yes; then
+ !   lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-lsvld"
+ ! else
+ !   echo "$as_me:$LINENO: checking for dld_link in -ldld" >&5
+ ! echo $ECHO_N "checking for dld_link in -ldld... $ECHO_C" >&6
+ ! if test "${ac_cv_lib_dld_dld_link+set}" = set; then
+ !   echo $ECHO_N "(cached) $ECHO_C" >&6
+ ! else
+ !   ac_check_lib_save_LIBS=$LIBS
+ ! LIBS="-ldld  $LIBS"
+ ! cat >conftest.$ac_ext <<_ACEOF
+ ! /* confdefs.h.  */
+ ! _ACEOF
+ ! cat confdefs.h >>conftest.$ac_ext
+ ! cat >>conftest.$ac_ext <<_ACEOF
+ ! /* end confdefs.h.  */
+ ! 
+ ! /* Override any gcc2 internal prototype to avoid an error.  */
+ ! #ifdef __cplusplus
+ ! extern "C"
+ ! #endif
+ ! /* We use char because int might match the return type of a gcc2
+ !    builtin and then its argument prototype would still apply.  */
+ ! char dld_link ();
+ ! int
+ ! main ()
+ ! {
+ ! dld_link ();
+ !   ;
+ !   return 0;
+ ! }
+ ! _ACEOF
+ ! rm -f conftest.$ac_objext conftest$ac_exeext
+ ! if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+ !   (eval $ac_link) 2>conftest.er1
+ !   ac_status=$?
+ !   grep -v '^ *+' conftest.er1 >conftest.err
+ !   rm -f conftest.er1
+ !   cat conftest.err >&5
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); } &&
+ ! 	 { ac_try='test -z "$ac_c_werror_flag"
+ ! 			 || test ! -s conftest.err'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; } &&
+ ! 	 { ac_try='test -s conftest$ac_exeext'
+ !   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+ !   (eval $ac_try) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); }; }; then
+ !   ac_cv_lib_dld_dld_link=yes
+ ! else
+ !   echo "$as_me: failed program was:" >&5
+ ! sed 's/^/| /' conftest.$ac_ext >&5
+ ! 
+ ! ac_cv_lib_dld_dld_link=no
+ ! fi
+ ! rm -f conftest.err conftest.$ac_objext \
+ !       conftest$ac_exeext conftest.$ac_ext
+ ! LIBS=$ac_check_lib_save_LIBS
+ ! fi
+ ! echo "$as_me:$LINENO: result: $ac_cv_lib_dld_dld_link" >&5
+ ! echo "${ECHO_T}$ac_cv_lib_dld_dld_link" >&6
+ ! if test $ac_cv_lib_dld_dld_link = yes; then
+ !   lt_cv_dlopen="dld_link" lt_cv_dlopen_libs="-dld"
+ ! fi
+ ! 
+ ! 
+ ! fi
+ ! 
+ ! 
+ ! fi
+ ! 
+ ! 
+ ! fi
+   
+   
+ ! fi
+   
+   
+ ! fi
+   
+       ;;
+     esac
+   
+ !   if test "x$lt_cv_dlopen" != xno; then
+ !     enable_dlopen=yes
+ !   else
+ !     enable_dlopen=no
+     fi
+   
+ !   case $lt_cv_dlopen in
+ !   dlopen)
+ !     save_CPPFLAGS="$CPPFLAGS"
+ !     test "x$ac_cv_header_dlfcn_h" = xyes && CPPFLAGS="$CPPFLAGS -DHAVE_DLFCN_H"
+ ! 
+ !     save_LDFLAGS="$LDFLAGS"
+ !     eval LDFLAGS=\"\$LDFLAGS $export_dynamic_flag_spec\"
+ ! 
+ !     save_LIBS="$LIBS"
+ !     LIBS="$lt_cv_dlopen_libs $LIBS"
+ ! 
+ !     echo "$as_me:$LINENO: checking whether a program can dlopen itself" >&5
+ ! echo $ECHO_N "checking whether a program can dlopen itself... $ECHO_C" >&6
+ ! if test "${lt_cv_dlopen_self+set}" = set; then
+ !   echo $ECHO_N "(cached) $ECHO_C" >&6
+ ! else
+ !   	  if test "$cross_compiling" = yes; then :
+ !   lt_cv_dlopen_self=cross
+ ! else
+ !   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
+ !   lt_status=$lt_dlunknown
+ !   cat > conftest.$ac_ext <<EOF
+ ! #line 20595 "configure"
+ ! #include "confdefs.h"
+ ! 
+ ! #if HAVE_DLFCN_H
+ ! #include <dlfcn.h>
+ ! #endif
+ ! 
+ ! #include <stdio.h>
+ ! 
+ ! #ifdef RTLD_GLOBAL
+ ! #  define LT_DLGLOBAL		RTLD_GLOBAL
+ ! #else
+ ! #  ifdef DL_GLOBAL
+ ! #    define LT_DLGLOBAL		DL_GLOBAL
+ ! #  else
+ ! #    define LT_DLGLOBAL		0
+ ! #  endif
+ ! #endif
+ ! 
+ ! /* We may have to define LT_DLLAZY_OR_NOW in the command line if we
+ !    find out it does not work in some platform. */
+ ! #ifndef LT_DLLAZY_OR_NOW
+ ! #  ifdef RTLD_LAZY
+ ! #    define LT_DLLAZY_OR_NOW		RTLD_LAZY
+ ! #  else
+ ! #    ifdef DL_LAZY
+ ! #      define LT_DLLAZY_OR_NOW		DL_LAZY
+ ! #    else
+ ! #      ifdef RTLD_NOW
+ ! #        define LT_DLLAZY_OR_NOW	RTLD_NOW
+ ! #      else
+ ! #        ifdef DL_NOW
+ ! #          define LT_DLLAZY_OR_NOW	DL_NOW
+ ! #        else
+ ! #          define LT_DLLAZY_OR_NOW	0
+ ! #        endif
+ ! #      endif
+ ! #    endif
+ ! #  endif
+ ! #endif
+ ! 
+ ! #ifdef __cplusplus
+ ! extern "C" void exit (int);
+ ! #endif
+ ! 
+ ! void fnord() { int i=42;}
+ ! int main ()
+ ! {
+ !   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
+ !   int status = $lt_dlunknown;
+   
+ !   if (self)
+ !     {
+ !       if (dlsym (self,"fnord"))       status = $lt_dlno_uscore;
+ !       else if (dlsym( self,"_fnord")) status = $lt_dlneed_uscore;
+ !       /* dlclose (self); */
+ !     }
+   
+ !     exit (status);
+ ! }
+ ! EOF
+ !   if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+ !   (eval $ac_link) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); } && test -s conftest${ac_exeext} 2>/dev/null; then
+ !     (./conftest; exit; ) 2>/dev/null
+ !     lt_status=$?
+ !     case x$lt_status in
+ !       x$lt_dlno_uscore) lt_cv_dlopen_self=yes ;;
+ !       x$lt_dlneed_uscore) lt_cv_dlopen_self=yes ;;
+ !       x$lt_unknown|x*) lt_cv_dlopen_self=no ;;
+ !     esac
+ !   else :
+ !     # compilation failed
+ !     lt_cv_dlopen_self=no
+     fi
+ ! fi
+ ! rm -fr conftest*
+ ! 
+   
+ ! fi
+ ! echo "$as_me:$LINENO: result: $lt_cv_dlopen_self" >&5
+ ! echo "${ECHO_T}$lt_cv_dlopen_self" >&6
+   
+ !     if test "x$lt_cv_dlopen_self" = xyes; then
+ !       LDFLAGS="$LDFLAGS $link_static_flag"
+ !       echo "$as_me:$LINENO: checking whether a statically linked program can dlopen itself" >&5
+ ! echo $ECHO_N "checking whether a statically linked program can dlopen itself... $ECHO_C" >&6
+ ! if test "${lt_cv_dlopen_self_static+set}" = set; then
+ !   echo $ECHO_N "(cached) $ECHO_C" >&6
+ ! else
+ !   	  if test "$cross_compiling" = yes; then :
+ !   lt_cv_dlopen_self_static=cross
+ ! else
+ !   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
+ !   lt_status=$lt_dlunknown
+ !   cat > conftest.$ac_ext <<EOF
+ ! #line 20693 "configure"
+ ! #include "confdefs.h"
+   
+ ! #if HAVE_DLFCN_H
+ ! #include <dlfcn.h>
+ ! #endif
+   
+ ! #include <stdio.h>
+   
+ ! #ifdef RTLD_GLOBAL
+ ! #  define LT_DLGLOBAL		RTLD_GLOBAL
+ ! #else
+ ! #  ifdef DL_GLOBAL
+ ! #    define LT_DLGLOBAL		DL_GLOBAL
+ ! #  else
+ ! #    define LT_DLGLOBAL		0
+ ! #  endif
+ ! #endif
+   
+ ! /* We may have to define LT_DLLAZY_OR_NOW in the command line if we
+ !    find out it does not work in some platform. */
+ ! #ifndef LT_DLLAZY_OR_NOW
+ ! #  ifdef RTLD_LAZY
+ ! #    define LT_DLLAZY_OR_NOW		RTLD_LAZY
+ ! #  else
+ ! #    ifdef DL_LAZY
+ ! #      define LT_DLLAZY_OR_NOW		DL_LAZY
+ ! #    else
+ ! #      ifdef RTLD_NOW
+ ! #        define LT_DLLAZY_OR_NOW	RTLD_NOW
+ ! #      else
+ ! #        ifdef DL_NOW
+ ! #          define LT_DLLAZY_OR_NOW	DL_NOW
+ ! #        else
+ ! #          define LT_DLLAZY_OR_NOW	0
+ ! #        endif
+ ! #      endif
+ ! #    endif
+ ! #  endif
+ ! #endif
+   
+ ! #ifdef __cplusplus
+ ! extern "C" void exit (int);
+ ! #endif
+   
+ ! void fnord() { int i=42;}
+ ! int main ()
+ ! {
+ !   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
+ !   int status = $lt_dlunknown;
+   
+ !   if (self)
+ !     {
+ !       if (dlsym (self,"fnord"))       status = $lt_dlno_uscore;
+ !       else if (dlsym( self,"_fnord")) status = $lt_dlneed_uscore;
+ !       /* dlclose (self); */
+ !     }
+   
+ !     exit (status);
+ ! }
+ ! EOF
+ !   if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
+ !   (eval $ac_link) 2>&5
+ !   ac_status=$?
+ !   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ !   (exit $ac_status); } && test -s conftest${ac_exeext} 2>/dev/null; then
+ !     (./conftest; exit; ) 2>/dev/null
+ !     lt_status=$?
+ !     case x$lt_status in
+ !       x$lt_dlno_uscore) lt_cv_dlopen_self_static=yes ;;
+ !       x$lt_dlneed_uscore) lt_cv_dlopen_self_static=yes ;;
+ !       x$lt_unknown|x*) lt_cv_dlopen_self_static=no ;;
+       esac
+ -   else :
+ -     # compilation failed
+ -     lt_cv_dlopen_self_static=no
+     fi
+ ! fi
+ ! rm -fr conftest*
+   
+   
+   fi
+ - echo "$as_me:$LINENO: result: $lt_cv_dlopen_self_static" >&5
+ - echo "${ECHO_T}$lt_cv_dlopen_self_static" >&6
+ -     fi
+   
+ !     CPPFLAGS="$save_CPPFLAGS"
+ !     LDFLAGS="$save_LDFLAGS"
+ !     LIBS="$save_LIBS"
+ !     ;;
+ !   esac
+   
+ !   case $lt_cv_dlopen_self in
+ !   yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;
+ !   *) enable_dlopen_self=unknown ;;
+ !   esac
+   
+ !   case $lt_cv_dlopen_self_static in
+ !   yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;
+ !   *) enable_dlopen_self_static=unknown ;;
+ !   esac
+   fi
+   
+   
+ --- 19432,19784 ----
+        sys_lib_search_path_spec="/usr/lib/pa20_64 /usr/ccs/lib/pa20_64"
+        sys_lib_dlsearch_path_spec=$sys_lib_search_path_spec
+        ;;
+ !    *)
+ !     shrext_cmds='.sl'
+ !     dynamic_linker="$host_os dld.sl"
+ !     shlibpath_var=SHLIB_PATH
+ !     shlibpath_overrides_runpath=no # +s is required to enable SHLIB_PATH
+ !     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+ !     soname_spec='${libname}${release}${shared_ext}$major'
+ !     ;;
+ !   esac
+ !   # HP-UX runs *really* slowly unless shared libraries are mode 555.
+ !   postinstall_cmds='chmod 555 $lib'
+ !   ;;
+   
+ + interix3*)
+ +   version_type=linux
+ +   need_lib_prefix=no
+ +   need_version=no
+ +   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major ${libname}${shared_ext}'
+ +   soname_spec='${libname}${release}${shared_ext}$major'
+ +   dynamic_linker='Interix 3.x ld.so.1 (PE, like ELF)'
+ +   shlibpath_var=LD_LIBRARY_PATH
+ +   shlibpath_overrides_runpath=no
+ +   hardcode_into_libs=yes
+ +   ;;
+   
+ ! irix5* | irix6* | nonstopux*)
+ !   case $host_os in
+ !     nonstopux*) version_type=nonstopux ;;
+ !     *)
+ ! 	if test "$lt_cv_prog_gnu_ld" = yes; then
+ ! 		version_type=linux
+ ! 	else
+ ! 		version_type=irix
+ ! 	fi ;;
+ !   esac
+ !   need_lib_prefix=no
+ !   need_version=no
+ !   soname_spec='${libname}${release}${shared_ext}$major'
+ !   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major ${libname}${release}${shared_ext} $libname${shared_ext}'
+ !   case $host_os in
+ !   irix5* | nonstopux*)
+ !     libsuff= shlibsuff=
+ !     ;;
+ !   *)
+ !     case $LD in # libtool.m4 will add one of these switches to LD
+ !     *-32|*"-32 "|*-melf32bsmip|*"-melf32bsmip ")
+ !       libsuff= shlibsuff= libmagic=32-bit;;
+ !     *-n32|*"-n32 "|*-melf32bmipn32|*"-melf32bmipn32 ")
+ !       libsuff=32 shlibsuff=N32 libmagic=N32;;
+ !     *-64|*"-64 "|*-melf64bmip|*"-melf64bmip ")
+ !       libsuff=64 shlibsuff=64 libmagic=64-bit;;
+ !     *) libsuff= shlibsuff= libmagic=never-match;;
+ !     esac
+ !     ;;
+ !   esac
+ !   shlibpath_var=LD_LIBRARY${shlibsuff}_PATH
+ !   shlibpath_overrides_runpath=no
+ !   sys_lib_search_path_spec="/usr/lib${libsuff} /lib${libsuff} /usr/local/lib${libsuff}"
+ !   sys_lib_dlsearch_path_spec="/usr/lib${libsuff} /lib${libsuff}"
+ !   hardcode_into_libs=yes
+ !   ;;
+   
+ + # No shared lib support for Linux oldld, aout, or coff.
+ + linux*oldld* | linux*aout* | linux*coff*)
+ +   dynamic_linker=no
+ +   ;;
+   
+ ! # This must be Linux ELF.
+ ! linux*)
+ !   version_type=linux
+ !   need_lib_prefix=no
+ !   need_version=no
+ !   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+ !   soname_spec='${libname}${release}${shared_ext}$major'
+ !   finish_cmds='PATH="\$PATH:/sbin" ldconfig -n $libdir'
+ !   shlibpath_var=LD_LIBRARY_PATH
+ !   shlibpath_overrides_runpath=no
+ !   # This implies no fast_install, which is unacceptable.
+ !   # Some rework will be needed to allow for fast_install
+ !   # before this can be enabled.
+ !   hardcode_into_libs=yes
+   
+ +   # find out which ABI we are using
+ +   libsuff=
+ +   case "$host_cpu" in
+ +   x86_64*|s390x*|powerpc64*)
+ +     echo '#line 19521 "configure"' > conftest.$ac_ext
+ +     if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
+ +   (eval $ac_compile) 2>&5
+ +   ac_status=$?
+ +   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+ +   (exit $ac_status); }; then
+ +       case `/usr/bin/file conftest.$ac_objext` in
+ +       *64-bit*)
+ +         libsuff=64
+ +         sys_lib_search_path_spec="/lib${libsuff} /usr/lib${libsuff} /usr/local/lib${libsuff}"
+ +         ;;
+ +       esac
+ +     fi
+ +     rm -rf conftest*
+       ;;
+     esac
+   
+ !   # Append ld.so.conf contents to the search path
+ !   if test -f /etc/ld.so.conf; then
+ !     lt_ld_extra=`awk '/^include / { system(sprintf("cd /etc; cat %s 2>/dev/null", \$2)); skip = 1; } { if (!skip) print \$0; skip = 0; }' < /etc/ld.so.conf | $SED -e 's/#.*//;s/[:,	]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;/^$/d' | tr '\n' ' '`
+ !     sys_lib_dlsearch_path_spec="/lib${libsuff} /usr/lib${libsuff} $lt_ld_extra"
+     fi
+   
+ !   # We used to test for /lib/ld.so.1 and disable shared libraries on
+ !   # powerpc, because MkLinux only supported shared libraries with the
+ !   # GNU dynamic linker.  Since this was broken with cross compilers,
+ !   # most powerpc-linux boxes support dynamic linking these days and
+ !   # people can always --disable-shared, the test was removed, and we
+ !   # assume the GNU/Linux dynamic linker is in use.
+ !   dynamic_linker='GNU/Linux ld.so'
+ !   ;;
+   
+ ! knetbsd*-gnu)
+ !   version_type=linux
+ !   need_lib_prefix=no
+ !   need_version=no
+ !   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major ${libname}${shared_ext}'
+ !   soname_spec='${libname}${release}${shared_ext}$major'
+ !   shlibpath_var=LD_LIBRARY_PATH
+ !   shlibpath_overrides_runpath=no
+ !   hardcode_into_libs=yes
+ !   dynamic_linker='GNU ld.so'
+ !   ;;
+   
+ ! netbsd*)
+ !   version_type=sunos
+ !   need_lib_prefix=no
+ !   need_version=no
+ !   if echo __ELF__ | $CC -E - | grep __ELF__ >/dev/null; then
+ !     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'
+ !     finish_cmds='PATH="\$PATH:/sbin" ldconfig -m $libdir'
+ !     dynamic_linker='NetBSD (a.out) ld.so'
+ !   else
+ !     library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major ${libname}${shared_ext}'
+ !     soname_spec='${libname}${release}${shared_ext}$major'
+ !     dynamic_linker='NetBSD ld.elf_so'
+     fi
+ !   shlibpath_var=LD_LIBRARY_PATH
+ !   shlibpath_overrides_runpath=yes
+ !   hardcode_into_libs=yes
+ !   ;;
+   
+ ! newsos6)
+ !   version_type=linux
+ !   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+ !   shlibpath_var=LD_LIBRARY_PATH
+ !   shlibpath_overrides_runpath=yes
+ !   ;;
+   
+ ! nto-qnx*)
+ !   version_type=linux
+ !   need_lib_prefix=no
+ !   need_version=no
+ !   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+ !   soname_spec='${libname}${release}${shared_ext}$major'
+ !   shlibpath_var=LD_LIBRARY_PATH
+ !   shlibpath_overrides_runpath=yes
+ !   ;;
+   
+ ! openbsd*)
+ !   version_type=sunos
+ !   sys_lib_dlsearch_path_spec="/usr/lib"
+ !   need_lib_prefix=no
+ !   # Some older versions of OpenBSD (3.3 at least) *do* need versioned libs.
+ !   case $host_os in
+ !     openbsd3.3 | openbsd3.3.*) need_version=yes ;;
+ !     *)                         need_version=no  ;;
+ !   esac
+ !   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'
+ !   finish_cmds='PATH="\$PATH:/sbin" ldconfig -m $libdir'
+ !   shlibpath_var=LD_LIBRARY_PATH
+ !   if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
+ !     case $host_os in
+ !       openbsd2.[89] | openbsd2.[89].*)
+ ! 	shlibpath_overrides_runpath=no
+ ! 	;;
+ !       *)
+ ! 	shlibpath_overrides_runpath=yes
+ ! 	;;
+ !       esac
+ !   else
+ !     shlibpath_overrides_runpath=yes
+ !   fi
+ !   ;;
+   
+ ! os2*)
+ !   libname_spec='$name'
+ !   shrext_cmds=".dll"
+ !   need_lib_prefix=no
+ !   library_names_spec='$libname${shared_ext} $libname.a'
+ !   dynamic_linker='OS/2 ld.exe'
+ !   shlibpath_var=LIBPATH
+ !   ;;
+   
+ ! osf3* | osf4* | osf5*)
+ !   version_type=osf
+ !   need_lib_prefix=no
+ !   need_version=no
+ !   soname_spec='${libname}${release}${shared_ext}$major'
+ !   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+ !   shlibpath_var=LD_LIBRARY_PATH
+ !   sys_lib_search_path_spec="/usr/shlib /usr/ccs/lib /usr/lib/cmplrs/cc /usr/lib /usr/local/lib /var/shlib"
+ !   sys_lib_dlsearch_path_spec="$sys_lib_search_path_spec"
+ !   ;;
+   
+ ! solaris*)
+ !   version_type=linux
+ !   need_lib_prefix=no
+ !   need_version=no
+ !   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+ !   soname_spec='${libname}${release}${shared_ext}$major'
+ !   shlibpath_var=LD_LIBRARY_PATH
+ !   shlibpath_overrides_runpath=yes
+ !   hardcode_into_libs=yes
+ !   # ldd complains unless libraries are executable
+ !   postinstall_cmds='chmod +x $lib'
+ !   ;;
+   
+ ! sunos4*)
+ !   version_type=sunos
+ !   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'
+ !   finish_cmds='PATH="\$PATH:/usr/etc" ldconfig $libdir'
+ !   shlibpath_var=LD_LIBRARY_PATH
+ !   shlibpath_overrides_runpath=yes
+ !   if test "$with_gnu_ld" = yes; then
+ !     need_lib_prefix=no
+ !   fi
+ !   need_version=yes
+ !   ;;
+   
+ ! sysv4 | sysv4.3*)
+ !   version_type=linux
+ !   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+ !   soname_spec='${libname}${release}${shared_ext}$major'
+ !   shlibpath_var=LD_LIBRARY_PATH
+ !   case $host_vendor in
+ !     sni)
+ !       shlibpath_overrides_runpath=no
+ !       need_lib_prefix=no
+ !       export_dynamic_flag_spec='${wl}-Blargedynsym'
+ !       runpath_var=LD_RUN_PATH
+ !       ;;
+ !     siemens)
+ !       need_lib_prefix=no
+ !       ;;
+ !     motorola)
+ !       need_lib_prefix=no
+ !       need_version=no
+ !       shlibpath_overrides_runpath=no
+ !       sys_lib_search_path_spec='/lib /usr/lib /usr/ccs/lib'
+ !       ;;
+ !   esac
+ !   ;;
+   
+ ! sysv4*MP*)
+ !   if test -d /usr/nec ;then
+ !     version_type=linux
+ !     library_names_spec='$libname${shared_ext}.$versuffix $libname${shared_ext}.$major $libname${shared_ext}'
+ !     soname_spec='$libname${shared_ext}.$major'
+ !     shlibpath_var=LD_LIBRARY_PATH
+ !   fi
+ !   ;;
+   
+ ! sysv5* | sco3.2v5* | sco5v6* | unixware* | OpenUNIX* | sysv4*uw2*)
+ !   version_type=freebsd-elf
+ !   need_lib_prefix=no
+ !   need_version=no
+ !   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext} $libname${shared_ext}'
+ !   soname_spec='${libname}${release}${shared_ext}$major'
+ !   shlibpath_var=LD_LIBRARY_PATH
+ !   hardcode_into_libs=yes
+ !   if test "$with_gnu_ld" = yes; then
+ !     sys_lib_search_path_spec='/usr/local/lib /usr/gnu/lib /usr/ccs/lib /usr/lib /lib'
+ !     shlibpath_overrides_runpath=no
+ !   else
+ !     sys_lib_search_path_spec='/usr/ccs/lib /usr/lib'
+ !     shlibpath_overrides_runpath=yes
+ !     case $host_os in
+ !       sco3.2v5*)
+ !         sys_lib_search_path_spec="$sys_lib_search_path_spec /lib"
+ ! 	;;
+       esac
+     fi
+ !   sys_lib_dlsearch_path_spec='/usr/lib'
+ !   ;;
+ ! 
+ ! uts4*)
+ !   version_type=linux
+ !   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
+ !   soname_spec='${libname}${release}${shared_ext}$major'
+ !   shlibpath_var=LD_LIBRARY_PATH
+ !   ;;
+   
+ + *)
+ +   dynamic_linker=no
+ +   ;;
+ + esac
+ + echo "$as_me:$LINENO: result: $dynamic_linker" >&5
+ + echo "${ECHO_T}$dynamic_linker" >&6
+ + test "$dynamic_linker" = no && can_build_shared=no
+   
+ + variables_saved_for_relink="PATH $shlibpath_var $runpath_var"
+ + if test "$GCC" = yes; then
+ +   variables_saved_for_relink="$variables_saved_for_relink GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH"
+   fi
+   
+ ! echo "$as_me:$LINENO: checking how to hardcode library paths into programs" >&5
+ ! echo $ECHO_N "checking how to hardcode library paths into programs... $ECHO_C" >&6
+ ! hardcode_action_GCJ=
+ ! if test -n "$hardcode_libdir_flag_spec_GCJ" || \
+ !    test -n "$runpath_var_GCJ" || \
+ !    test "X$hardcode_automatic_GCJ" = "Xyes" ; then
+   
+ !   # We can hardcode non-existant directories.
+ !   if test "$hardcode_direct_GCJ" != no &&
+ !      # If the only mechanism to avoid hardcoding is shlibpath_var, we
+ !      # have to relink, otherwise we might link with an installed library
+ !      # when we should be linking with a yet-to-be-installed one
+ !      ## test "$_LT_AC_TAGVAR(hardcode_shlibpath_var, GCJ)" != no &&
+ !      test "$hardcode_minus_L_GCJ" != no; then
+ !     # Linking always hardcodes the temporary library directory.
+ !     hardcode_action_GCJ=relink
+ !   else
+ !     # We can link without hardcoding, and we can hardcode nonexisting dirs.
+ !     hardcode_action_GCJ=immediate
+ !   fi
+ ! else
+ !   # We cannot hardcode anything, or else we can only hardcode existing
+ !   # directories.
+ !   hardcode_action_GCJ=unsupported
+ ! fi
+ ! echo "$as_me:$LINENO: result: $hardcode_action_GCJ" >&5
+ ! echo "${ECHO_T}$hardcode_action_GCJ" >&6
+   
+ ! if test "$hardcode_action_GCJ" = relink; then
+ !   # Fast installation is not supported
+ !   enable_fast_install=no
+ ! elif test "$shlibpath_overrides_runpath" = yes ||
+ !      test "$enable_shared" = no; then
+ !   # Fast installation is not necessary
+ !   enable_fast_install=needless
+   fi
+   
+   
+ ***************
+ *** 20807,20813 ****
+     # Now quote all the things that may contain metacharacters while being
+     # careful not to overquote the AC_SUBSTed values.  We take copies of the
+     # variables and quote the copies for generation of the libtool script.
+ !   for var in echo old_CC old_CFLAGS AR AR_FLAGS EGREP RANLIB LN_S LTCC NM \
+       SED SHELL STRIP \
+       libname_spec library_names_spec soname_spec extract_expsyms_cmds \
+       old_striplib striplib file_magic_cmd finish_cmds finish_eval \
+ --- 19795,19801 ----
+     # Now quote all the things that may contain metacharacters while being
+     # careful not to overquote the AC_SUBSTed values.  We take copies of the
+     # variables and quote the copies for generation of the libtool script.
+ !   for var in echo old_CC old_CFLAGS AR AR_FLAGS EGREP RANLIB LN_S LTCC LTCFLAGS NM \
+       SED SHELL STRIP \
+       libname_spec library_names_spec soname_spec extract_expsyms_cmds \
+       old_striplib striplib file_magic_cmd finish_cmds finish_eval \
+ ***************
+ *** 20925,20936 ****
+ --- 19913,19930 ----
+   # A C compiler.
+   LTCC=$lt_LTCC
+   
+ + # LTCC compiler flags.
+ + LTCFLAGS=$lt_LTCFLAGS
+ + 
+   # A language-specific compiler.
+   CC=$lt_compiler_GCJ
+   
+   # Is the compiler the GNU C compiler?
+   with_gcc=$GCC_GCJ
+   
+ + gcc_dir=\`gcc -print-file-name=. | $SED 's,/\.$,,'\`
+ + gcc_ver=\`gcc -dumpversion\`
+ + 
+   # An ERE matcher.
+   EGREP=$lt_EGREP
+   
+ ***************
+ *** 21064,21074 ****
+   
+   # Dependencies to place before the objects being linked to create a
+   # shared library.
+ ! predep_objects=$lt_predep_objects_GCJ
+   
+   # Dependencies to place after the objects being linked to create a
+   # shared library.
+ ! postdep_objects=$lt_postdep_objects_GCJ
+   
+   # Dependencies to place before the objects being linked to create a
+   # shared library.
+ --- 20058,20068 ----
+   
+   # Dependencies to place before the objects being linked to create a
+   # shared library.
+ ! predep_objects=\`echo $lt_predep_objects_GCJ | \$SED -e "s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g"\`
+   
+   # Dependencies to place after the objects being linked to create a
+   # shared library.
+ ! postdep_objects=\`echo $lt_postdep_objects_GCJ | \$SED -e "s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g"\`
+   
+   # Dependencies to place before the objects being linked to create a
+   # shared library.
+ ***************
+ *** 21080,21086 ****
+   
+   # The library search path used internally by the compiler when linking
+   # a shared library.
+ ! compiler_lib_search_path=$lt_compiler_lib_search_path_GCJ
+   
+   # Method to check whether dependent libraries are shared objects.
+   deplibs_check_method=$lt_deplibs_check_method
+ --- 20074,20080 ----
+   
+   # The library search path used internally by the compiler when linking
+   # a shared library.
+ ! compiler_lib_search_path=\`echo $lt_compiler_lib_search_path_GCJ | \$SED -e "s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g"\`
+   
+   # Method to check whether dependent libraries are shared objects.
+   deplibs_check_method=$lt_deplibs_check_method
+ ***************
+ *** 21160,21166 ****
+   link_all_deplibs=$link_all_deplibs_GCJ
+   
+   # Compile-time system search path for libraries
+ ! sys_lib_search_path_spec=$lt_sys_lib_search_path_spec
+   
+   # Run-time system search path for libraries
+   sys_lib_dlsearch_path_spec=$lt_sys_lib_dlsearch_path_spec
+ --- 20154,20160 ----
+   link_all_deplibs=$link_all_deplibs_GCJ
+   
+   # Compile-time system search path for libraries
+ ! sys_lib_search_path_spec=\`echo $lt_sys_lib_search_path_spec | \$SED -e "s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g"\`
+   
+   # Run-time system search path for libraries
+   sys_lib_dlsearch_path_spec=$lt_sys_lib_dlsearch_path_spec
+ ***************
+ *** 21234,21239 ****
+ --- 20228,20236 ----
+   # If no C compiler was specified, use CC.
+   LTCC=${LTCC-"$CC"}
+   
+ + # If no C compiler flags were specified, use CFLAGS.
+ + LTCFLAGS=${LTCFLAGS-"$CFLAGS"}
+ + 
+   # Allow CC to be a program name with arguments.
+   compiler=$CC
+   
+ ***************
+ *** 21241,21253 ****
+   # save warnings/boilerplate of simple test code
+   ac_outfile=conftest.$ac_objext
+   printf "$lt_simple_compile_test_code" >conftest.$ac_ext
+ ! eval "$ac_compile" 2>&1 >/dev/null | $SED '/^$/d' >conftest.err
+   _lt_compiler_boilerplate=`cat conftest.err`
+   $rm conftest*
+   
+   ac_outfile=conftest.$ac_objext
+   printf "$lt_simple_link_test_code" >conftest.$ac_ext
+ ! eval "$ac_link" 2>&1 >/dev/null | $SED '/^$/d' >conftest.err
+   _lt_linker_boilerplate=`cat conftest.err`
+   $rm conftest*
+   
+ --- 20238,20250 ----
+   # save warnings/boilerplate of simple test code
+   ac_outfile=conftest.$ac_objext
+   printf "$lt_simple_compile_test_code" >conftest.$ac_ext
+ ! eval "$ac_compile" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err
+   _lt_compiler_boilerplate=`cat conftest.err`
+   $rm conftest*
+   
+   ac_outfile=conftest.$ac_objext
+   printf "$lt_simple_link_test_code" >conftest.$ac_ext
+ ! eval "$ac_link" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err
+   _lt_linker_boilerplate=`cat conftest.err`
+   $rm conftest*
+   
+ ***************
+ *** 21282,21288 ****
+     # Now quote all the things that may contain metacharacters while being
+     # careful not to overquote the AC_SUBSTed values.  We take copies of the
+     # variables and quote the copies for generation of the libtool script.
+ !   for var in echo old_CC old_CFLAGS AR AR_FLAGS EGREP RANLIB LN_S LTCC NM \
+       SED SHELL STRIP \
+       libname_spec library_names_spec soname_spec extract_expsyms_cmds \
+       old_striplib striplib file_magic_cmd finish_cmds finish_eval \
+ --- 20279,20285 ----
+     # Now quote all the things that may contain metacharacters while being
+     # careful not to overquote the AC_SUBSTed values.  We take copies of the
+     # variables and quote the copies for generation of the libtool script.
+ !   for var in echo old_CC old_CFLAGS AR AR_FLAGS EGREP RANLIB LN_S LTCC LTCFLAGS NM \
+       SED SHELL STRIP \
+       libname_spec library_names_spec soname_spec extract_expsyms_cmds \
+       old_striplib striplib file_magic_cmd finish_cmds finish_eval \
+ ***************
+ *** 21400,21411 ****
+ --- 20397,20414 ----
+   # A C compiler.
+   LTCC=$lt_LTCC
+   
+ + # LTCC compiler flags.
+ + LTCFLAGS=$lt_LTCFLAGS
+ + 
+   # A language-specific compiler.
+   CC=$lt_compiler_RC
+   
+   # Is the compiler the GNU C compiler?
+   with_gcc=$GCC_RC
+   
+ + gcc_dir=\`gcc -print-file-name=. | $SED 's,/\.$,,'\`
+ + gcc_ver=\`gcc -dumpversion\`
+ + 
+   # An ERE matcher.
+   EGREP=$lt_EGREP
+   
+ ***************
+ *** 21539,21549 ****
+   
+   # Dependencies to place before the objects being linked to create a
+   # shared library.
+ ! predep_objects=$lt_predep_objects_RC
+   
+   # Dependencies to place after the objects being linked to create a
+   # shared library.
+ ! postdep_objects=$lt_postdep_objects_RC
+   
+   # Dependencies to place before the objects being linked to create a
+   # shared library.
+ --- 20542,20552 ----
+   
+   # Dependencies to place before the objects being linked to create a
+   # shared library.
+ ! predep_objects=\`echo $lt_predep_objects_RC | \$SED -e "s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g"\`
+   
+   # Dependencies to place after the objects being linked to create a
+   # shared library.
+ ! postdep_objects=\`echo $lt_postdep_objects_RC | \$SED -e "s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g"\`
+   
+   # Dependencies to place before the objects being linked to create a
+   # shared library.
+ ***************
+ *** 21555,21561 ****
+   
+   # The library search path used internally by the compiler when linking
+   # a shared library.
+ ! compiler_lib_search_path=$lt_compiler_lib_search_path_RC
+   
+   # Method to check whether dependent libraries are shared objects.
+   deplibs_check_method=$lt_deplibs_check_method
+ --- 20558,20564 ----
+   
+   # The library search path used internally by the compiler when linking
+   # a shared library.
+ ! compiler_lib_search_path=\`echo $lt_compiler_lib_search_path_RC | \$SED -e "s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g"\`
+   
+   # Method to check whether dependent libraries are shared objects.
+   deplibs_check_method=$lt_deplibs_check_method
+ ***************
+ *** 21635,21641 ****
+   link_all_deplibs=$link_all_deplibs_RC
+   
+   # Compile-time system search path for libraries
+ ! sys_lib_search_path_spec=$lt_sys_lib_search_path_spec
+   
+   # Run-time system search path for libraries
+   sys_lib_dlsearch_path_spec=$lt_sys_lib_dlsearch_path_spec
+ --- 20638,20644 ----
+   link_all_deplibs=$link_all_deplibs_RC
+   
+   # Compile-time system search path for libraries
+ ! sys_lib_search_path_spec=\`echo $lt_sys_lib_search_path_spec | \$SED -e "s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g"\`
+   
+   # Run-time system search path for libraries
+   sys_lib_dlsearch_path_spec=$lt_sys_lib_dlsearch_path_spec
+ ***************
+ *** 22623,22631 ****
+   echo "$as_me: WARNING: linux/ipmi.h: in the future, the compiler will take precedence" >&2;}
+       (
+         cat <<\_ASBOX
+ ! ## ------------------------------------------ ##
+ ! ## Report this to the AC_PACKAGE_NAME lists.  ##
+ ! ## ------------------------------------------ ##
+   _ASBOX
+       ) |
+         sed "s/^/$as_me: WARNING:     /" >&2
+ --- 21626,21634 ----
+   echo "$as_me: WARNING: linux/ipmi.h: in the future, the compiler will take precedence" >&2;}
+       (
+         cat <<\_ASBOX
+ ! ## ----------------------------------- ##
+ ! ## Report this to the ipmitool lists.  ##
+ ! ## ----------------------------------- ##
+   _ASBOX
+       ) |
+         sed "s/^/$as_me: WARNING:     /" >&2
+ ***************
+ *** 22767,22775 ****
+   echo "$as_me: WARNING: sys/ipmi.h: in the future, the compiler will take precedence" >&2;}
+       (
+         cat <<\_ASBOX
+ ! ## ------------------------------------------ ##
+ ! ## Report this to the AC_PACKAGE_NAME lists.  ##
+ ! ## ------------------------------------------ ##
+   _ASBOX
+       ) |
+         sed "s/^/$as_me: WARNING:     /" >&2
+ --- 21770,21778 ----
+   echo "$as_me: WARNING: sys/ipmi.h: in the future, the compiler will take precedence" >&2;}
+       (
+         cat <<\_ASBOX
+ ! ## ----------------------------------- ##
+ ! ## Report this to the ipmitool lists.  ##
+ ! ## ----------------------------------- ##
+   _ASBOX
+       ) |
+         sed "s/^/$as_me: WARNING:     /" >&2
+ ***************
+ *** 23381,23389 ****
+   echo "$as_me: WARNING: termios.h: in the future, the compiler will take precedence" >&2;}
+       (
+         cat <<\_ASBOX
+ ! ## ------------------------------------------ ##
+ ! ## Report this to the AC_PACKAGE_NAME lists.  ##
+ ! ## ------------------------------------------ ##
+   _ASBOX
+       ) |
+         sed "s/^/$as_me: WARNING:     /" >&2
+ --- 22384,22392 ----
+   echo "$as_me: WARNING: termios.h: in the future, the compiler will take precedence" >&2;}
+       (
+         cat <<\_ASBOX
+ ! ## ----------------------------------- ##
+ ! ## Report this to the ipmitool lists.  ##
+ ! ## ----------------------------------- ##
+   _ASBOX
+       ) |
+         sed "s/^/$as_me: WARNING:     /" >&2
+ ***************
+ *** 23525,23533 ****
+   echo "$as_me: WARNING: sys/termios.h: in the future, the compiler will take precedence" >&2;}
+       (
+         cat <<\_ASBOX
+ ! ## ------------------------------------------ ##
+ ! ## Report this to the AC_PACKAGE_NAME lists.  ##
+ ! ## ------------------------------------------ ##
+   _ASBOX
+       ) |
+         sed "s/^/$as_me: WARNING:     /" >&2
+ --- 22528,22536 ----
+   echo "$as_me: WARNING: sys/termios.h: in the future, the compiler will take precedence" >&2;}
+       (
+         cat <<\_ASBOX
+ ! ## ----------------------------------- ##
+ ! ## Report this to the ipmitool lists.  ##
+ ! ## ----------------------------------- ##
+   _ASBOX
+       ) |
+         sed "s/^/$as_me: WARNING:     /" >&2
+ ***************
+ *** 23816,23824 ****
+   echo "$as_me: WARNING: sys/lipmi/lipmi_intf.h: in the future, the compiler will take precedence" >&2;}
+       (
+         cat <<\_ASBOX
+ ! ## ------------------------------------------ ##
+ ! ## Report this to the AC_PACKAGE_NAME lists.  ##
+ ! ## ------------------------------------------ ##
+   _ASBOX
+       ) |
+         sed "s/^/$as_me: WARNING:     /" >&2
+ --- 22819,22827 ----
+   echo "$as_me: WARNING: sys/lipmi/lipmi_intf.h: in the future, the compiler will take precedence" >&2;}
+       (
+         cat <<\_ASBOX
+ ! ## ----------------------------------- ##
+ ! ## Report this to the ipmitool lists.  ##
+ ! ## ----------------------------------- ##
+   _ASBOX
+       ) |
+         sed "s/^/$as_me: WARNING:     /" >&2
+ ***************
+ *** 24312,24322 ****
+   
+   
+   if test "$cross_compiling" = yes; then
+ !   { { echo "$as_me:$LINENO: error: cannot run test program while cross compiling
+ ! See \`config.log' for more details." >&5
+ ! echo "$as_me: error: cannot run test program while cross compiling
+ ! See \`config.log' for more details." >&2;}
+ !    { (exit 1); exit 1; }; }
+   else
+     cat >conftest.$ac_ext <<_ACEOF
+   /* confdefs.h.  */
+ --- 23315,23326 ----
+   
+   
+   if test "$cross_compiling" = yes; then
+ ! 
+ ! cat >>confdefs.h <<\_ACEOF
+ ! #define HAVE_PRAGMA_PACK 1
+ ! _ACEOF
+ ! 
+ ! 
+   else
+     cat >conftest.$ac_ext <<_ACEOF
+   /* confdefs.h.  */
+ ***************
+ *** 24368,24374 ****
+   #define HAVE_PRAGMA_PACK 1
+   _ACEOF
+   
+ - 
+   fi
+   rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
+   fi
+ --- 23372,23377 ----
+ ***************
+ *** 24760,24766 ****
+   } >&5
+   cat >&5 <<_CSEOF
+   
+ ! This file was extended by $as_me, which was
+   generated by GNU Autoconf 2.59.  Invocation command line was
+   
+     CONFIG_FILES    = $CONFIG_FILES
+ --- 23763,23769 ----
+   } >&5
+   cat >&5 <<_CSEOF
+   
+ ! This file was extended by ipmitool $as_me 1.8.11, which was
+   generated by GNU Autoconf 2.59.  Invocation command line was
+   
+     CONFIG_FILES    = $CONFIG_FILES
+ ***************
+ *** 24823,24829 ****
+   
+   cat >>$CONFIG_STATUS <<_ACEOF
+   ac_cs_version="\\
+ ! config.status
+   configured by $0, generated by GNU Autoconf 2.59,
+     with options \\"`echo "$ac_configure_args" | sed 's/[\\""\`\$]/\\\\&/g'`\\"
+   
+ --- 23826,23832 ----
+   
+   cat >>$CONFIG_STATUS <<_ACEOF
+   ac_cs_version="\\
+ ! ipmitool config.status 1.8.11
+   configured by $0, generated by GNU Autoconf 2.59,
+     with options \\"`echo "$ac_configure_args" | sed 's/[\\""\`\$]/\\\\&/g'`\\"
+   
+ diff -cNr ipmitool-1.8.11.orig/contrib/Makefile.in ipmitool-1.8.11/contrib/Makefile.in
+ *** ipmitool-1.8.11.orig/contrib/Makefile.in	2009-02-25 13:21:58.000000000 -0800
+ --- ipmitool-1.8.11/contrib/Makefile.in	2012-08-06 14:22:12.287725000 -0700
+ ***************
+ *** 1,4 ****
+ ! # Makefile.in generated by automake 1.9.5 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ --- 1,4 ----
+ ! # Makefile.in generated by automake 1.9.6 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ diff -cNr ipmitool-1.8.11.orig/control/Makefile.in ipmitool-1.8.11/control/Makefile.in
+ *** ipmitool-1.8.11.orig/control/Makefile.in	2009-02-25 13:21:58.000000000 -0800
+ --- ipmitool-1.8.11/control/Makefile.in	2012-08-06 14:22:12.351725000 -0700
+ ***************
+ *** 1,4 ****
+ ! # Makefile.in generated by automake 1.9.5 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ --- 1,4 ----
+ ! # Makefile.in generated by automake 1.9.6 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ diff -cNr ipmitool-1.8.11.orig/doc/Makefile.in ipmitool-1.8.11/doc/Makefile.in
+ *** ipmitool-1.8.11.orig/doc/Makefile.in	2009-02-25 13:21:58.000000000 -0800
+ --- ipmitool-1.8.11/doc/Makefile.in	2012-08-06 14:22:12.421727000 -0700
+ ***************
+ *** 1,4 ****
+ ! # Makefile.in generated by automake 1.9.5 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ --- 1,4 ----
+ ! # Makefile.in generated by automake 1.9.6 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ diff -cNr ipmitool-1.8.11.orig/include/Makefile.in ipmitool-1.8.11/include/Makefile.in
+ *** ipmitool-1.8.11.orig/include/Makefile.in	2009-02-25 13:21:59.000000000 -0800
+ --- ipmitool-1.8.11/include/Makefile.in	2012-08-06 14:22:12.491727000 -0700
+ ***************
+ *** 1,4 ****
+ ! # Makefile.in generated by automake 1.9.5 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ --- 1,4 ----
+ ! # Makefile.in generated by automake 1.9.6 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ diff -cNr ipmitool-1.8.11.orig/include/ipmitool/Makefile.in ipmitool-1.8.11/include/ipmitool/Makefile.in
+ *** ipmitool-1.8.11.orig/include/ipmitool/Makefile.in	2009-02-25 13:21:59.000000000 -0800
+ --- ipmitool-1.8.11/include/ipmitool/Makefile.in	2012-08-06 14:22:12.562729000 -0700
+ ***************
+ *** 1,4 ****
+ ! # Makefile.in generated by automake 1.9.5 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ --- 1,4 ----
+ ! # Makefile.in generated by automake 1.9.6 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ diff -cNr ipmitool-1.8.11.orig/lib/Makefile.in ipmitool-1.8.11/lib/Makefile.in
+ *** ipmitool-1.8.11.orig/lib/Makefile.in	2009-02-25 13:22:00.000000000 -0800
+ --- ipmitool-1.8.11/lib/Makefile.in	2012-08-06 14:22:12.652730000 -0700
+ ***************
+ *** 1,4 ****
+ ! # Makefile.in generated by automake 1.9.5 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ --- 1,4 ----
+ ! # Makefile.in generated by automake 1.9.6 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ ***************
+ *** 44,51 ****
+   # LIABILITY, ARISING OUT OF THE USE OF OR INABILITY TO USE THIS SOFTWARE,
+   # EVEN IF SUN HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.
+   
+ - SOURCES = $(libipmitool_la_SOURCES)
+ - 
+   srcdir = @srcdir@
+   top_srcdir = @top_srcdir@
+   VPATH = @srcdir@
+ --- 44,49 ----
+ diff -cNr ipmitool-1.8.11.orig/src/Makefile.in ipmitool-1.8.11/src/Makefile.in
+ *** ipmitool-1.8.11.orig/src/Makefile.in	2009-02-25 13:22:00.000000000 -0800
+ --- ipmitool-1.8.11/src/Makefile.in	2012-08-06 14:22:12.748732000 -0700
+ ***************
+ *** 1,4 ****
+ ! # Makefile.in generated by automake 1.9.5 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ --- 1,4 ----
+ ! # Makefile.in generated by automake 1.9.6 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ ***************
+ *** 44,51 ****
+   # LIABILITY, ARISING OUT OF THE USE OF OR INABILITY TO USE THIS SOFTWARE,
+   # EVEN IF SUN HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.
+   
+ - SOURCES = $(ipmievd_SOURCES) $(ipmitool_SOURCES)
+ - 
+   srcdir = @srcdir@
+   top_srcdir = @top_srcdir@
+   VPATH = @srcdir@
+ --- 44,49 ----
+ diff -cNr ipmitool-1.8.11.orig/src/plugins/Makefile.in ipmitool-1.8.11/src/plugins/Makefile.in
+ *** ipmitool-1.8.11.orig/src/plugins/Makefile.in	2009-02-25 13:22:00.000000000 -0800
+ --- ipmitool-1.8.11/src/plugins/Makefile.in	2012-08-06 14:22:12.837734000 -0700
+ ***************
+ *** 1,4 ****
+ ! # Makefile.in generated by automake 1.9.5 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ --- 1,4 ----
+ ! # Makefile.in generated by automake 1.9.6 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ ***************
+ *** 44,51 ****
+   # LIABILITY, ARISING OUT OF THE USE OF OR INABILITY TO USE THIS SOFTWARE,
+   # EVEN IF SUN HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.
+   
+ - SOURCES = $(libintf_la_SOURCES)
+ - 
+   srcdir = @srcdir@
+   top_srcdir = @top_srcdir@
+   VPATH = @srcdir@
+ --- 44,49 ----
+ diff -cNr ipmitool-1.8.11.orig/src/plugins/bmc/Makefile.in ipmitool-1.8.11/src/plugins/bmc/Makefile.in
+ *** ipmitool-1.8.11.orig/src/plugins/bmc/Makefile.in	2009-02-25 13:22:01.000000000 -0800
+ --- ipmitool-1.8.11/src/plugins/bmc/Makefile.in	2012-08-06 14:22:12.925735000 -0700
+ ***************
+ *** 1,4 ****
+ ! # Makefile.in generated by automake 1.9.5 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ --- 1,4 ----
+ ! # Makefile.in generated by automake 1.9.6 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ ***************
+ *** 44,51 ****
+   # LIABILITY, ARISING OUT OF THE USE OF OR INABILITY TO USE THIS SOFTWARE,
+   # EVEN IF SUN HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.
+   
+ - SOURCES = $(libintf_bmc_la_SOURCES)
+ - 
+   srcdir = @srcdir@
+   top_srcdir = @top_srcdir@
+   VPATH = @srcdir@
+ --- 44,49 ----
+ diff -cNr ipmitool-1.8.11.orig/src/plugins/free/Makefile.in ipmitool-1.8.11/src/plugins/free/Makefile.in
+ *** ipmitool-1.8.11.orig/src/plugins/free/Makefile.in	2009-02-25 13:22:01.000000000 -0800
+ --- ipmitool-1.8.11/src/plugins/free/Makefile.in	2012-08-06 14:22:13.011737000 -0700
+ ***************
+ *** 1,4 ****
+ ! # Makefile.in generated by automake 1.9.5 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ --- 1,4 ----
+ ! # Makefile.in generated by automake 1.9.6 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ ***************
+ *** 14,21 ****
+   
+   @SET_MAKE@
+   
+ - SOURCES = $(libintf_free_la_SOURCES)
+ - 
+   srcdir = @srcdir@
+   top_srcdir = @top_srcdir@
+   VPATH = @srcdir@
+ --- 14,19 ----
+ diff -cNr ipmitool-1.8.11.orig/src/plugins/imb/Makefile.in ipmitool-1.8.11/src/plugins/imb/Makefile.in
+ *** ipmitool-1.8.11.orig/src/plugins/imb/Makefile.in	2009-02-25 13:22:02.000000000 -0800
+ --- ipmitool-1.8.11/src/plugins/imb/Makefile.in	2012-08-06 14:22:13.100738000 -0700
+ ***************
+ *** 1,4 ****
+ ! # Makefile.in generated by automake 1.9.5 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ --- 1,4 ----
+ ! # Makefile.in generated by automake 1.9.6 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ ***************
+ *** 44,51 ****
+   # LIABILITY, ARISING OUT OF THE USE OF OR INABILITY TO USE THIS SOFTWARE,
+   # EVEN IF SUN HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.
+   
+ - SOURCES = $(libintf_imb_la_SOURCES)
+ - 
+   srcdir = @srcdir@
+   top_srcdir = @top_srcdir@
+   VPATH = @srcdir@
+ --- 44,49 ----
+ diff -cNr ipmitool-1.8.11.orig/src/plugins/lan/Makefile.in ipmitool-1.8.11/src/plugins/lan/Makefile.in
+ *** ipmitool-1.8.11.orig/src/plugins/lan/Makefile.in	2009-02-25 13:22:02.000000000 -0800
+ --- ipmitool-1.8.11/src/plugins/lan/Makefile.in	2012-08-06 14:22:13.189739000 -0700
+ ***************
+ *** 1,4 ****
+ ! # Makefile.in generated by automake 1.9.5 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ --- 1,4 ----
+ ! # Makefile.in generated by automake 1.9.6 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ ***************
+ *** 44,51 ****
+   # LIABILITY, ARISING OUT OF THE USE OF OR INABILITY TO USE THIS SOFTWARE,
+   # EVEN IF SUN HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.
+   
+ - SOURCES = $(libintf_lan_la_SOURCES)
+ - 
+   srcdir = @srcdir@
+   top_srcdir = @top_srcdir@
+   VPATH = @srcdir@
+ --- 44,49 ----
+ diff -cNr ipmitool-1.8.11.orig/src/plugins/lanplus/Makefile.in ipmitool-1.8.11/src/plugins/lanplus/Makefile.in
+ *** ipmitool-1.8.11.orig/src/plugins/lanplus/Makefile.in	2009-02-25 13:22:03.000000000 -0800
+ --- ipmitool-1.8.11/src/plugins/lanplus/Makefile.in	2012-08-06 14:22:13.277740000 -0700
+ ***************
+ *** 1,4 ****
+ ! # Makefile.in generated by automake 1.9.5 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ --- 1,4 ----
+ ! # Makefile.in generated by automake 1.9.6 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ ***************
+ *** 44,51 ****
+   # LIABILITY, ARISING OUT OF THE USE OF OR INABILITY TO USE THIS SOFTWARE,
+   # EVEN IF SUN HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.
+   
+ - SOURCES = $(libintf_lanplus_la_SOURCES)
+ - 
+   srcdir = @srcdir@
+   top_srcdir = @top_srcdir@
+   VPATH = @srcdir@
+ --- 44,49 ----
+ diff -cNr ipmitool-1.8.11.orig/src/plugins/lipmi/Makefile.in ipmitool-1.8.11/src/plugins/lipmi/Makefile.in
+ *** ipmitool-1.8.11.orig/src/plugins/lipmi/Makefile.in	2009-02-25 13:22:03.000000000 -0800
+ --- ipmitool-1.8.11/src/plugins/lipmi/Makefile.in	2012-08-06 14:22:13.364742000 -0700
+ ***************
+ *** 1,4 ****
+ ! # Makefile.in generated by automake 1.9.5 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ --- 1,4 ----
+ ! # Makefile.in generated by automake 1.9.6 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ ***************
+ *** 44,51 ****
+   # LIABILITY, ARISING OUT OF THE USE OF OR INABILITY TO USE THIS SOFTWARE,
+   # EVEN IF SUN HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.
+   
+ - SOURCES = $(libintf_lipmi_la_SOURCES)
+ - 
+   srcdir = @srcdir@
+   top_srcdir = @top_srcdir@
+   VPATH = @srcdir@
+ --- 44,49 ----
+ diff -cNr ipmitool-1.8.11.orig/src/plugins/open/Makefile.in ipmitool-1.8.11/src/plugins/open/Makefile.in
+ *** ipmitool-1.8.11.orig/src/plugins/open/Makefile.in	2009-02-25 13:22:03.000000000 -0800
+ --- ipmitool-1.8.11/src/plugins/open/Makefile.in	2012-08-06 14:22:13.452743000 -0700
+ ***************
+ *** 1,4 ****
+ ! # Makefile.in generated by automake 1.9.5 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ --- 1,4 ----
+ ! # Makefile.in generated by automake 1.9.6 from Makefile.am.
+   # @configure_input@
+   
+   # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+ ***************
+ *** 44,51 ****
+   # LIABILITY, ARISING OUT OF THE USE OF OR INABILITY TO USE THIS SOFTWARE,
+   # EVEN IF SUN HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.
+   
+ - SOURCES = $(libintf_open_la_SOURCES)
+ - 
+   srcdir = @srcdir@
+   top_srcdir = @top_srcdir@
+   VPATH = @srcdir@
+ --- 44,49 ----
diff -crN package/ipmitool.orig/ipmitool-1.8.11-pack-and-warnings.patch package/ipmitool/ipmitool-1.8.11-pack-and-warnings.patch
*** package/ipmitool.orig/ipmitool-1.8.11-pack-and-warnings.patch	1969-12-31 16:00:00.000000000 -0800
--- package/ipmitool/ipmitool-1.8.11-pack-and-warnings.patch	2012-08-06 14:08:10.000000000 -0700
***************
*** 0 ****
--- 1,5085 ----
+ diff -cNr ipmitool-1.8.11.orig//include/ipmitool/helper.h ipmitool-1.8.11/include/ipmitool/helper.h
+ *** ipmitool-1.8.11.orig//include/ipmitool/helper.h	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/include/ipmitool/helper.h	2012-08-06 14:16:37.431353197 -0500
+ ***************
+ *** 33,38 ****
+ --- 33,48 ----
+   #ifndef IPMI_HELPER_H
+   #define IPMI_HELPER_H
+   
+ + #ifdef HAVE_CONFIG_H
+ + #include <config.h>
+ + #endif
+ + 
+ + #ifndef HAVE_PRAGMA_PACK
+ + #define GCC_ATTRIBUTE_PACKED __attribute__((packed))
+ + #else
+ + #define GCC_ATTRIBUTE_PACKED
+ + #endif
+ + 
+   #include <sys/types.h>
+   #include <inttypes.h>
+   #include <stdio.h>
+ diff -cNr ipmitool-1.8.11.orig//include/ipmitool/ipmi_channel.h ipmitool-1.8.11/include/ipmitool/ipmi_channel.h
+ *** ipmitool-1.8.11.orig//include/ipmitool/ipmi_channel.h	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/include/ipmitool/ipmi_channel.h	2012-08-06 14:16:37.463352305 -0500
+ ***************
+ *** 36,41 ****
+ --- 36,42 ----
+   #if HAVE_CONFIG_H
+   # include <config.h>
+   #endif
+ + #include <ipmitool/helper.h>
+   #include <ipmitool/ipmi.h>
+   
+   
+ ***************
+ *** 54,59 ****
+ --- 55,63 ----
+    * The Get Authentication Capabilities response structure
+    * From table 22-15 of the IPMI v2.0 spec
+    */
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct get_channel_auth_cap_rsp {
+   	uint8_t channel_number;
+   #if WORDS_BIGENDIAN
+ ***************
+ *** 93,99 ****
+   #endif
+   	uint8_t oem_id[3];    /* IANA enterprise number for auth type */
+   	uint8_t oem_aux_data; /* Additional OEM specific data for oem auths */
+ ! } __attribute__ ((packed));
+   
+   
+   
+ --- 97,107 ----
+   #endif
+   	uint8_t oem_id[3];    /* IANA enterprise number for auth type */
+   	uint8_t oem_aux_data; /* Additional OEM specific data for oem auths */
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   
+   
+ ***************
+ *** 101,106 ****
+ --- 109,117 ----
+    * The Get Channel Info response structure
+    * From table 22-29 of the IPMI v2.0 spec
+    */
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct get_channel_info_rsp {
+   #if WORDS_BIGENDIAN
+   	uint8_t __reserved1       : 4; 
+ ***************
+ *** 132,138 ****
+   #endif
+   	uint8_t vendor_id[3]; /* For OEM that specified the protocol */
+   	uint8_t aux_info[2];  /* Not used*/
+ ! } __attribute__ ((packed));
+   
+   
+   
+ --- 143,153 ----
+   #endif
+   	uint8_t vendor_id[3]; /* For OEM that specified the protocol */
+   	uint8_t aux_info[2];  /* Not used*/
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   
+   
+ ***************
+ *** 140,145 ****
+ --- 155,163 ----
+    * The Get Channel Access response structure
+    * From table 22-28 of the IPMI v2.0 spec
+    */
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct get_channel_access_rsp {
+   #if WORDS_BIGENDIAN
+   	uint8_t __reserved1        : 2;
+ ***************
+ *** 161,169 ****
+   	uint8_t channel_priv_limit : 4; /* Channel privilege level limit */
+   	uint8_t __reserved2        : 4;
+   #endif
+ ! } __attribute__ ((packed));
+   
+   
+   struct get_user_access_rsp {
+   #if WORDS_BIGENDIAN
+   	uint8_t __reserved1        : 2;
+ --- 179,194 ----
+   	uint8_t channel_priv_limit : 4; /* Channel privilege level limit */
+   	uint8_t __reserved2        : 4;
+   #endif
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct get_user_access_rsp {
+   #if WORDS_BIGENDIAN
+   	uint8_t __reserved1        : 2;
+ ***************
+ *** 190,197 ****
+   	uint8_t callin_callback    : 1;
+   	uint8_t __reserved4        : 1;
+   #endif
+ ! } __attribute__ ((packed));
+   
+   struct set_user_access_data {
+   #if WORDS_BIGENDIAN
+   	uint8_t change_bits        : 1;
+ --- 215,229 ----
+   	uint8_t callin_callback    : 1;
+   	uint8_t __reserved4        : 1;
+   #endif
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct set_user_access_data {
+   #if WORDS_BIGENDIAN
+   	uint8_t change_bits        : 1;
+ ***************
+ *** 218,224 ****
+   	uint8_t session_limit      : 4;
+   	uint8_t __reserved3        : 4;
+   #endif
+ ! } __attribute__ ((packed));
+   
+   uint8_t ipmi_get_channel_medium(struct ipmi_intf * intf, uint8_t channel);
+   uint8_t ipmi_current_channel_medium(struct ipmi_intf * intf);
+ --- 250,260 ----
+   	uint8_t session_limit      : 4;
+   	uint8_t __reserved3        : 4;
+   #endif
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   uint8_t ipmi_get_channel_medium(struct ipmi_intf * intf, uint8_t channel);
+   uint8_t ipmi_current_channel_medium(struct ipmi_intf * intf);
+ diff -cNr ipmitool-1.8.11.orig//include/ipmitool/ipmi_entity.h ipmitool-1.8.11/include/ipmitool/ipmi_entity.h
+ *** ipmitool-1.8.11.orig//include/ipmitool/ipmi_entity.h	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/include/ipmitool/ipmi_entity.h	2012-08-06 14:16:37.455352527 -0500
+ ***************
+ *** 33,38 ****
+ --- 33,43 ----
+   #ifndef IPMI_ENTITY_H
+   #define IPMI_ENTITY_H
+   
+ + #include <ipmitool/helper.h>
+ + 
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct entity_id {
+   	uint8_t	id;			/* physical entity id */
+   #if WORDS_BIGENDIAN
+ ***************
+ *** 42,47 ****
+   	uint8_t	instance    : 7;	/* instance number */
+   	uint8_t	logical     : 1;	/* physical/logical */
+   #endif
+ ! } __attribute__ ((packed));
+   
+   #endif /* IPMI_ENTITY_H */
+ --- 47,56 ----
+   	uint8_t	instance    : 7;	/* instance number */
+   	uint8_t	logical     : 1;	/* physical/logical */
+   #endif
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   #endif /* IPMI_ENTITY_H */
+ diff -cNr ipmitool-1.8.11.orig//include/ipmitool/ipmi_event.h ipmitool-1.8.11/include/ipmitool/ipmi_event.h
+ *** ipmitool-1.8.11.orig//include/ipmitool/ipmi_event.h	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/include/ipmitool/ipmi_event.h	2012-08-06 14:16:37.447352750 -0500
+ ***************
+ *** 36,46 ****
+ --- 36,50 ----
+   #if HAVE_CONFIG_H
+   # include <config.h>
+   #endif
+ + #include <ipmitool/helper.h>
+   #include <ipmitool/ipmi.h>
+   
+   #define EVENT_DIR_ASSERT	0
+   #define EVENT_DIR_DEASSERT	1
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct platform_event_msg {
+   	uint8_t evm_rev;
+   	uint8_t sensor_type;
+ ***************
+ *** 53,59 ****
+   	uint8_t event_dir  : 1;
+   #endif
+   	uint8_t event_data[3];
+ ! } __attribute__((packed));
+   
+   int  ipmi_event_main(struct ipmi_intf *, int, char **);
+   
+ --- 57,67 ----
+   	uint8_t event_dir  : 1;
+   #endif
+   	uint8_t event_data[3];
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   int  ipmi_event_main(struct ipmi_intf *, int, char **);
+   
+ diff -cNr ipmitool-1.8.11.orig//include/ipmitool/ipmi_fru.h ipmitool-1.8.11/include/ipmitool/ipmi_fru.h
+ *** ipmitool-1.8.11.orig//include/ipmitool/ipmi_fru.h	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/include/ipmitool/ipmi_fru.h	2012-08-06 14:16:37.439352974 -0500
+ ***************
+ *** 34,39 ****
+ --- 34,40 ----
+   #define IPMI_FRU_H
+   
+   #include <inttypes.h>
+ + #include <ipmitool/helper.h>
+   #include <ipmitool/ipmi.h>
+   #include <ipmitool/ipmi_sdr.h>
+   
+ ***************
+ *** 60,70 ****
+   	FRU_PRODUCT_ASSET,
+   };
+   
+   struct fru_info {
+   	uint16_t size;
+   	uint8_t access:1;
+ ! } __attribute__ ((packed));
+   
+   struct fru_header {
+   	uint8_t version;
+   	struct {
+ --- 61,81 ----
+   	FRU_PRODUCT_ASSET,
+   };
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct fru_info {
+   	uint16_t size;
+   	uint8_t access:1;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct fru_header {
+   	uint8_t version;
+   	struct {
+ ***************
+ *** 76,82 ****
+   	} offset;
+   	uint8_t pad;
+   	uint8_t checksum;
+ ! } __attribute__ ((packed));
+   
+   struct fru_area_chassis {
+   	uint8_t area_ver;
+ --- 87,97 ----
+   	} offset;
+   	uint8_t pad;
+   	uint8_t checksum;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   struct fru_area_chassis {
+   	uint8_t area_ver;
+ ***************
+ *** 111,116 ****
+ --- 126,134 ----
+   	char * fru;
+   };
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct fru_multirec_header {
+   #define FRU_RECORD_TYPE_POWER_SUPPLY_INFORMATION 0x00
+   #define FRU_RECORD_TYPE_DC_OUTPUT 0x01
+ ***************
+ *** 124,131 ****
+   	uint8_t len;
+   	uint8_t record_checksum;
+   	uint8_t header_checksum;
+ ! } __attribute__ ((packed));
+   
+   struct fru_multirec_powersupply {
+   #if WORDS_BIGENDIAN
+   	uint16_t capacity;
+ --- 142,156 ----
+   	uint8_t len;
+   	uint8_t record_checksum;
+   	uint8_t header_checksum;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct fru_multirec_powersupply {
+   #if WORDS_BIGENDIAN
+   	uint16_t capacity;
+ ***************
+ *** 168,178 ****
+   #endif
+   	uint16_t combined_capacity;
+   	uint8_t rps_threshold;
+ ! } __attribute__ ((packed));
+   
+   static const char * combined_voltage_desc[] __attribute__((unused)) = {
+   "12 V", "-12 V", "5 V", "3.3 V"};
+   
+   struct fru_multirec_dcoutput {
+   #if WORDS_BIGENDIAN
+   	uint8_t standby:1;
+ --- 193,210 ----
+   #endif
+   	uint16_t combined_capacity;
+   	uint8_t rps_threshold;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   static const char * combined_voltage_desc[] __attribute__((unused)) = {
+   "12 V", "-12 V", "5 V", "3.3 V"};
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct fru_multirec_dcoutput {
+   #if WORDS_BIGENDIAN
+   	uint8_t standby:1;
+ ***************
+ *** 189,196 ****
+   	uint16_t ripple_and_noise;
+   	uint16_t min_current;
+   	uint16_t max_current;
+ ! } __attribute__ ((packed));
+   
+   struct fru_multirec_dcload {
+   #if WORDS_BIGENDIAN
+   	uint8_t __reserved:4;
+ --- 221,235 ----
+   	uint16_t ripple_and_noise;
+   	uint16_t min_current;
+   	uint16_t max_current;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct fru_multirec_dcload {
+   #if WORDS_BIGENDIAN
+   	uint8_t __reserved:4;
+ ***************
+ *** 205,212 ****
+   	uint16_t ripple_and_noise;
+   	uint16_t min_current;
+   	uint16_t max_current;
+ ! } __attribute__ ((packed));
+   
+   struct fru_multirec_oem_header {
+   	unsigned char mfg_id[3];
+   #define FRU_PICMG_BACKPLANE_P2P			0x04
+ --- 244,258 ----
+   	uint16_t ripple_and_noise;
+   	uint16_t min_current;
+   	uint16_t max_current;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct fru_multirec_oem_header {
+   	unsigned char mfg_id[3];
+   #define FRU_PICMG_BACKPLANE_P2P			0x04
+ ***************
+ *** 236,247 ****
+   #define FRU_PICMG_CLK_CONFIG			0x2D
+   	unsigned char record_id;
+   	unsigned char record_version;
+ ! } __attribute__ ((packed));
+   
+   struct fru_picmgext_guid {
+   	unsigned char guid[16];
+ ! } __attribute__ ((packed));
+   
+   struct fru_picmgext_link_desc {
+   #ifndef WORDS_BIGENDIAN
+   	unsigned int desig_channel:6;
+ --- 282,307 ----
+   #define FRU_PICMG_CLK_CONFIG			0x2D
+   	unsigned char record_id;
+   	unsigned char record_version;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct fru_picmgext_guid {
+   	unsigned char guid[16];
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct fru_picmgext_link_desc {
+   #ifndef WORDS_BIGENDIAN
+   	unsigned int desig_channel:6;
+ ***************
+ *** 268,274 ****
+   	unsigned int desig_if:2;
+   	unsigned int desig_channel:6;
+   #endif
+ ! } __attribute__ ((packed));
+   
+   
+   #define FRU_PICMGEXT_AMC_LINK_TYPE_RESERVED			 	  0x00
+ --- 328,338 ----
+   	unsigned int desig_if:2;
+   	unsigned int desig_channel:6;
+   #endif
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   
+   #define FRU_PICMGEXT_AMC_LINK_TYPE_RESERVED			 	  0x00
+ ***************
+ *** 281,290 ****
+   #define FRU_PICMGEXT_AMC_LINK_TYPE_STORAGE              0x07
+   
+   /* This is used in command, not in FRU */
+   struct fru_picmgext_amc_link_info {
+      unsigned char linkInfo[3];
+ ! } __attribute__ ((packed));
+   
+   struct fru_picmgext_amc_link_desc_core {
+   #ifndef WORDS_BIGENDIAN
+   	unsigned int designator:12;
+ --- 345,364 ----
+   #define FRU_PICMGEXT_AMC_LINK_TYPE_STORAGE              0x07
+   
+   /* This is used in command, not in FRU */
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct fru_picmgext_amc_link_info {
+      unsigned char linkInfo[3];
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct fru_picmgext_amc_link_desc_core {
+   #ifndef WORDS_BIGENDIAN
+   	unsigned int designator:12;
+ ***************
+ *** 297,304 ****
+   	unsigned int type:8;
+   	unsigned int designator:12;
+   #endif
+ ! } __attribute__ ((packed));
+   
+   struct fru_picmgext_amc_link_desc_extra {
+   #ifndef WORDS_BIGENDIAN
+   	unsigned char asymetricMatch:2;
+ --- 371,385 ----
+   	unsigned int type:8;
+   	unsigned int designator:12;
+   #endif
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct fru_picmgext_amc_link_desc_extra {
+   #ifndef WORDS_BIGENDIAN
+   	unsigned char asymetricMatch:2;
+ ***************
+ *** 307,315 ****
+   	unsigned char reserved:6;
+   	unsigned char asymetricMatch:2;
+   #endif
+ ! } __attribute__ ((packed));
+   
+   
+   struct fru_picmgext_amc_link_desc {
+   #ifndef WORDS_BIGENDIAN
+      struct fru_picmgext_amc_link_desc_core  core;/* lsb */
+ --- 388,403 ----
+   	unsigned char reserved:6;
+   	unsigned char asymetricMatch:2;
+   #endif
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct fru_picmgext_amc_link_desc {
+   #ifndef WORDS_BIGENDIAN
+      struct fru_picmgext_amc_link_desc_core  core;/* lsb */
+ ***************
+ *** 318,324 ****
+      struct fru_picmgext_amc_link_desc_extra extra;
+      struct fru_picmgext_amc_link_desc_core  core;/* lsb */
+   #endif
+ ! } __attribute__ ((packed));
+   
+   
+   #define FRU_PICMGEXT_OEM_SWFW 0x03
+ --- 406,416 ----
+      struct fru_picmgext_amc_link_desc_extra extra;
+      struct fru_picmgext_amc_link_desc_core  core;/* lsb */
+   #endif
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   
+   #define FRU_PICMGEXT_OEM_SWFW 0x03
+ ***************
+ *** 326,331 ****
+ --- 418,426 ----
+   #define OEM_SWFW_FIELD_START_OFFSET 0x06
+   
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct fru_picmgext_chn_desc {
+   #ifndef WORDS_BIGENDIAN
+   	unsigned char remote_slot:8;
+ ***************
+ *** 338,373 ****
+   	unsigned char remote_chn:5;
+   	unsigned char remote_slot:8;
+   #endif
+ ! } __attribute__ ((packed));
+   
+   struct fru_picmgext_slot_desc {
+   	unsigned char chan_type;
+   	unsigned char slot_addr;
+   	unsigned char chn_count;
+ ! } __attribute__ ((packed));
+   
+   #define FRU_PICMGEXT_DESIGN_IF_BASE				0x00
+   #define FRU_PICMGEXT_DESIGN_IF_FABRIC			0x01
+   #define FRU_PICMGEXT_DESIGN_IF_UPDATE_CHANNEL	0x02
+   #define FRU_PICMGEXT_DESIGN_IF_RESERVED			0x03
+   
+   struct fru_picmgext_carrier_activation_record {
+   	unsigned short max_internal_curr;
+   	unsigned char  allowance_for_readiness;
+      unsigned char  module_activation_record_count;
+ ! } __attribute__ ((packed));
+   
+   struct fru_picmgext_activation_record {
+   	unsigned char ibmb_addr;
+   	unsigned char max_module_curr;
+   	unsigned char reserved;
+ ! } __attribute__ ((packed));
+   
+   struct fru_picmgext_carrier_p2p_record {
+   	unsigned char resource_id;
+   	unsigned char p2p_count;
+ ! } __attribute__ ((packed));
+   
+   struct fru_picmgext_carrier_p2p_descriptor {
+   #ifndef WORDS_BIGENDIAN
+   	unsigned char  remote_resource_id;
+ --- 433,503 ----
+   	unsigned char remote_chn:5;
+   	unsigned char remote_slot:8;
+   #endif
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct fru_picmgext_slot_desc {
+   	unsigned char chan_type;
+   	unsigned char slot_addr;
+   	unsigned char chn_count;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   #define FRU_PICMGEXT_DESIGN_IF_BASE				0x00
+   #define FRU_PICMGEXT_DESIGN_IF_FABRIC			0x01
+   #define FRU_PICMGEXT_DESIGN_IF_UPDATE_CHANNEL	0x02
+   #define FRU_PICMGEXT_DESIGN_IF_RESERVED			0x03
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct fru_picmgext_carrier_activation_record {
+   	unsigned short max_internal_curr;
+   	unsigned char  allowance_for_readiness;
+      unsigned char  module_activation_record_count;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct fru_picmgext_activation_record {
+   	unsigned char ibmb_addr;
+   	unsigned char max_module_curr;
+   	unsigned char reserved;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct fru_picmgext_carrier_p2p_record {
+   	unsigned char resource_id;
+   	unsigned char p2p_count;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct fru_picmgext_carrier_p2p_descriptor {
+   #ifndef WORDS_BIGENDIAN
+   	unsigned char  remote_resource_id;
+ ***************
+ *** 380,387 ****
+   	unsigned short remote_port:5;
+   	unsigned char  remote_resource_id;
+   #endif
+ ! } __attribute__ ((packed));
+   
+   struct fru_picmgext_amc_p2p_record {
+   #ifndef WORDS_BIGENDIAN
+   	unsigned char resource_id         :4;
+ --- 510,524 ----
+   	unsigned short remote_port:5;
+   	unsigned char  remote_resource_id;
+   #endif
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct fru_picmgext_amc_p2p_record {
+   #ifndef WORDS_BIGENDIAN
+   	unsigned char resource_id         :4;
+ ***************
+ *** 392,399 ****
+   	unsigned char /* reserved */      :3;
+   	unsigned char resource_id         :4;
+   #endif 
+ ! } __attribute__ ((packed));
+   
+   struct fru_picmgext_amc_channel_desc_record {
+   #ifndef WORDS_BIGENDIAN
+   	unsigned char lane0port           :5;
+ --- 529,543 ----
+   	unsigned char /* reserved */      :3;
+   	unsigned char resource_id         :4;
+   #endif 
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct fru_picmgext_amc_channel_desc_record {
+   #ifndef WORDS_BIGENDIAN
+   	unsigned char lane0port           :5;
+ ***************
+ *** 408,415 ****
+   	unsigned char lane1port           :5;
+   	unsigned char lane0port           :5;
+   #endif 
+ ! } __attribute__ ((packed));
+   
+   struct fru_picmgext_amc_link_desc_record {
+   	#define FRU_PICMGEXT_AMC_LINK_TYPE_PCIE		0x02
+   	#define FRU_PICMGEXT_AMC_LINK_TYPE_PCIE_AS1	0x03
+ --- 552,566 ----
+   	unsigned char lane1port           :5;
+   	unsigned char lane0port           :5;
+   #endif 
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct fru_picmgext_amc_link_desc_record {
+   	#define FRU_PICMGEXT_AMC_LINK_TYPE_PCIE		0x02
+   	#define FRU_PICMGEXT_AMC_LINK_TYPE_PCIE_AS1	0x03
+ ***************
+ *** 452,458 ****
+   	unsigned short port_flag_0         :1;
+   	unsigned short channel_id          :8;
+   #endif 
+ ! } __attribute__ ((packed));
+   /* FRU Board manufacturing date */
+   static const uint64_t secs_from_1970_1996 = 820450800;
+   static const char * chassis_type_desc[] __attribute__((unused)) = {
+ --- 603,613 ----
+   	unsigned short port_flag_0         :1;
+   	unsigned short channel_id          :8;
+   #endif 
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   /* FRU Board manufacturing date */
+   static const uint64_t secs_from_1970_1996 = 820450800;
+   static const char * chassis_type_desc[] __attribute__((unused)) = {
+ diff -cNr ipmitool-1.8.11.orig//include/ipmitool/ipmi.h ipmitool-1.8.11/include/ipmitool/ipmi.h
+ *** ipmitool-1.8.11.orig//include/ipmitool/ipmi.h	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/include/ipmitool/ipmi.h	2012-08-06 14:16:37.427353308 -0500
+ ***************
+ *** 44,56 ****
+   
+   #define IPMI_BUF_SIZE 1024
+   
+ - #if HAVE_PRAGMA_PACK
+ - #define ATTRIBUTE_PACKING
+ - #else
+ - #define ATTRIBUTE_PACKING __attribute__ ((packed))
+ - #endif
+ - 
+ - 
+   /* From table 13.16 of the IPMI v2 specification */
+   #define IPMI_PAYLOAD_TYPE_IPMI               0x00
+   #define IPMI_PAYLOAD_TYPE_SOL                0x01
+ --- 44,49 ----
+ diff -cNr ipmitool-1.8.11.orig//include/ipmitool/ipmi_mc.h ipmitool-1.8.11/include/ipmitool/ipmi_mc.h
+ *** ipmitool-1.8.11.orig//include/ipmitool/ipmi_mc.h	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/include/ipmitool/ipmi_mc.h	2012-08-06 14:16:37.447352750 -0500
+ ***************
+ *** 33,38 ****
+ --- 33,39 ----
+   #ifndef IPMI_MC_H
+   #define IPMI_MC_H
+   
+ + #include <ipmitool/helper.h>
+   #include <ipmitool/ipmi.h>
+   
+   #define BMC_GET_DEVICE_ID	0x01
+ ***************
+ *** 52,57 ****
+ --- 53,61 ----
+    * Response data from IPM Get Device ID Command (IPMI rev 1.5, section 17.1)
+    * The following really apply to any IPM device, not just BMCs... 
+    */
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct ipm_devid_rsp {
+   	uint8_t device_id;
+   	uint8_t device_revision;
+ ***************
+ *** 62,68 ****
+   	uint8_t manufacturer_id[3];
+   	uint8_t product_id[2];
+   	uint8_t aux_fw_rev[4];
+ ! } __attribute__ ((packed));
+   
+   #define IPM_DEV_DEVICE_ID_SDR_MASK     (0x80)	/* 1 = provides SDRs      */
+   #define IPM_DEV_DEVICE_ID_REV_MASK     (0x07)	/* BCD-enoded             */
+ --- 66,76 ----
+   	uint8_t manufacturer_id[3];
+   	uint8_t product_id[2];
+   	uint8_t aux_fw_rev[4];
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   #define IPM_DEV_DEVICE_ID_SDR_MASK     (0x80)	/* 1 = provides SDRs      */
+   #define IPM_DEV_DEVICE_ID_REV_MASK     (0x07)	/* BCD-enoded             */
+ ***************
+ *** 83,92 ****
+   
+   #define IPM_DEV_ADTL_SUPPORT_BITS      (8)
+   
+   struct ipm_selftest_rsp {
+   	unsigned char code;
+   	unsigned char test;
+ ! } __attribute__ ((packed));
+   
+   #define IPM_SFT_CODE_OK			0x55
+   #define IPM_SFT_CODE_NOT_IMPLEMENTED	0x56
+ --- 91,107 ----
+   
+   #define IPM_DEV_ADTL_SUPPORT_BITS      (8)
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct ipm_selftest_rsp {
+   	unsigned char code;
+   	unsigned char test;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   #define IPM_SFT_CODE_OK			0x55
+   #define IPM_SFT_CODE_NOT_IMPLEMENTED	0x56
+ ***************
+ *** 103,108 ****
+ --- 118,126 ----
+   #define IPM_SELFTEST_FW_BOOTBLOCK	0x02
+   #define IPM_SELFTEST_FW_CORRUPTED	0x01
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct ipm_get_watchdog_rsp {
+   	unsigned char timer_use;
+   	unsigned char timer_actions;
+ ***************
+ *** 112,118 ****
+   	unsigned char initial_countdown_msb;
+   	unsigned char present_countdown_lsb;
+   	unsigned char present_countdown_msb;
+ ! } __attribute__ ((packed));
+   
+   #define IPM_WATCHDOG_RESET_ERROR	0x80
+   
+ --- 130,140 ----
+   	unsigned char initial_countdown_msb;
+   	unsigned char present_countdown_lsb;
+   	unsigned char present_countdown_msb;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   #define IPM_WATCHDOG_RESET_ERROR	0x80
+   
+ diff -cNr ipmitool-1.8.11.orig//include/ipmitool/ipmi_pef.h ipmitool-1.8.11/include/ipmitool/ipmi_pef.h
+ *** ipmitool-1.8.11.orig//include/ipmitool/ipmi_pef.h	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/include/ipmitool/ipmi_pef.h	2012-08-06 14:16:37.403353975 -0500
+ ***************
+ *** 33,38 ****
+ --- 33,39 ----
+   #ifndef IPMI_PEF_H
+   #define IPMI_PEF_H
+   
+ + #include <ipmitool/helper.h>
+   #include <ipmitool/ipmi.h>
+   
+   /* PEF */
+ ***************
+ *** 50,55 ****
+ --- 51,59 ----
+   	P_ABLE,
+   } flg_e;
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_table_entry {
+   #define PEF_CONFIG_ENABLED 0x80
+   #define PEF_CONFIG_PRECONFIGURED 0x40
+ ***************
+ *** 90,96 ****
+   	uint8_t event_data_3_AND_mask;
+   	uint8_t event_data_3_compare_1;
+   	uint8_t event_data_3_compare_2;
+ ! } __attribute__ ((packed));
+   
+   struct desc_map {						/* maps a description to a value/mask */
+   	const char *desc;
+ --- 94,104 ----
+   	uint8_t event_data_3_AND_mask;
+   	uint8_t event_data_3_compare_1;
+   	uint8_t event_data_3_compare_2;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   struct desc_map {						/* maps a description to a value/mask */
+   	const char *desc;
+ ***************
+ *** 324,329 ****
+ --- 332,340 ----
+   #define PEF_B2S_GENERIC_ER_ENTRIES \
+   			(sizeof(pef_b2s_generic_ER) / sizeof(pef_b2s_generic_ER[0]))
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_policy_entry {
+   #define PEF_POLICY_ID_MASK 0xf0
+   #define PEF_POLICY_ID_SHIFT 4
+ ***************
+ *** 341,347 ****
+   	uint8_t chan_dest;
+   #define PEF_POLICY_EVENT_SPECIFIC 0x80
+   	uint8_t alert_string_key;
+ ! } __attribute__ ((packed));
+   
+   static struct bit_desc_map
+   pef_b2s_policies __attribute__((unused)) = {
+ --- 352,362 ----
+   	uint8_t chan_dest;
+   #define PEF_POLICY_EVENT_SPECIFIC 0x80
+   	uint8_t alert_string_key;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   static struct bit_desc_map
+   pef_b2s_policies __attribute__((unused)) = {
+ ***************
+ *** 384,389 ****
+ --- 399,407 ----
+   	{NULL}
+   }	};
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_cfgparm_selector {
+   #define PEF_CFGPARM_ID_REVISION_ONLY_MASK 0x80
+   #define PEF_CFGPARM_ID_SET_IN_PROGRESS 0
+ ***************
+ *** 403,423 ****
+   	uint8_t id;
+   	uint8_t set;
+   	uint8_t block;
+ ! } __attribute__ ((packed));
+   
+   struct pef_cfgparm_set_in_progress {
+   #define PEF_SET_IN_PROGRESS_COMMIT_WRITE 0x02 
+   #define PEF_SET_IN_PROGRESS 0x01
+   	uint8_t data1;
+ ! } __attribute__ ((packed));
+   
+   struct pef_cfgparm_control {
+   #define PEF_CONTROL_ENABLE_ALERT_STARTUP_DELAY 0x08
+   #define PEF_CONTROL_ENABLE_STARTUP_DELAY 0x04
+   #define PEF_CONTROL_ENABLE_EVENT_MESSAGES 0x02
+   #define PEF_CONTROL_ENABLE 0x01
+   	uint8_t data1;
+ ! } __attribute__ ((packed));
+   
+   static struct bit_desc_map
+   pef_b2s_control __attribute__((unused)) = {
+ --- 421,459 ----
+   	uint8_t id;
+   	uint8_t set;
+   	uint8_t block;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_cfgparm_set_in_progress {
+   #define PEF_SET_IN_PROGRESS_COMMIT_WRITE 0x02 
+   #define PEF_SET_IN_PROGRESS 0x01
+   	uint8_t data1;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_cfgparm_control {
+   #define PEF_CONTROL_ENABLE_ALERT_STARTUP_DELAY 0x08
+   #define PEF_CONTROL_ENABLE_STARTUP_DELAY 0x04
+   #define PEF_CONTROL_ENABLE_EVENT_MESSAGES 0x02
+   #define PEF_CONTROL_ENABLE 0x01
+   	uint8_t data1;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   static struct bit_desc_map
+   pef_b2s_control __attribute__((unused)) = {
+ ***************
+ *** 429,434 ****
+ --- 465,473 ----
+   	{NULL}
+   }	};
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_cfgparm_action {
+   #define PEF_ACTION_ENABLE_DIAGNOSTIC_INTERRUPT 0x20
+   #define PEF_ACTION_ENABLE_OEM 0x10
+ ***************
+ *** 437,490 ****
+   #define PEF_ACTION_ENABLE_POWER_DOWN 0x02
+   #define PEF_ACTION_ENABLE_ALERT 0x01
+   	uint8_t data1;
+ ! } __attribute__ ((packed));
+   
+   struct pef_cfgparm_startup_delay {
+   	uint8_t data1;
+ ! } __attribute__ ((packed));
+   
+   struct pef_cfgparm_alert_startup_delay {
+   	uint8_t data1;
+ ! } __attribute__ ((packed));
+   
+   struct pef_cfgparm_filter_table_size {
+   #define PEF_FILTER_TABLE_SIZE_MASK 0x7f
+   	uint8_t data1;
+ ! } __attribute__ ((packed));
+   
+   struct pef_cfgparm_filter_table_entry {
+   #define PEF_FILTER_TABLE_ID_MASK 0x7f
+   	uint8_t data1;
+   	struct pef_table_entry entry;
+ ! } __attribute__ ((packed));
+   
+   struct pef_cfgparm_filter_table_data_1 {
+   	uint8_t data1;
+   	uint8_t data2;
+ ! } __attribute__ ((packed));
+   
+   struct pef_cfgparm_policy_table_size {
+   #define PEF_POLICY_TABLE_SIZE_MASK 0x7f
+   	uint8_t data1;
+ ! } __attribute__ ((packed));
+   
+   struct pef_cfgparm_policy_table_entry {
+   #define PEF_POLICY_TABLE_ID_MASK 0x7f
+   	uint8_t data1;
+   	struct pef_policy_entry entry;
+ ! } __attribute__ ((packed));
+   
+   struct pef_cfgparm_system_guid {
+   #define PEF_SYSTEM_GUID_USED_IN_PET 0x01
+   	uint8_t data1;
+   	uint8_t guid[16];
+ ! } __attribute__ ((packed));
+   
+   struct pef_cfgparm_alert_string_table_size {
+   #define PEF_ALERT_STRING_TABLE_SIZE_MASK 0x7f
+   	uint8_t data1;
+ ! } __attribute__ ((packed));
+   
+   struct pef_cfgparm_alert_string_keys {
+   #define PEF_ALERT_STRING_ID_MASK 0x7f
+   	uint8_t data1;
+ --- 476,599 ----
+   #define PEF_ACTION_ENABLE_POWER_DOWN 0x02
+   #define PEF_ACTION_ENABLE_ALERT 0x01
+   	uint8_t data1;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_cfgparm_startup_delay {
+   	uint8_t data1;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_cfgparm_alert_startup_delay {
+   	uint8_t data1;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_cfgparm_filter_table_size {
+   #define PEF_FILTER_TABLE_SIZE_MASK 0x7f
+   	uint8_t data1;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_cfgparm_filter_table_entry {
+   #define PEF_FILTER_TABLE_ID_MASK 0x7f
+   	uint8_t data1;
+   	struct pef_table_entry entry;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_cfgparm_filter_table_data_1 {
+   	uint8_t data1;
+   	uint8_t data2;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_cfgparm_policy_table_size {
+   #define PEF_POLICY_TABLE_SIZE_MASK 0x7f
+   	uint8_t data1;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_cfgparm_policy_table_entry {
+   #define PEF_POLICY_TABLE_ID_MASK 0x7f
+   	uint8_t data1;
+   	struct pef_policy_entry entry;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_cfgparm_system_guid {
+   #define PEF_SYSTEM_GUID_USED_IN_PET 0x01
+   	uint8_t data1;
+   	uint8_t guid[16];
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_cfgparm_alert_string_table_size {
+   #define PEF_ALERT_STRING_TABLE_SIZE_MASK 0x7f
+   	uint8_t data1;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_cfgparm_alert_string_keys {
+   #define PEF_ALERT_STRING_ID_MASK 0x7f
+   	uint8_t data1;
+ ***************
+ *** 492,507 ****
+   	uint8_t data2;
+   #define PEF_ALERT_STRING_SET_ID_MASK 0x7f
+   	uint8_t data3;
+ ! } __attribute__ ((packed));
+   
+   struct pef_cfgparm_alert_string_table_entry {
+   	uint8_t id;
+   	uint8_t blockno;
+   	uint8_t block[16];
+ ! } __attribute__ ((packed));
+   
+   /* PEF - LAN */
+   
+   struct pef_lan_cfgparm_selector {
+   #define PEF_LAN_CFGPARM_CH_REVISION_ONLY_MASK 0x80
+   #define PEF_LAN_CFGPARM_CH_MASK 0x0f
+ --- 601,630 ----
+   	uint8_t data2;
+   #define PEF_ALERT_STRING_SET_ID_MASK 0x7f
+   	uint8_t data3;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_cfgparm_alert_string_table_entry {
+   	uint8_t id;
+   	uint8_t blockno;
+   	uint8_t block[16];
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   /* PEF - LAN */
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_lan_cfgparm_selector {
+   #define PEF_LAN_CFGPARM_CH_REVISION_ONLY_MASK 0x80
+   #define PEF_LAN_CFGPARM_CH_MASK 0x0f
+ ***************
+ *** 513,525 ****
+   	uint8_t id;
+   	uint8_t set;
+   	uint8_t block;
+ ! } __attribute__ ((packed));
+   
+   struct pef_lan_cfgparm_dest_size {
+   #define PEF_LAN_DEST_TABLE_SIZE_MASK 0x0f
+   	uint8_t data1;
+ ! } __attribute__ ((packed));
+   
+   struct pef_lan_cfgparm_dest_type {
+   #define PEF_LAN_DEST_TYPE_ID_MASK 0x0f
+   	uint8_t dest;
+ --- 636,662 ----
+   	uint8_t id;
+   	uint8_t set;
+   	uint8_t block;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_lan_cfgparm_dest_size {
+   #define PEF_LAN_DEST_TABLE_SIZE_MASK 0x0f
+   	uint8_t data1;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_lan_cfgparm_dest_type {
+   #define PEF_LAN_DEST_TYPE_ID_MASK 0x0f
+   	uint8_t dest;
+ ***************
+ *** 532,538 ****
+   	uint8_t alert_timeout;
+   #define PEF_LAN_RETRIES_MASK 0x07
+   	uint8_t retries;
+ ! } __attribute__ ((packed));
+   
+   static struct bit_desc_map
+   pef_b2s_lan_desttype __attribute__((unused)) = {
+ --- 669,679 ----
+   	uint8_t alert_timeout;
+   #define PEF_LAN_RETRIES_MASK 0x07
+   	uint8_t retries;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   static struct bit_desc_map
+   pef_b2s_lan_desttype __attribute__((unused)) = {
+ ***************
+ *** 544,549 ****
+ --- 685,693 ----
+   	{NULL}
+   }	};
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_lan_cfgparm_dest_info {
+   #define PEF_LAN_DEST_MASK 0x0f
+   	uint8_t dest;
+ ***************
+ *** 555,564 ****
+   	uint8_t gateway;
+   	uint8_t ip[4];
+   	uint8_t mac[6];
+ ! } __attribute__ ((packed));
+   
+   /* PEF - Serial/PPP */
+   
+   struct pef_serial_cfgparm_selector {
+   #define PEF_SERIAL_CFGPARM_CH_REVISION_ONLY_MASK 0x80
+   #define PEF_SERIAL_CFGPARM_CH_MASK 0x0f
+ --- 699,715 ----
+   	uint8_t gateway;
+   	uint8_t ip[4];
+   	uint8_t mac[6];
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   /* PEF - Serial/PPP */
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_serial_cfgparm_selector {
+   #define PEF_SERIAL_CFGPARM_CH_REVISION_ONLY_MASK 0x80
+   #define PEF_SERIAL_CFGPARM_CH_MASK 0x0f
+ ***************
+ *** 573,585 ****
+   	uint8_t id;
+   	uint8_t set;
+   	uint8_t block;
+ ! } __attribute__ ((packed));
+   
+   struct pef_serial_cfgparm_dest_size {
+   #define PEF_SERIAL_DEST_TABLE_SIZE_MASK 0x0f
+   	uint8_t data1;
+ ! } __attribute__ ((packed));
+   
+   struct pef_serial_cfgparm_dest_info {
+   #define PEF_SERIAL_DEST_MASK 0x0f
+   	uint8_t dest;
+ --- 724,750 ----
+   	uint8_t id;
+   	uint8_t set;
+   	uint8_t block;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_serial_cfgparm_dest_size {
+   #define PEF_SERIAL_DEST_TABLE_SIZE_MASK 0x0f
+   	uint8_t data1;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_serial_cfgparm_dest_info {
+   #define PEF_SERIAL_DEST_MASK 0x0f
+   	uint8_t dest;
+ ***************
+ *** 608,614 ****
+   #define PEF_SERIAL_CALLBACK_IPADDR_ID_SHIFT 4
+   #define PEF_SERIAL_CALLBACK_ACCT_ID_MASK 0xf0
+   	uint8_t data5;
+ ! } __attribute__ ((packed));
+   
+   static struct bit_desc_map
+   pef_b2s_serial_desttype __attribute__((unused)) = {
+ --- 773,783 ----
+   #define PEF_SERIAL_CALLBACK_IPADDR_ID_SHIFT 4
+   #define PEF_SERIAL_CALLBACK_ACCT_ID_MASK 0xf0
+   	uint8_t data5;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   static struct bit_desc_map
+   pef_b2s_serial_desttype __attribute__((unused)) = {
+ ***************
+ *** 623,653 ****
+   	{NULL}
+   }	};
+   
+   struct pef_serial_cfgparm_dial_string_count {
+   #define PEF_SERIAL_DIAL_STRING_COUNT_MASK 0x0f
+   	uint8_t data1;
+ ! } __attribute__ ((packed));
+   
+   struct pef_serial_cfgparm_dial_string {
+   #define PEF_SERIAL_DIAL_STRING_MASK 0x0f
+   	uint8_t data1;
+   	uint8_t data2;
+   	uint8_t data3;
+ ! } __attribute__ ((packed));
+   
+   struct pef_serial_cfgparm_tap_acct_count {
+   #define PEF_SERIAL_TAP_ACCT_COUNT_MASK 0x0f
+   	uint8_t data1;
+ ! } __attribute__ ((packed));
+   
+   struct pef_serial_cfgparm_tap_acct_info {
+   	uint8_t data1;
+   #define PEF_SERIAL_TAP_ACCT_INFO_DIAL_STRING_ID_MASK 0xf0
+   #define PEF_SERIAL_TAP_ACCT_INFO_DIAL_STRING_ID_SHIFT 4
+   #define PEF_SERIAL_TAP_ACCT_INFO_SVC_SETTINGS_ID_MASK 0x0f
+   	uint8_t data2;
+ ! } __attribute__ ((packed));
+   
+   struct pef_serial_cfgparm_tap_svc_settings {
+   	uint8_t data1;
+   #define PEF_SERIAL_TAP_CONFIRMATION_ACK_AFTER_ETX 0x0
+ --- 792,853 ----
+   	{NULL}
+   }	};
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_serial_cfgparm_dial_string_count {
+   #define PEF_SERIAL_DIAL_STRING_COUNT_MASK 0x0f
+   	uint8_t data1;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_serial_cfgparm_dial_string {
+   #define PEF_SERIAL_DIAL_STRING_MASK 0x0f
+   	uint8_t data1;
+   	uint8_t data2;
+   	uint8_t data3;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_serial_cfgparm_tap_acct_count {
+   #define PEF_SERIAL_TAP_ACCT_COUNT_MASK 0x0f
+   	uint8_t data1;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_serial_cfgparm_tap_acct_info {
+   	uint8_t data1;
+   #define PEF_SERIAL_TAP_ACCT_INFO_DIAL_STRING_ID_MASK 0xf0
+   #define PEF_SERIAL_TAP_ACCT_INFO_DIAL_STRING_ID_SHIFT 4
+   #define PEF_SERIAL_TAP_ACCT_INFO_SVC_SETTINGS_ID_MASK 0x0f
+   	uint8_t data2;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct pef_serial_cfgparm_tap_svc_settings {
+   	uint8_t data1;
+   #define PEF_SERIAL_TAP_CONFIRMATION_ACK_AFTER_ETX 0x0
+ ***************
+ *** 658,664 ****
+   	uint8_t escape_mask[4];
+   	uint8_t timeout_parms[3];
+   	uint8_t retry_parms[2];
+ ! } __attribute__ ((packed));
+   
+   static struct bit_desc_map
+   pef_b2s_tap_svc_confirm __attribute__((unused)) = {
+ --- 858,868 ----
+   	uint8_t escape_mask[4];
+   	uint8_t timeout_parms[3];
+   	uint8_t retry_parms[2];
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   static struct bit_desc_map
+   pef_b2s_tap_svc_confirm __attribute__((unused)) = {
+ ***************
+ *** 670,675 ****
+ --- 874,882 ----
+   }	};
+   
+   #if 0		/* FYI : config parm groupings */
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   	struct pef_config_parms {								/* PEF */
+   		struct pef_cfgparm_set_in_progress;
+   		struct pef_cfgparm_control;
+ ***************
+ *** 685,692 ****
+   		struct pef_cfgparm_alert_string_table_size;
+   		struct pef_cfgparm_alert_string_keys;
+   		struct pef_cfgparm_alert_string_table_entry;
+ ! 	} __attribute__ ((packed));
+   
+   	struct pef_lan_config_parms {							/* LAN */
+   		struct pef_lan_cfgparm_set_in_progress;
+   		struct pef_lan_cfgparm_auth_capabilities;
+ --- 892,906 ----
+   		struct pef_cfgparm_alert_string_table_size;
+   		struct pef_cfgparm_alert_string_keys;
+   		struct pef_cfgparm_alert_string_table_entry;
+ ! 	}
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   	struct pef_lan_config_parms {							/* LAN */
+   		struct pef_lan_cfgparm_set_in_progress;
+   		struct pef_lan_cfgparm_auth_capabilities;
+ ***************
+ *** 708,715 ****
+   		struct pef_lan_cfgparm_destination_count;
+   		struct pef_lan_cfgparm_destination_type;
+   		struct pef_lan_cfgparm_destination_ipaddr;
+ ! 	} __attribute__ ((packed));
+   
+   	struct pef_serial_config_parms {						/* Serial/PPP */
+   		struct pef_serial_cfgparm_set_in_progress;
+   		struct pef_serial_cfgparm_auth_capabilities;
+ --- 922,936 ----
+   		struct pef_lan_cfgparm_destination_count;
+   		struct pef_lan_cfgparm_destination_type;
+   		struct pef_lan_cfgparm_destination_ipaddr;
+ ! 	}
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   	struct pef_serial_config_parms {						/* Serial/PPP */
+   		struct pef_serial_cfgparm_set_in_progress;
+   		struct pef_serial_cfgparm_auth_capabilities;
+ ***************
+ *** 760,766 ****
+   		struct pef_serial_cfgparm_ppp_udp_proxy_xmit_bufsize;
+   		struct pef_serial_cfgparm_ppp_udp_proxy_recv_bufsize;
+   		struct pef_serial_cfgparm_ppp_remote_console_ipaddr;
+ ! 	} __attribute__ ((packed));
+   #endif
+   
+   #define IPMI_CMD_GET_PEF_CAPABILITIES 0x10
+ --- 981,991 ----
+   		struct pef_serial_cfgparm_ppp_udp_proxy_xmit_bufsize;
+   		struct pef_serial_cfgparm_ppp_udp_proxy_recv_bufsize;
+   		struct pef_serial_cfgparm_ppp_remote_console_ipaddr;
+ ! 	}
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   #endif
+   
+   #define IPMI_CMD_GET_PEF_CAPABILITIES 0x10
+ diff -cNr ipmitool-1.8.11.orig//include/ipmitool/ipmi_picmg.h ipmitool-1.8.11/include/ipmitool/ipmi_picmg.h
+ *** ipmitool-1.8.11.orig//include/ipmitool/ipmi_picmg.h	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/include/ipmitool/ipmi_picmg.h	2012-08-06 14:16:37.455352527 -0500
+ ***************
+ *** 6,11 ****
+ --- 6,12 ----
+   #ifndef _IPMI_PICMG_H_
+   #define _IPMI_PICMG_H_
+   
+ + #include <ipmitool/helper.h>
+   #include <ipmitool/ipmi.h>
+   
+   /* PICMG commands */
+ ***************
+ *** 53,63 ****
+   #define PICMG_PMC                                  0x08
+   #define PICMG_RTM                                  0x09
+   
+   struct picmg_set_fru_activation_cmd {
+      unsigned char  picmg_id;      /* always 0*/
+      unsigned char  fru_id;        /* threshold setting mask */
+      unsigned char  fru_state;     /* fru activation/deactivation */
+ ! } __attribute__ ((packed));
+   
+   /* the LED color capabilities */
+   static const char* led_color_str[] __attribute__((unused)) = {
+ --- 54,71 ----
+   #define PICMG_PMC                                  0x08
+   #define PICMG_RTM                                  0x09
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct picmg_set_fru_activation_cmd {
+      unsigned char  picmg_id;      /* always 0*/
+      unsigned char  fru_id;        /* threshold setting mask */
+      unsigned char  fru_state;     /* fru activation/deactivation */
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   /* the LED color capabilities */
+   static const char* led_color_str[] __attribute__((unused)) = {
+ diff -cNr ipmitool-1.8.11.orig//include/ipmitool/ipmi_sdr.h ipmitool-1.8.11/include/ipmitool/ipmi_sdr.h
+ *** ipmitool-1.8.11.orig//include/ipmitool/ipmi_sdr.h	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/include/ipmitool/ipmi_sdr.h	2012-08-06 14:16:37.423353419 -0500
+ ***************
+ *** 37,42 ****
+ --- 37,43 ----
+   # include <config.h>
+   #endif
+   
+ + #include <ipmitool/helper.h>
+   #include <inttypes.h>
+   #include <math.h>
+   #include <ipmitool/bswap.h>
+ ***************
+ *** 105,110 ****
+ --- 106,114 ----
+   #define GET_SENSOR_READING      0x2d
+   #define GET_SENSOR_TYPE         0x2f
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct sdr_repo_info_rs {
+   	uint8_t version;	/* SDR version (51h) */
+   	uint16_t count;		/* number of records */
+ ***************
+ *** 112,140 ****
+   	uint32_t add_stamp;	/* last add timestamp */
+   	uint32_t erase_stamp;	/* last del timestamp */
+   	uint8_t op_support;	/* supported operations */
+ ! } __attribute__ ((packed));
+   
+   /* builtin (device) sdrs support */
+   struct sdr_device_info_rs {
+   	unsigned char count;	/* number of records */
+   	unsigned char flags;	/* flags */
+   	unsigned char popChangeInd[3];	/* free space in SDR */
+ ! } __attribute__ ((packed));
+   
+   #define GET_SDR_RESERVE_REPO	0x22
+   struct sdr_reserve_repo_rs {
+   	uint16_t reserve_id;	/* reservation ID */
+ ! } __attribute__ ((packed));
+   
+   #define GET_SDR		0x23
+   struct sdr_get_rq {
+   	uint16_t reserve_id;	/* reservation ID */
+   	uint16_t id;		/* record ID */
+   	uint8_t offset;		/* offset into SDR */
+   #define GET_SDR_ENTIRE_RECORD	0xff
+   	uint8_t length;		/* length to read */
+ ! } __attribute__ ((packed));
+   
+   struct sdr_get_rs {
+   	uint16_t next;		/* next record id */
+   	uint16_t id;		/* record ID */
+ --- 116,172 ----
+   	uint32_t add_stamp;	/* last add timestamp */
+   	uint32_t erase_stamp;	/* last del timestamp */
+   	uint8_t op_support;	/* supported operations */
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   /* builtin (device) sdrs support */
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct sdr_device_info_rs {
+   	unsigned char count;	/* number of records */
+   	unsigned char flags;	/* flags */
+   	unsigned char popChangeInd[3];	/* free space in SDR */
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   #define GET_SDR_RESERVE_REPO	0x22
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct sdr_reserve_repo_rs {
+   	uint16_t reserve_id;	/* reservation ID */
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   #define GET_SDR		0x23
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct sdr_get_rq {
+   	uint16_t reserve_id;	/* reservation ID */
+   	uint16_t id;		/* record ID */
+   	uint8_t offset;		/* offset into SDR */
+   #define GET_SDR_ENTIRE_RECORD	0xff
+   	uint8_t length;		/* length to read */
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct sdr_get_rs {
+   	uint16_t next;		/* next record id */
+   	uint16_t id;		/* record ID */
+ ***************
+ *** 152,159 ****
+   #define SDR_RECORD_TYPE_OEM			0xc0
+   	uint8_t type;		/* record type */
+   	uint8_t length;		/* remaining record bytes */
+ ! } __attribute__ ((packed));
+   
+   struct sdr_record_mask {
+   	union {
+   		struct {
+ --- 184,198 ----
+   #define SDR_RECORD_TYPE_OEM			0xc0
+   	uint8_t type;		/* record type */
+   	uint8_t length;		/* remaining record bytes */
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct sdr_record_mask {
+   	union {
+   		struct {
+ ***************
+ *** 280,287 ****
+   			};
+   		} threshold;
+   	} type;
+ ! } __attribute__ ((packed));
+   
+   struct sdr_record_compact_sensor {
+   	struct {
+   		uint8_t owner_id;
+ --- 319,333 ----
+   			};
+   		} threshold;
+   	} type;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct sdr_record_compact_sensor {
+   	struct {
+   		uint8_t owner_id;
+ ***************
+ *** 391,398 ****
+   	uint8_t oem;		/* reserved for OEM use */
+   	uint8_t id_code;	/* sensor ID string type/length code */
+   	uint8_t id_string[16];	/* sensor ID string bytes, only if id_code != 0 */
+ ! } __attribute__ ((packed));
+   
+   struct sdr_record_eventonly_sensor {
+   	struct {
+   		uint8_t owner_id;
+ --- 437,451 ----
+   	uint8_t oem;		/* reserved for OEM use */
+   	uint8_t id_code;	/* sensor ID string type/length code */
+   	uint8_t id_string[16];	/* sensor ID string bytes, only if id_code != 0 */
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct sdr_record_eventonly_sensor {
+   	struct {
+   		uint8_t owner_id;
+ ***************
+ *** 437,444 ****
+   	uint8_t id_code;	/* sensor ID string type/length code */
+   	uint8_t id_string[16];	/* sensor ID string bytes, only if id_code != 0 */
+   
+ ! } __attribute__ ((packed));
+   
+   struct sdr_record_full_sensor {
+   	struct {
+   		uint8_t owner_id;
+ --- 490,504 ----
+   	uint8_t id_code;	/* sensor ID string type/length code */
+   	uint8_t id_string[16];	/* sensor ID string bytes, only if id_code != 0 */
+   
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct sdr_record_full_sensor {
+   	struct {
+   		uint8_t owner_id;
+ ***************
+ *** 576,583 ****
+   	uint8_t oem;		/* reserved for OEM use */
+   	uint8_t id_code;	/* sensor ID string type/length code */
+   	uint8_t id_string[16];	/* sensor ID string bytes, only if id_code != 0 */
+ ! } __attribute__ ((packed));
+   
+   struct sdr_record_mc_locator {
+   	uint8_t dev_slave_addr;
+   #if WORDS_BIGENDIAN
+ --- 636,650 ----
+   	uint8_t oem;		/* reserved for OEM use */
+   	uint8_t id_code;	/* sensor ID string type/length code */
+   	uint8_t id_string[16];	/* sensor ID string bytes, only if id_code != 0 */
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct sdr_record_mc_locator {
+   	uint8_t dev_slave_addr;
+   #if WORDS_BIGENDIAN
+ ***************
+ *** 602,609 ****
+   	uint8_t oem;
+   	uint8_t id_code;
+   	uint8_t id_string[16];
+ ! } __attribute__ ((packed));
+   
+   struct sdr_record_fru_locator {
+   	uint8_t dev_slave_addr;
+   	uint8_t device_id;
+ --- 669,683 ----
+   	uint8_t oem;
+   	uint8_t id_code;
+   	uint8_t id_string[16];
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct sdr_record_fru_locator {
+   	uint8_t dev_slave_addr;
+   	uint8_t device_id;
+ ***************
+ *** 632,639 ****
+   	uint8_t oem;
+   	uint8_t id_code;
+   	uint8_t id_string[16];
+ ! } __attribute__ ((packed));
+   
+   struct sdr_record_generic_locator {
+   	uint8_t dev_access_addr;
+   	uint8_t dev_slave_addr;
+ --- 706,720 ----
+   	uint8_t oem;
+   	uint8_t id_code;
+   	uint8_t id_string[16];
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct sdr_record_generic_locator {
+   	uint8_t dev_access_addr;
+   	uint8_t dev_slave_addr;
+ ***************
+ *** 660,667 ****
+   	uint8_t oem;
+   	uint8_t id_code;
+   	uint8_t id_string[16];
+ ! } __attribute__ ((packed));
+   
+   struct sdr_record_entity_assoc {
+   	struct entity_id entity;	/* container entity ID and instance */
+   	struct {
+ --- 741,755 ----
+   	uint8_t oem;
+   	uint8_t id_code;
+   	uint8_t id_string[16];
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct sdr_record_entity_assoc {
+   	struct entity_id entity;	/* container entity ID and instance */
+   	struct {
+ ***************
+ *** 685,691 ****
+   	uint8_t entity_inst_3;	/* entity inst 3  |  range 2 first instance */
+   	uint8_t entity_id_4;	/* entity ID 4    |  range 2 entity */
+   	uint8_t entity_inst_4;	/* entity inst 4  |  range 2 last instance */
+ ! } __attribute__ ((packed));
+   
+   struct sdr_record_oem {
+   	uint8_t *data;
+ --- 773,783 ----
+   	uint8_t entity_inst_3;	/* entity inst 3  |  range 2 first instance */
+   	uint8_t entity_id_4;	/* entity ID 4    |  range 2 entity */
+   	uint8_t entity_inst_4;	/* entity inst 4  |  range 2 last instance */
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   struct sdr_record_oem {
+   	uint8_t *data;
+ ***************
+ *** 696,701 ****
+ --- 788,796 ----
+    * The Get SDR Repository Info response structure
+    * From table 33-3 of the IPMI v2.0 spec
+    */
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct get_sdr_repository_info_rsp {
+   	uint8_t sdr_version;
+   	uint8_t record_count_lsb;
+ ***************
+ *** 720,726 ****
+   	uint8_t modal_update_support:2;
+   	uint8_t overflow_flag:1;
+   #endif
+ ! } __attribute__ ((packed));
+   
+   struct ipmi_sdr_iterator {
+   	uint16_t reservation;
+ --- 815,825 ----
+   	uint8_t modal_update_support:2;
+   	uint8_t overflow_flag:1;
+   #endif
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   struct ipmi_sdr_iterator {
+   	uint16_t reservation;
+ diff -cNr ipmitool-1.8.11.orig//include/ipmitool/ipmi_sel.h ipmitool-1.8.11/include/ipmitool/ipmi_sel.h
+ *** ipmitool-1.8.11.orig//include/ipmitool/ipmi_sel.h	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/include/ipmitool/ipmi_sel.h	2012-08-06 14:16:37.471352083 -0500
+ ***************
+ *** 34,39 ****
+ --- 34,40 ----
+   #define IPMI_SEL_H
+   
+   #include <inttypes.h>
+ + #include <ipmitool/helper.h>
+   #include <ipmitool/ipmi.h>
+   #include <ipmitool/ipmi_sdr.h>
+   
+ ***************
+ *** 57,68 ****
+   	IPMI_EVENT_CLASS_OEM,
+   };
+   
+   struct sel_get_rq {
+   	uint16_t	reserve_id;
+   	uint16_t	record_id;
+   	uint8_t	offset;
+   	uint8_t	length;
+ ! } __attribute__ ((packed));
+   
+   struct standard_spec_sel_rec{
+   	uint32_t	timestamp;
+ --- 58,76 ----
+   	IPMI_EVENT_CLASS_OEM,
+   };
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct sel_get_rq {
+   	uint16_t	reserve_id;
+   	uint16_t	record_id;
+   	uint8_t	offset;
+   	uint8_t	length;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   struct standard_spec_sel_rec{
+   	uint32_t	timestamp;
+ ***************
+ *** 95,100 ****
+ --- 103,111 ----
+   	uint8_t oem_defined[SEL_OEM_NOTS_DATA_LEN];
+   };
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct sel_event_record {
+   	uint16_t	record_id;
+   	uint8_t	record_type;
+ ***************
+ *** 103,109 ****
+   		struct oem_ts_spec_sel_rec oem_ts_type;
+   		struct oem_nots_spec_sel_rec oem_nots_type;
+   	} sel_type;
+ ! } __attribute__ ((packed));
+   
+   struct ipmi_event_sensor_types {
+   	uint8_t	code;
+ --- 114,124 ----
+   		struct oem_ts_spec_sel_rec oem_ts_type;
+   		struct oem_nots_spec_sel_rec oem_nots_type;
+   	} sel_type;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   struct ipmi_event_sensor_types {
+   	uint8_t	code;
+ diff -cNr ipmitool-1.8.11.orig//include/ipmitool/ipmi_sensor.h ipmitool-1.8.11/include/ipmitool/ipmi_sensor.h
+ *** ipmitool-1.8.11.orig//include/ipmitool/ipmi_sensor.h	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/include/ipmitool/ipmi_sensor.h	2012-08-06 14:16:37.463352305 -0500
+ ***************
+ *** 34,39 ****
+ --- 34,40 ----
+   #define IPMI_SENSOR_H
+   
+   #include <math.h>
+ + #include <ipmitool/helper.h>
+   #include <ipmitool/bswap.h>
+   #include <ipmitool/ipmi.h>
+   #include <ipmitool/ipmi_sdr.h>
+ ***************
+ *** 65,70 ****
+ --- 66,74 ----
+   #define STATE_13_ASSERTED  0x20
+   #define STATE_14_ASSERTED  0x40
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct sensor_set_thresh_rq {
+   	uint8_t	sensor_num;     	/* sensor # */
+   	uint8_t	set_mask;       	/* threshold setting mask */
+ ***************
+ *** 74,80 ****
+   	uint8_t	upper_non_crit;	        /* new upper non critical threshold*/
+   	uint8_t	upper_crit;	        /* new upper critical threshold*/
+   	uint8_t	upper_non_recov;	/* new upper non recoverable threshold*/
+ ! } __attribute__ ((packed));
+   
+   
+   int ipmi_sensor_main(struct ipmi_intf *, int, char **);
+ --- 78,88 ----
+   	uint8_t	upper_non_crit;	        /* new upper non critical threshold*/
+   	uint8_t	upper_crit;	        /* new upper critical threshold*/
+   	uint8_t	upper_non_recov;	/* new upper non recoverable threshold*/
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   
+   int ipmi_sensor_main(struct ipmi_intf *, int, char **);
+ diff -cNr ipmitool-1.8.11.orig//include/ipmitool/ipmi_session.h ipmitool-1.8.11/include/ipmitool/ipmi_session.h
+ *** ipmitool-1.8.11.orig//include/ipmitool/ipmi_session.h	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/include/ipmitool/ipmi_session.h	2012-08-06 14:16:37.411353752 -0500
+ ***************
+ *** 36,41 ****
+ --- 36,42 ----
+   #if HAVE_CONFIG_H
+   # include <config.h>
+   #endif
+ + #include <ipmitool/helper.h>
+   #include <ipmitool/ipmi.h>
+   
+   #define IPMI_GET_SESSION_INFO 0x3D
+ ***************
+ *** 43,48 ****
+ --- 44,52 ----
+   /*
+    * From table 22.25 of the IPMIv2 specification
+    */
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct get_session_info_rsp
+   {
+   	uint8_t session_handle;
+ ***************
+ *** 116,122 ****
+   			uint16_t console_port;        /* LSBF */
+   		} modem_data;
+   	} channel_data;
+ ! } __attribute__ ((packed));
+   
+   
+   
+ --- 120,130 ----
+   			uint16_t console_port;        /* LSBF */
+   		} modem_data;
+   	} channel_data;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   
+   
+ diff -cNr ipmitool-1.8.11.orig//include/ipmitool/ipmi_sol.h ipmitool-1.8.11/include/ipmitool/ipmi_sol.h
+ *** ipmitool-1.8.11.orig//include/ipmitool/ipmi_sol.h	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/include/ipmitool/ipmi_sol.h	2012-08-06 14:16:37.451352638 -0500
+ ***************
+ *** 33,38 ****
+ --- 33,39 ----
+   #ifndef IPMI_SOL_H
+   #define IPMI_SOL_H
+   
+ + #include <ipmitool/helper.h>
+   #include <ipmitool/ipmi.h>
+   
+   #define SOL_ESCAPE_CHARACTER_DEFAULT        '~'
+ ***************
+ *** 67,74 ****
+    * The ACTIVATE PAYLOAD command reponse structure
+    * From table 24-2 of the IPMI v2.0 spec
+    */
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct activate_payload_rsp {
+   	uint8_t auxiliary_data[4];
+ --- 68,75 ----
+    * The ACTIVATE PAYLOAD command reponse structure
+    * From table 24-2 of the IPMI v2.0 spec
+    */
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct activate_payload_rsp {
+   	uint8_t auxiliary_data[4];
+ ***************
+ *** 76,84 ****
+   	uint8_t outbound_payload_size[2]; /* LS byte first */
+   	uint8_t payload_udp_port[2];      /* LS byte first */
+   	uint8_t payload_vlan_number[2];   /* LS byte first */
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+   /*
+ --- 77,85 ----
+   	uint8_t outbound_payload_size[2]; /* LS byte first */
+   	uint8_t payload_udp_port[2];      /* LS byte first */
+   	uint8_t payload_vlan_number[2];   /* LS byte first */
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+   /*
+ diff -cNr ipmitool-1.8.11.orig//include/ipmitool/ipmi_user.h ipmitool-1.8.11/include/ipmitool/ipmi_user.h
+ *** ipmitool-1.8.11.orig//include/ipmitool/ipmi_user.h	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/include/ipmitool/ipmi_user.h	2012-08-06 14:16:37.443352862 -0500
+ ***************
+ *** 36,47 ****
+ --- 36,51 ----
+   #if HAVE_CONFIG_H
+   # include <config.h>
+   #endif
+ + #include <ipmitool/helper.h>
+   #include <ipmitool/ipmi.h>
+   
+   
+   /*
+    * The GET USER ACCESS response from table 22-32 of the IPMI v2.0 spec
+    */
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct user_access_rsp {
+   #if WORDS_BIGENDIAN
+   	uint8_t __reserved1 : 2;
+ ***************
+ *** 80,86 ****
+   	uint8_t no_callin_access        : 1;
+   	uint8_t __reserved4             : 1;
+   #endif
+ ! } __attribute__ ((packed));
+   
+   
+   
+ --- 84,94 ----
+   	uint8_t no_callin_access        : 1;
+   	uint8_t __reserved4             : 1;
+   #endif
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   
+   
+ diff -cNr ipmitool-1.8.11.orig//lib/helper.c ipmitool-1.8.11/lib/helper.c
+ *** ipmitool-1.8.11.orig//lib/helper.c	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/lib/helper.c	2012-08-06 15:26:39.445082977 -0500
+ ***************
+ *** 426,432 ****
+   		exit(0);
+   #endif
+   
+ ! 	chdir("/");
+   	umask(0);
+   
+   	for (fd=0; fd<64; fd++) {
+ --- 426,433 ----
+   		exit(0);
+   #endif
+   
+ ! 	if ( chdir("/") )
+ ! 		exit(1);
+   	umask(0);
+   
+   	for (fd=0; fd<64; fd++) {
+ ***************
+ *** 435,440 ****
+   	}
+   
+   	open("/dev/null", O_RDWR);
+ ! 	dup(0);
+ ! 	dup(0);
+   }
+ --- 436,441 ----
+   	}
+   
+   	open("/dev/null", O_RDWR);
+ ! 	if ( dup(0) || dup(0) )
+ ! 		exit(1);
+   }
+ diff -cNr ipmitool-1.8.11.orig//lib/ipmi_chassis.c ipmitool-1.8.11/lib/ipmi_chassis.c
+ *** ipmitool-1.8.11.orig//lib/ipmi_chassis.c	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/lib/ipmi_chassis.c	2012-08-06 15:50:27.490665826 -0500
+ ***************
+ *** 222,231 ****
+      minutes -= hours * 60;
+   
+      if (mins_per_count < 60) {
+ !        printf("POH Counter  : %li days, %li hours, %li minutes\n",
+                  days, hours, (long)minutes);
+      } else {
+ !        printf("POH Counter  : %li days, %li hours\n", days, hours);
+      }
+   
+      return 0;
+ --- 222,231 ----
+      minutes -= hours * 60;
+   
+      if (mins_per_count < 60) {
+ !        printf("POH Counter  : %"PRIi32" days, %"PRIi32" hours, %li minutes\n",
+                  days, hours, (long)minutes);
+      } else {
+ !        printf("POH Counter  : %"PRIi32" days, %"PRIi32" hours\n", days, hours);
+      }
+   
+      return 0;
+ ***************
+ *** 714,727 ****
+   
+            printf(" Boot Initiator Info :\n");
+            printf("    Channel Number : %d\n", (rsp->data[2] & 0x0f));
+ !          printf("    Session Id     : %08Xh\n",session_id);
+            if(timestamp != 0)
+            {
+ !             printf("    Timestamp      : %08Xh, %s\n",timestamp,time_buf);
+            }
+            else
+            {
+ !             printf("    Timestamp      : %08Xh, undefined\n",timestamp);
+            }
+   
+         }
+ --- 714,727 ----
+   
+            printf(" Boot Initiator Info :\n");
+            printf("    Channel Number : %d\n", (rsp->data[2] & 0x0f));
+ !          printf("    Session Id     : %08lXh\n",session_id);
+            if(timestamp != 0)
+            {
+ !             printf("    Timestamp      : %08lXh, %s\n",timestamp,time_buf);
+            }
+            else
+            {
+ !             printf("    Timestamp      : %08lXh, undefined\n",timestamp);
+            }
+   
+         }
+ diff -cNr ipmitool-1.8.11.orig//lib/ipmi_ekanalyzer.c ipmitool-1.8.11/lib/ipmi_ekanalyzer.c
+ *** ipmitool-1.8.11.orig//lib/ipmi_ekanalyzer.c	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/lib/ipmi_ekanalyzer.c	2012-08-06 15:49:17.156428741 -0500
+ ***************
+ *** 2332,2339 ****
+         return_status = ERROR_STATUS;
+      }
+      else{
+ !       if ( !feof (input_file) ){
+ !          fread ( &header, sizeof (struct fru_header), 1, input_file );
+            printf("%s\n", EQUAL_LINE_LIMITER);
+            printf("FRU Header Info\n");
+            printf("%s\n", EQUAL_LINE_LIMITER);
+ --- 2332,2339 ----
+         return_status = ERROR_STATUS;
+      }
+      else{
+ !       if ( !feof (input_file) &&
+ !          1 == fread ( &header, sizeof (struct fru_header), 1, input_file ) ) {
+            printf("%s\n", EQUAL_LINE_LIMITER);
+            printf("FRU Header Info\n");
+            printf("%s\n", EQUAL_LINE_LIMITER);
+ ***************
+ *** 2394,2401 ****
+         */
+         #define FACTOR_OFFSET   8
+   
+ !       if ( !feof (input_file) ){
+ !          fread ( &header, sizeof( struct fru_header ), 1, input_file );
+         }
+         else{
+            lprintf(LOG_ERR, "Invalid FRU header!");
+ --- 2394,2401 ----
+         */
+         #define FACTOR_OFFSET   8
+   
+ !       if ( !feof (input_file) && 1 ==
+ !          fread ( &header, sizeof( struct fru_header ), 1, input_file ) ) {
+         }
+         else{
+            lprintf(LOG_ERR, "Invalid FRU header!");
+ ***************
+ *** 2409,2416 ****
+            printf("FRU Internal Use Info\n");
+            printf("%s\n", EQUAL_LINE_LIMITER);
+   
+ !          fread ( &format_version, 1, 1, input_file );
+ !          printf("Format Version: %d\n", (format_version & 0x0f) );
+   
+            if ( header.offset.chassis > 0 ){
+               len = (header.offset.chassis * FACTOR_OFFSET)
+ --- 2409,2416 ----
+            printf("FRU Internal Use Info\n");
+            printf("%s\n", EQUAL_LINE_LIMITER);
+   
+ !          if ( 1 == fread ( &format_version, 1, 1, input_file ) )
+ !          	printf("Format Version: %d\n", (format_version & 0x0f) );
+   
+            if ( header.offset.chassis > 0 ){
+               len = (header.offset.chassis * FACTOR_OFFSET)
+ ***************
+ *** 2420,2431 ****
+               len = (header.offset.board * FACTOR_OFFSET)
+                     - (header.offset.internal * FACTOR_OFFSET);
+            }
+ !          printf("Length: %d\n", len);
+            printf("Data dump:\n");
+            while ( (len > 0) && ( !feof (input_file) ) ) {
+               unsigned char data;
+ !             fread ( &data, 1, 1, input_file );
+ !             printf("0x%02x ", data);
+               len --;
+            }
+            printf("\n");
+ --- 2420,2431 ----
+               len = (header.offset.board * FACTOR_OFFSET)
+                     - (header.offset.internal * FACTOR_OFFSET);
+            }
+ !          printf("Length: %ld\n", len);
+            printf("Data dump:\n");
+            while ( (len > 0) && ( !feof (input_file) ) ) {
+               unsigned char data;
+ !             if ( 1 == fread ( &data, 1, 1, input_file ) )
+ !             	printf("0x%02x ", data);
+               len --;
+            }
+            printf("\n");
+ ***************
+ *** 2449,2458 ****
+               printf("FRU Board Info Area\n");
+               printf("%s\n", EQUAL_LINE_LIMITER);
+   
+ !             fread ( &data, 1, 1, input_file ); /* Format version */
+ !             printf("Format Version: %d\n", (data & 0x0f));
+ !             if ( !feof(input_file) ){
+ !                fread ( &data, 1, 1, input_file ); /* Board Area Length */
+                  board_length = (data * FACTOR_OFFSET);
+                  printf("Area Length: %d\n", board_length);
+                  /* Decrease the length of board area by 1 byte of format version
+ --- 2449,2458 ----
+               printf("FRU Board Info Area\n");
+               printf("%s\n", EQUAL_LINE_LIMITER);
+   
+ !             if ( 1 == fread ( &data, 1, 1, input_file ) ) /* Format version */
+ !             	printf("Format Version: %d\n", (data & 0x0f));
+ !             if ( !feof(input_file) && 1 == 
+ !                fread ( &data, 1, 1, input_file ) ) { /* Board Area Length */
+                  board_length = (data * FACTOR_OFFSET);
+                  printf("Area Length: %d\n", board_length);
+                  /* Decrease the length of board area by 1 byte of format version
+ ***************
+ *** 2463,2470 ****
+               }
+               if ( !feof(input_file) ){
+                  unsigned char lan_code;
+ !                fread ( &lan_code, 1, 1, input_file ); /* Language Code */
+ !                printf("Language Code: %d\n", lan_code );
+                  board_length --;
+               }
+               /* Board Mfg Date */
+ --- 2463,2470 ----
+               }
+               if ( !feof(input_file) ){
+                  unsigned char lan_code;
+ !                if ( 1 == fread ( &lan_code, 1, 1, input_file ) ) /* Language Code */
+ !                	printf("Language Code: %d\n", lan_code );
+                  board_length --;
+               }
+               /* Board Mfg Date */
+ ***************
+ *** 2473,2484 ****
+                  time_t tval;
+                  unsigned char mfg_date[SIZE_MFG_DATE];
+   
+ !                fread ( mfg_date, SIZE_MFG_DATE, 1, input_file );
+ !                tval=((mfg_date[2] << 16) + (mfg_date[1] << 8) + (mfg_date[0]));
+ !                tval = tval * 60;
+ !                tval = tval + secs_from_1970_1996;
+ !                printf("Board Mfg Date: %ld, %s", tval,
+ !                                     asctime(localtime(&tval)));
+                  board_length -= SIZE_MFG_DATE;
+   
+                  /* Board Mfg */
+ --- 2473,2485 ----
+                  time_t tval;
+                  unsigned char mfg_date[SIZE_MFG_DATE];
+   
+ ! 			   if ( 1 == fread ( mfg_date, SIZE_MFG_DATE, 1, input_file ) ) {
+ ! 				   tval=((mfg_date[2] << 16) + (mfg_date[1] << 8) + (mfg_date[0]));
+ ! 				   tval = tval * 60;
+ ! 				   tval = tval + secs_from_1970_1996;
+ ! 				   printf("Board Mfg Date: %ld, %s", tval,
+ ! 						   asctime(localtime(&tval)));
+ ! 			   }
+                  board_length -= SIZE_MFG_DATE;
+   
+                  /* Board Mfg */
+ ***************
+ *** 2552,2561 ****
+            unsigned char data = 0;
+            unsigned int len = 0;
+   
+ !          fread (&data, 1, 1, input_file);
+ !          printf("Format Version Number: %d\n", (data & 0x0f) );
+ !          if ( !feof(input_file) ){
+ !             fread (&len, 1, 1, input_file);
+               /* len is in factor of 8 bytes */
+               len = len * 8;
+               printf("Area Length: %d\n", len);
+ --- 2553,2562 ----
+            unsigned char data = 0;
+            unsigned int len = 0;
+   
+ !          if ( 1 == fread (&data, 1, 1, input_file) ) 
+ !          	printf("Format Version Number: %d\n", (data & 0x0f) );
+ !          if ( !feof(input_file) && 1 ==
+ !             fread (&len, 1, 1, input_file) ) {
+               /* len is in factor of 8 bytes */
+               len = len * 8;
+               printf("Area Length: %d\n", len);
+ ***************
+ *** 2565,2571 ****
+               unsigned char ch_type = 0;
+               size_t file_offset = ftell (input_file);
+               /* Chassis Type*/
+ !             fread (&ch_type, 1, 1, input_file);
+               printf("Chassis Type: %d\n", ch_type);
+               len --;
+               /* Chassis Part Number*/
+ --- 2566,2572 ----
+               unsigned char ch_type = 0;
+               size_t file_offset = ftell (input_file);
+               /* Chassis Type*/
+ !             if ( 1 == fread (&ch_type, 1, 1, input_file))
+               printf("Chassis Type: %d\n", ch_type);
+               len --;
+               /* Chassis Part Number*/
+ ***************
+ *** 2616,2625 ****
+      size_t file_offset = ftell (input_file);
+      unsigned char len = 0;
+      /* Board length*/
+ !    if ( !feof(input_file) ){
+ !       fread ( &len, 1, 1, input_file );
+         (*board_length)--;
+ -    }
+      /* Board Data */
+      if ( !feof(input_file) ){
+         unsigned int size_board = 0;
+ --- 2617,2625 ----
+      size_t file_offset = ftell (input_file);
+      unsigned char len = 0;
+      /* Board length*/
+ !    if ( !feof(input_file) && 1 ==
+ !       fread ( &len, 1, 1, input_file ) ) {
+         (*board_length)--;
+      /* Board Data */
+      if ( !feof(input_file) ){
+         unsigned int size_board = 0;
+ ***************
+ *** 2637,2643 ****
+                        int i=0;
+                        additional_data = malloc (size_board);
+                        if (additional_data != NULL){
+ !                         fread ( additional_data, size_board, 1, input_file );
+                           printf("Additional Custom Mfg. Data: %02x",
+                                          additional_data[0]);
+                           for ( i =1; i<size_board; i++){
+ --- 2637,2643 ----
+                        int i=0;
+                        additional_data = malloc (size_board);
+                        if (additional_data != NULL){
+ !                         if ( 1 == fread ( additional_data, size_board, 1, input_file ))
+                           printf("Additional Custom Mfg. Data: %02x",
+                                          additional_data[0]);
+                           for ( i =1; i<size_board; i++){
+ ***************
+ *** 2666,2672 ****
+                     }
+                     if ( !feof(input_file) ){
+                        unsigned char checksum = 0;
+ !                      fread ( &checksum, 1, 1, input_file );
+                        printf("Checksum: 0x%02x\n", checksum);
+   
+                     }
+ --- 2666,2672 ----
+                     }
+                     if ( !feof(input_file) ){
+                        unsigned char checksum = 0;
+ !                      if ( 1 == fread ( &checksum, 1, 1, input_file ))
+                        printf("Checksum: 0x%02x\n", checksum);
+   
+                     }
+ ***************
+ *** 2679,2685 ****
+               #define TYPE_CODE 0xc0 /*Language code*/
+   
+               data = malloc (size_board);
+ !             fread ( data, size_board, 1, input_file );
+               printf("%s type: 0x%02x\n", board_type, len);
+               printf("%s: ", board_type);
+               for ( i = 0; i < size_board; i++ ){
+ --- 2679,2685 ----
+               #define TYPE_CODE 0xc0 /*Language code*/
+   
+               data = malloc (size_board);
+ !             if ( 1 == fread ( data, size_board, 1, input_file )) {
+               printf("%s type: 0x%02x\n", board_type, len);
+               printf("%s: ", board_type);
+               for ( i = 0; i < size_board; i++ ){
+ ***************
+ *** 2693,2698 ****
+ --- 2693,2699 ----
+                  }
+               }
+               printf("\n");
+ + 			}
+               free (data);
+               (*board_length) -= size_board;
+               file_offset = ftell (input_file);
+ ***************
+ *** 2703,2708 ****
+ --- 2704,2710 ----
+            file_offset = ftell (input_file);
+         }
+      }
+ +    }
+   
+      return file_offset;
+   }
+ ***************
+ *** 2740,2749 ****
+            unsigned char data = 0;
+            unsigned int len = 0;
+   
+ !          fread (&data, 1, 1, input_file);
+ !          printf("Format Version Number: %d\n", (data & 0x0f) );
+ !          if ( !feof(input_file) ){
+ !             fread (&len, 1, 1, input_file);
+               /* length is in factor of 8 bytes */
+               len = len * 8;
+               printf("Area Length: %d\n", len);
+ --- 2742,2751 ----
+            unsigned char data = 0;
+            unsigned int len = 0;
+   
+ !          if ( 1 == fread (&data, 1, 1, input_file))
+ !          	printf("Format Version Number: %d\n", (data & 0x0f) );
+ !          if ( !feof(input_file)  && 1 ==
+ !             fread (&len, 1, 1, input_file)) {
+               /* length is in factor of 8 bytes */
+               len = len * 8;
+               printf("Area Length: %d\n", len);
+ ***************
+ *** 2752,2758 ****
+            if ( !feof(input_file) ){
+               size_t file_offset = ftell (input_file);
+   
+ !             fread (&data, 1, 1, input_file);
+               printf("Language Code: %d\n", data);
+               len --;
+               /* Product Mfg */
+ --- 2754,2760 ----
+            if ( !feof(input_file) ){
+               size_t file_offset = ftell (input_file);
+   
+ !             if ( 1 == fread (&data, 1, 1, input_file))
+               printf("Language Code: %d\n", data);
+               len --;
+               /* Product Mfg */
+ ***************
+ *** 3071,3077 ****
+         max_int = record->data[offset+0] | (record->data[offset+1]<<8);
+         printf("   Max Internal Current:\t   %ld Amps\n", (max_int*10));
+         offset += 2;
+ !       printf("   Min Expected Operating Voltage: %ld Volts\n",
+                        (record->data[offset++]/2));
+         entries = record->data[offset++];
+         printf("   Feed to FRU count: 0x%02x\n", entries);
+ --- 3073,3079 ----
+         max_int = record->data[offset+0] | (record->data[offset+1]<<8);
+         printf("   Max Internal Current:\t   %ld Amps\n", (max_int*10));
+         offset += 2;
+ !       printf("   Min Expected Operating Voltage: %d Volts\n",
+                        (record->data[offset++]/2));
+         entries = record->data[offset++];
+         printf("   Feed to FRU count: 0x%02x\n", entries);
+ ***************
+ *** 3846,3852 ****
+                         (feature > 1) & 1,
+                         (feature&1)?"Source":"Receiver");
+            printf("\tFamily:  0x%02x    - AccLVL: 0x%02x\n", family, accuracy);
+ !          printf("\tFRQ: %-9d - min: %-9d - max: %-9d\n",
+                        freq, min_freq, max_freq);
+         }
+         printf("\n");
+ --- 3848,3854 ----
+                         (feature > 1) & 1,
+                         (feature&1)?"Source":"Receiver");
+            printf("\tFamily:  0x%02x    - AccLVL: 0x%02x\n", family, accuracy);
+ !          printf("\tFRQ: %-9ld - min: %-9ld - max: %-9ld\n",
+                        freq, min_freq, max_freq);
+         }
+         printf("\n");
+ ***************
+ *** 3890,3897 ****
+      else{
+         long multi_offset = 0;
+         fseek ( input_file, START_DATA_OFFSET, SEEK_SET );
+ !       fread ( &multi_offset, 1, 1, input_file );
+ !       if ( multi_offset <= 0 ){
+            lprintf(LOG_NOTICE, "There is no multi record in the file %s\n",
+                        filename);
+         }
+ --- 3892,3899 ----
+      else{
+         long multi_offset = 0;
+         fseek ( input_file, START_DATA_OFFSET, SEEK_SET );
+ !       if ( 1 == fread ( &multi_offset, 1, 1, input_file ) &&
+ !            multi_offset <= 0 ){
+            lprintf(LOG_NOTICE, "There is no multi record in the file %s\n",
+                        filename);
+         }
+ ***************
+ *** 3899,3913 ****
+            int record_count = 0;
+   
+            if ( verbose == LOG_DEBUG ){
+ !             printf( "start multi offset = 0x%02x\n", multi_offset );
+            }
+            /*the offset value is in multiple of 8 bytes.*/
+            multi_offset = multi_offset * 8;
+            fseek ( input_file, multi_offset, SEEK_SET );
+            while ( !feof( input_file ) ){
+               *list_record = malloc ( sizeof (struct ipmi_ek_multi_header) );
+ !             fread ( &(*list_record)->header, START_DATA_OFFSET, 1, input_file);
+ !             if ( (*list_record)->header.len > 0 ){
+                  (*list_record)->data =
+                         malloc ((*list_record)->header.len);
+                  if ( (*list_record)->data == NULL ){
+ --- 3901,3915 ----
+            int record_count = 0;
+   
+            if ( verbose == LOG_DEBUG ){
+ !             printf( "start multi offset = 0x%02lx\n", multi_offset );
+            }
+            /*the offset value is in multiple of 8 bytes.*/
+            multi_offset = multi_offset * 8;
+            fseek ( input_file, multi_offset, SEEK_SET );
+            while ( !feof( input_file ) ){
+               *list_record = malloc ( sizeof (struct ipmi_ek_multi_header) );
+ !             if ( 1 == fread ( &(*list_record)->header, START_DATA_OFFSET, 1, input_file)
+ !              && (*list_record)->header.len > 0 ){
+                  (*list_record)->data =
+                         malloc ((*list_record)->header.len);
+                  if ( (*list_record)->data == NULL ){
+ ***************
+ *** 3916,3923 ****
+                  else{
+                     unsigned char last_record = 0;
+   
+ !                   fread ( (*list_record)->data,
+ !                            ((*list_record)->header.len), 1, input_file);
+                     if ( verbose > 0 )
+                        printf("Record %d has length = %02x\n", record_count,
+                                  (*list_record)->header.len);
+ --- 3918,3925 ----
+                  else{
+                     unsigned char last_record = 0;
+   
+ !                   if ( 1 == fread ( (*list_record)->data,
+ !                            ((*list_record)->header.len), 1, input_file) ) {
+                     if ( verbose > 0 )
+                        printf("Record %d has length = %02x\n", record_count,
+                                  (*list_record)->header.len);
+ ***************
+ *** 3929,3934 ****
+ --- 3931,3937 ----
+                        }
+                        printf("\n");
+                     }
+ + 					}
+                     ipmi_ek_add_record2list ( list_record, list_head, list_last );
+                     /*mask the 8th bits to see if it is the last record*/
+                     last_record = ((*list_record)->header.format) & 0x80;
+ diff -cNr ipmitool-1.8.11.orig//lib/ipmi_fru.c ipmitool-1.8.11/lib/ipmi_fru.c
+ *** ipmitool-1.8.11.orig//lib/ipmi_fru.c	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/lib/ipmi_fru.c	2012-08-06 15:32:50.720832880 -0500
+ ***************
+ *** 1428,1446 ****
+   
+   	printf("Would you like to change this value <y/n> ? ");
+   
+ ! 	scanf("%c",&answer);
+ ! 
+ ! 	if( answer == 'y' || answer == 'Y' ){
+   		int i;
+   		unsigned int *holder;
+   
+   		holder = malloc(len);
+ ! 		printf("Enter hex values for each of the %d entries (lsb first),"	  \
+   				 " hit <enter> between entries\n",len);
+   
+   		/* I can't assign scanf' %x into a single char */
+   		for( i=0;i<len;i++ ){
+ ! 			scanf("%x",holder+i);
+   		}
+   		for( i=0;i<len;i++ ){
+   			data[offset++] = (unsigned char) *(holder+i);
+ --- 1428,1448 ----
+   
+   	printf("Would you like to change this value <y/n> ? ");
+   
+ ! 	if( 1 == scanf("%c",&answer) && (answer == 'y' || answer == 'Y') ){
+   		int i;
+   		unsigned int *holder;
+   
+   		holder = malloc(len);
+ ! 		printf("Enter hex values for each of the %zd entries (lsb first),"	  \
+   				 " hit <enter> between entries\n",len);
+   
+   		/* I can't assign scanf' %x into a single char */
+   		for( i=0;i<len;i++ ){
+ ! 			if ( 1 != scanf("%x",holder+i) ) {
+ ! 				printf("Invalid hex value\n");
+ ! 				free(holder);
+ ! 				return status;
+ ! 			}
+   		}
+   		for( i=0;i<len;i++ ){
+   			data[offset++] = (unsigned char) *(holder+i);
+ diff -cNr ipmitool-1.8.11.orig//lib/ipmi_fwum.c ipmitool-1.8.11/lib/ipmi_fwum.c
+ *** ipmitool-1.8.11.orig//lib/ipmi_fwum.c	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/lib/ipmi_fwum.c	2012-08-06 15:52:34.112635915 -0500
+ ***************
+ *** 479,485 ****
+   
+      if(pFileHandle)
+      {
+ !       if(fseek(pFileHandle, 0L , SEEK_END) == (unsigned int) NULL)
+         {
+            *pFileSize     =    ftell(pFileHandle);
+   
+ --- 479,485 ----
+   
+      if(pFileHandle)
+      {
+ !       if(fseek(pFileHandle, 0L , SEEK_END) == 0)
+         {
+            *pFileSize     =    ftell(pFileHandle);
+   
+ ***************
+ *** 616,623 ****
+   /******************************************************************************
+   ******************************* COMMANDS **************************************
+   ******************************************************************************/
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct KfwumGetInfoResp {
+      unsigned char protocolRevision;
+ --- 616,623 ----
+   /******************************************************************************
+   ******************************* COMMANDS **************************************
+   ******************************************************************************/
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct KfwumGetInfoResp {
+      unsigned char protocolRevision;
+ ***************
+ *** 631,639 ****
+      unsigned char firmRev1;
+      unsigned char firmRev2;
+      unsigned char numBank;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+   
+ --- 631,639 ----
+      unsigned char firmRev1;
+      unsigned char firmRev2;
+      unsigned char numBank;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+   
+ ***************
+ *** 835,842 ****
+   }
+   
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct KfwumGetStatusResp {
+      unsigned char bankState;
+ --- 835,842 ----
+   }
+   
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct KfwumGetStatusResp {
+      unsigned char bankState;
+ ***************
+ *** 846,854 ****
+      unsigned char firmRev1;
+      unsigned char firmRev2;
+      unsigned char firmRev3;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+    
+   
+ --- 846,854 ----
+      unsigned char firmRev1;
+      unsigned char firmRev2;
+      unsigned char firmRev3;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+    
+   
+ ***************
+ *** 933,946 ****
+      return status;
+   }
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct KfwumManualRollbackReq{
+      unsigned char type;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+   
+ --- 933,946 ----
+      return status;
+   }
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct KfwumManualRollbackReq{
+      unsigned char type;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+   
+ ***************
+ *** 986,993 ****
+      return status;
+   }
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct KfwumStartFirmwareDownloadReq{
+      unsigned char lengthLSB;
+ --- 986,993 ----
+      return status;
+   }
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct KfwumStartFirmwareDownloadReq{
+      unsigned char lengthLSB;
+ ***************
+ *** 996,1014 ****
+      unsigned char paddingLSB;
+      unsigned char paddingMSB;
+   	unsigned char useSequence;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct KfwumStartFirmwareDownloadResp {
+      unsigned char bank;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+   static tKFWUM_Status KfwumStartFirmwareImage(struct ipmi_intf * intf,
+ --- 996,1014 ----
+      unsigned char paddingLSB;
+      unsigned char paddingMSB;
+   	unsigned char useSequence;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct KfwumStartFirmwareDownloadResp {
+      unsigned char bank;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+   static tKFWUM_Status KfwumStartFirmwareImage(struct ipmi_intf * intf,
+ ***************
+ *** 1065,1072 ****
+      return status;
+   }
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct KfwumSaveFirmwareAddressReq
+   {
+ --- 1065,1072 ----
+      return status;
+   }
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct KfwumSaveFirmwareAddressReq
+   {
+ ***************
+ *** 1075,1095 ****
+      unsigned char addressMSB;
+      unsigned char numBytes;
+      unsigned char txBuf[KFWUM_SMALL_BUFFER-KFWUM_OLD_CMD_OVERHEAD];
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct KfwumSaveFirmwareSequenceReq
+   {
+    	unsigned char sequenceNumber;
+      unsigned char txBuf[KFWUM_BIG_BUFFER];
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+   
+ --- 1075,1095 ----
+      unsigned char addressMSB;
+      unsigned char numBytes;
+      unsigned char txBuf[KFWUM_SMALL_BUFFER-KFWUM_OLD_CMD_OVERHEAD];
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct KfwumSaveFirmwareSequenceReq
+   {
+    	unsigned char sequenceNumber;
+      unsigned char txBuf[KFWUM_BIG_BUFFER];
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+   
+ ***************
+ *** 1234,1250 ****
+      return status;
+   }
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct KfwumFinishFirmwareDownloadReq{
+      unsigned char versionMaj;
+      unsigned char versionMinSub;
+      unsigned char versionSdr;
+      unsigned char reserved;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+   static tKFWUM_Status KfwumFinishFirmwareImage(struct ipmi_intf * intf,
+ --- 1234,1250 ----
+      return status;
+   }
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct KfwumFinishFirmwareDownloadReq{
+      unsigned char versionMaj;
+      unsigned char versionMinSub;
+      unsigned char versionSdr;
+      unsigned char reserved;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+   static tKFWUM_Status KfwumFinishFirmwareImage(struct ipmi_intf * intf,
+ diff -cNr ipmitool-1.8.11.orig//lib/ipmi_gendev.c ipmitool-1.8.11/lib/ipmi_gendev.c
+ *** ipmitool-1.8.11.orig//lib/ipmi_gendev.c	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/lib/ipmi_gendev.c	2012-08-06 15:49:46.132196822 -0500
+ ***************
+ *** 323,329 ****
+            }
+            if(counter == (eeprom_info.size))
+            {
+ !             printf("\r%100 percent completed\n");
+            }
+            else
+            {
+ --- 323,329 ----
+            }
+            if(counter == (eeprom_info.size))
+            {
+ !             printf("\r%%100 percent completed\n");
+            }
+            else
+            {
+ ***************
+ *** 510,516 ****
+            }
+            if(counter == (eeprom_info.size))
+            {
+ !             printf("\r%100 percent completed\n");
+            }
+            else
+            {
+ --- 510,516 ----
+            }
+            if(counter == (eeprom_info.size))
+            {
+ !             printf("\r%%100 percent completed\n");
+            }
+            else
+            {
+ diff -cNr ipmitool-1.8.11.orig//lib/ipmi_hpmfwupg.c ipmitool-1.8.11/lib/ipmi_hpmfwupg.c
+ *** ipmitool-1.8.11.orig//lib/ipmi_hpmfwupg.c	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/lib/ipmi_hpmfwupg.c	2012-08-06 15:50:54.459343405 -0500
+ ***************
+ *** 202,209 ****
+      HPMFWUPG_COMPONENT_ID_MAX
+   } tHpmfwupgComponentId;   
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgComponentBitMask
+   {
+ --- 202,209 ----
+      HPMFWUPG_COMPONENT_ID_MAX
+   } tHpmfwupgComponentId;   
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgComponentBitMask
+   {
+ ***************
+ *** 233,241 ****
+            #endif
+         }bitField;
+      }ComponentBits;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+   
+ --- 233,241 ----
+            #endif
+         }bitField;
+      }ComponentBits;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+   
+ ***************
+ *** 250,268 ****
+    *  TARGET UPGRADE CAPABILITIES DEFINITIONS
+    */
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgGetTargetUpgCapabilitiesReq
+   {
+      unsigned char picmgId;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgGetTargetUpgCapabilitiesResp
+   {
+ --- 250,268 ----
+    *  TARGET UPGRADE CAPABILITIES DEFINITIONS
+    */
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgGetTargetUpgCapabilitiesReq
+   {
+      unsigned char picmgId;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgGetTargetUpgCapabilitiesResp
+   {
+ ***************
+ *** 299,319 ****
+      unsigned char rollbackTimeout;
+      unsigned char inaccessTimeout;
+      struct HpmfwupgComponentBitMask componentsPresent;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgGetTargetUpgCapabilitiesCtx
+   {
+      struct HpmfwupgGetTargetUpgCapabilitiesReq  req;
+      struct HpmfwupgGetTargetUpgCapabilitiesResp resp;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+   /* 
+ --- 299,319 ----
+      unsigned char rollbackTimeout;
+      unsigned char inaccessTimeout;
+      struct HpmfwupgComponentBitMask componentsPresent;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgGetTargetUpgCapabilitiesCtx
+   {
+      struct HpmfwupgGetTargetUpgCapabilitiesReq  req;
+      struct HpmfwupgGetTargetUpgCapabilitiesResp resp;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+   /* 
+ ***************
+ *** 331,351 ****
+      HPMFWUPG_COMP_OEM_PROPERTIES = 192   
+   } tHpmfwupgCompPropertiesSelect; 
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgGetComponentPropertiesReq
+   {
+      unsigned char picmgId;
+      unsigned char componentId;
+      unsigned char selector;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgGetGeneralPropResp 
+   {
+ --- 331,351 ----
+      HPMFWUPG_COMP_OEM_PROPERTIES = 192   
+   } tHpmfwupgCompPropertiesSelect; 
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgGetComponentPropertiesReq
+   {
+      unsigned char picmgId;
+      unsigned char componentId;
+      unsigned char selector;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgGetGeneralPropResp 
+   {
+ ***************
+ *** 372,448 ****
+            #endif
+         }bitfield;
+      }GeneralCompProperties;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgGetCurrentVersionResp 
+   {
+      unsigned char picmgId;
+      unsigned char currentVersion[HPMFWUPG_VERSION_SIZE];
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgGetDescStringResp 
+   {
+      unsigned char picmgId;
+      char descString[HPMFWUPG_DESC_STRING_LENGTH];
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgGetRollbackFwVersionResp 
+   {
+      unsigned char picmgId;
+      unsigned char rollbackFwVersion[HPMFWUPG_VERSION_SIZE];
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgGetDeferredFwVersionResp 
+   {
+      unsigned char picmgId;
+      unsigned char deferredFwVersion[HPMFWUPG_VERSION_SIZE];
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+   /* 
+    * GetComponentProperties - OEM properties (192)
+    */
+   #define HPMFWUPG_OEM_LENGTH         4
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgGetOemProperties 
+   {
+      unsigned char picmgId;
+      unsigned char oemRspData[HPMFWUPG_OEM_LENGTH];
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgGetComponentPropertiesResp
+   {
+ --- 372,448 ----
+            #endif
+         }bitfield;
+      }GeneralCompProperties;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgGetCurrentVersionResp 
+   {
+      unsigned char picmgId;
+      unsigned char currentVersion[HPMFWUPG_VERSION_SIZE];
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgGetDescStringResp 
+   {
+      unsigned char picmgId;
+      char descString[HPMFWUPG_DESC_STRING_LENGTH];
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgGetRollbackFwVersionResp 
+   {
+      unsigned char picmgId;
+      unsigned char rollbackFwVersion[HPMFWUPG_VERSION_SIZE];
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgGetDeferredFwVersionResp 
+   {
+      unsigned char picmgId;
+      unsigned char deferredFwVersion[HPMFWUPG_VERSION_SIZE];
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+   /* 
+    * GetComponentProperties - OEM properties (192)
+    */
+   #define HPMFWUPG_OEM_LENGTH         4
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgGetOemProperties 
+   {
+      unsigned char picmgId;
+      unsigned char oemRspData[HPMFWUPG_OEM_LENGTH];
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgGetComponentPropertiesResp
+   {
+ ***************
+ *** 455,513 ****
+         struct HpmfwupgGetDeferredFwVersionResp deferredFwVersionResp;
+         struct HpmfwupgGetOemProperties         oemProperties;
+      }Response;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgGetComponentPropertiesCtx
+   {
+      struct HpmfwupgGetComponentPropertiesReq  req;
+      struct HpmfwupgGetComponentPropertiesResp resp;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+   
+   /* 
+    *  ABORT UPGRADE DEFINITIONS
+    */
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgAbortUpgradeReq
+   {
+      unsigned char picmgId;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgAbortUpgradeResp
+   {
+      unsigned char picmgId;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgAbortUpgradeCtx
+   {
+      struct HpmfwupgAbortUpgradeReq  req;
+      struct HpmfwupgAbortUpgradeResp resp;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+   /* 
+ --- 455,513 ----
+         struct HpmfwupgGetDeferredFwVersionResp deferredFwVersionResp;
+         struct HpmfwupgGetOemProperties         oemProperties;
+      }Response;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgGetComponentPropertiesCtx
+   {
+      struct HpmfwupgGetComponentPropertiesReq  req;
+      struct HpmfwupgGetComponentPropertiesResp resp;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+   
+   /* 
+    *  ABORT UPGRADE DEFINITIONS
+    */
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgAbortUpgradeReq
+   {
+      unsigned char picmgId;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgAbortUpgradeResp
+   {
+      unsigned char picmgId;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgAbortUpgradeCtx
+   {
+      struct HpmfwupgAbortUpgradeReq  req;
+      struct HpmfwupgAbortUpgradeResp resp;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+   /* 
+ ***************
+ *** 522,561 ****
+      HPMFWUPG_UPGRADE_ACTION_INVALID = 0xff
+   }  tHpmfwupgUpgradeAction;
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgInitiateUpgradeActionReq
+   {
+      unsigned char picmgId;
+      struct HpmfwupgComponentBitMask componentsMask;
+      unsigned char upgradeAction;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgInitiateUpgradeActionResp
+   {
+      unsigned char picmgId;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgInitiateUpgradeActionCtx
+   {
+      struct HpmfwupgInitiateUpgradeActionReq  req;
+      struct HpmfwupgInitiateUpgradeActionResp resp;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+   /* 
+ --- 522,561 ----
+      HPMFWUPG_UPGRADE_ACTION_INVALID = 0xff
+   }  tHpmfwupgUpgradeAction;
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgInitiateUpgradeActionReq
+   {
+      unsigned char picmgId;
+      struct HpmfwupgComponentBitMask componentsMask;
+      unsigned char upgradeAction;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgInitiateUpgradeActionResp
+   {
+      unsigned char picmgId;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgInitiateUpgradeActionCtx
+   {
+      struct HpmfwupgInitiateUpgradeActionReq  req;
+      struct HpmfwupgInitiateUpgradeActionResp resp;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+   /* 
+ ***************
+ *** 568,608 ****
+   #define HPMFWUPG_SEND_DATA_COUNT_IPMB  26
+   #define HPMFWUPG_SEND_DATA_COUNT_IPMBL 26
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgUploadFirmwareBlockReq
+   {
+      unsigned char picmgId;
+      unsigned char blockNumber;
+      unsigned char data[HPMFWUPG_SEND_DATA_COUNT_MAX];
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgUploadFirmwareBlockResp
+   {
+     unsigned char picmgId;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgUploadFirmwareBlockCtx
+   {
+      struct HpmfwupgUploadFirmwareBlockReq  req;
+      struct HpmfwupgUploadFirmwareBlockResp resp;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+   
+ --- 568,608 ----
+   #define HPMFWUPG_SEND_DATA_COUNT_IPMB  26
+   #define HPMFWUPG_SEND_DATA_COUNT_IPMBL 26
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgUploadFirmwareBlockReq
+   {
+      unsigned char picmgId;
+      unsigned char blockNumber;
+      unsigned char data[HPMFWUPG_SEND_DATA_COUNT_MAX];
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgUploadFirmwareBlockResp
+   {
+     unsigned char picmgId;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgUploadFirmwareBlockCtx
+   {
+      struct HpmfwupgUploadFirmwareBlockReq  req;
+      struct HpmfwupgUploadFirmwareBlockResp resp;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+   
+ ***************
+ *** 612,844 ****
+   
+   #define HPMFWUPG_IMAGE_SIZE_BYTE_COUNT 4
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgFinishFirmwareUploadReq
+   {
+      unsigned char picmgId;
+      unsigned char componentId;
+      unsigned char imageLength[HPMFWUPG_IMAGE_SIZE_BYTE_COUNT];
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgFinishFirmwareUploadResp
+   {
+      unsigned char picmgId;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgFinishFirmwareUploadCtx
+   {
+      struct HpmfwupgFinishFirmwareUploadReq  req;
+      struct HpmfwupgFinishFirmwareUploadResp resp;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+   /*
+    *   ACTIVATE FW DEFINITIONS
+    */
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgActivateFirmwareReq
+   {
+      unsigned char picmgId;
+      unsigned char rollback_override;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgActivateFirmwareResp
+   {
+      unsigned char picmgId;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgActivateFirmwareCtx
+   {
+      struct HpmfwupgActivateFirmwareReq  req;
+      struct HpmfwupgActivateFirmwareResp resp;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+                                                        
+   /*
+    *   GET UPGRADE STATUS DEFINITIONS
+    */
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgGetUpgradeStatusReq
+   {
+      unsigned char picmgId;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgGetUpgradeStatusResp
+   {
+      unsigned char picmgId;
+      unsigned char cmdInProcess;
+      unsigned char lastCmdCompCode;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgGetUpgradeStatusCtx
+   {
+      struct HpmfwupgGetUpgradeStatusReq  req;
+      struct HpmfwupgGetUpgradeStatusResp resp;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+                            
+   /*
+    *   MANUAL FW ROLLBACK DEFINITIONS
+    */
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgManualFirmwareRollbackReq
+   {
+      unsigned char picmgId;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgManualFirmwareRollbackResp
+   {
+      unsigned char picmgId;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   struct HpmfwupgManualFirmwareRollbackCtx
+   {
+      struct HpmfwupgManualFirmwareRollbackReq  req;
+      struct HpmfwupgManualFirmwareRollbackResp resp;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+   /*
+    *   QUERY ROLLBACK STATUS DEFINITIONS
+    */
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgQueryRollbackStatusReq
+   {
+      unsigned char picmgId;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgQueryRollbackStatusResp
+   {
+      unsigned char picmgId;
+      struct HpmfwupgComponentBitMask rollbackComp;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgQueryRollbackStatusCtx
+   {
+      struct HpmfwupgQueryRollbackStatusReq  req;
+      struct HpmfwupgQueryRollbackStatusResp resp;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+   /*
+    *   QUERY SELF TEST RESULT DEFINITIONS
+    */
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct  HpmfwupgQuerySelftestResultReq
+   {
+      unsigned char picmgId;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct  HpmfwupgQuerySelftestResultResp
+   {
+      unsigned char picmgId;
+      unsigned char result1;
+      unsigned char result2;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgQuerySelftestResultCtx
+   {
+      struct HpmfwupgQuerySelftestResultReq  req;
+      struct HpmfwupgQuerySelftestResultResp resp;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   /*
+    *  HPM.1 IMAGE DEFINITIONS
+ --- 612,844 ----
+   
+   #define HPMFWUPG_IMAGE_SIZE_BYTE_COUNT 4
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgFinishFirmwareUploadReq
+   {
+      unsigned char picmgId;
+      unsigned char componentId;
+      unsigned char imageLength[HPMFWUPG_IMAGE_SIZE_BYTE_COUNT];
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgFinishFirmwareUploadResp
+   {
+      unsigned char picmgId;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgFinishFirmwareUploadCtx
+   {
+      struct HpmfwupgFinishFirmwareUploadReq  req;
+      struct HpmfwupgFinishFirmwareUploadResp resp;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+   /*
+    *   ACTIVATE FW DEFINITIONS
+    */
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgActivateFirmwareReq
+   {
+      unsigned char picmgId;
+      unsigned char rollback_override;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgActivateFirmwareResp
+   {
+      unsigned char picmgId;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgActivateFirmwareCtx
+   {
+      struct HpmfwupgActivateFirmwareReq  req;
+      struct HpmfwupgActivateFirmwareResp resp;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+                                                        
+   /*
+    *   GET UPGRADE STATUS DEFINITIONS
+    */
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgGetUpgradeStatusReq
+   {
+      unsigned char picmgId;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgGetUpgradeStatusResp
+   {
+      unsigned char picmgId;
+      unsigned char cmdInProcess;
+      unsigned char lastCmdCompCode;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgGetUpgradeStatusCtx
+   {
+      struct HpmfwupgGetUpgradeStatusReq  req;
+      struct HpmfwupgGetUpgradeStatusResp resp;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+                            
+   /*
+    *   MANUAL FW ROLLBACK DEFINITIONS
+    */
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgManualFirmwareRollbackReq
+   {
+      unsigned char picmgId;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgManualFirmwareRollbackResp
+   {
+      unsigned char picmgId;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgManualFirmwareRollbackCtx
+   {
+      struct HpmfwupgManualFirmwareRollbackReq  req;
+      struct HpmfwupgManualFirmwareRollbackResp resp;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+   /*
+    *   QUERY ROLLBACK STATUS DEFINITIONS
+    */
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgQueryRollbackStatusReq
+   {
+      unsigned char picmgId;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgQueryRollbackStatusResp
+   {
+      unsigned char picmgId;
+      struct HpmfwupgComponentBitMask rollbackComp;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgQueryRollbackStatusCtx
+   {
+      struct HpmfwupgQueryRollbackStatusReq  req;
+      struct HpmfwupgQueryRollbackStatusResp resp;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+   /*
+    *   QUERY SELF TEST RESULT DEFINITIONS
+    */
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct  HpmfwupgQuerySelftestResultReq
+   {
+      unsigned char picmgId;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct  HpmfwupgQuerySelftestResultResp
+   {
+      unsigned char picmgId;
+      unsigned char result1;
+      unsigned char result2;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgQuerySelftestResultCtx
+   {
+      struct HpmfwupgQuerySelftestResultReq  req;
+      struct HpmfwupgQuerySelftestResultResp resp;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   /*
+    *  HPM.1 IMAGE DEFINITIONS
+ ***************
+ *** 854,861 ****
+   #define HPMFWUPG_IMAGE_HEADER_VERSION    0 
+   #define HPMFWUPG_IMAGE_SIGNATURE "PICMGFWU"
+    
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgImageHeader
+   {
+ --- 854,861 ----
+   #define HPMFWUPG_IMAGE_HEADER_VERSION    0 
+   #define HPMFWUPG_IMAGE_SIGNATURE "PICMGFWU"
+    
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgImageHeader
+   {
+ ***************
+ *** 892,935 ****
+     unsigned char  compRevision[HPMFWUPG_COMP_REVISION_LENGTH];
+     unsigned char  firmRevision[HPMFWUPG_FIRM_REVISION_LENGTH];
+     unsigned short oemDataLength;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+   
+   #define HPMFWUPG_DESCRIPTION_LENGTH   21
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgActionRecord
+   {
+      unsigned char  actionType;
+      struct HpmfwupgComponentBitMask components;
+      unsigned char  checksum;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+   #define HPMFWUPG_FIRMWARE_SIZE_LENGTH 4
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgFirmwareImage
+   {
+      unsigned char version[HPMFWUPG_FIRM_REVISION_LENGTH];
+      char          desc[HPMFWUPG_DESCRIPTION_LENGTH];
+      unsigned char length[HPMFWUPG_FIRMWARE_SIZE_LENGTH];
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(1)
+   #endif
+   struct HpmfwupgUpgradeCtx
+   {
+ --- 892,935 ----
+     unsigned char  compRevision[HPMFWUPG_COMP_REVISION_LENGTH];
+     unsigned char  firmRevision[HPMFWUPG_FIRM_REVISION_LENGTH];
+     unsigned short oemDataLength;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+   
+   #define HPMFWUPG_DESCRIPTION_LENGTH   21
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgActionRecord
+   {
+      unsigned char  actionType;
+      struct HpmfwupgComponentBitMask components;
+      unsigned char  checksum;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+   #define HPMFWUPG_FIRMWARE_SIZE_LENGTH 4
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgFirmwareImage
+   {
+      unsigned char version[HPMFWUPG_FIRM_REVISION_LENGTH];
+      char          desc[HPMFWUPG_DESCRIPTION_LENGTH];
+      unsigned char length[HPMFWUPG_FIRMWARE_SIZE_LENGTH];
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(push,1)
+   #endif
+   struct HpmfwupgUpgradeCtx
+   {
+ ***************
+ *** 939,947 ****
+      struct HpmfwupgGetTargetUpgCapabilitiesResp targetCap;
+      struct HpmfwupgGetGeneralPropResp           genCompProp[HPMFWUPG_COMPONENT_ID_MAX];
+      struct ipm_devid_rsp                        devId;
+ ! } ATTRIBUTE_PACKING;
+ ! #ifdef PRAGMA_PACK
+ ! #pramga pack(0)
+   #endif
+   
+   typedef enum eHpmfwupgActionType
+ --- 939,947 ----
+      struct HpmfwupgGetTargetUpgCapabilitiesResp targetCap;
+      struct HpmfwupgGetGeneralPropResp           genCompProp[HPMFWUPG_COMPONENT_ID_MAX];
+      struct ipm_devid_rsp                        devId;
+ ! } GCC_ATTRIBUTE_PACKED;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+   #endif
+   
+   typedef enum eHpmfwupgActionType
+ ***************
+ *** 1053,1061 ****
+   int HpmGetUserInput(char *str)
+   {
+       char userInput[2];
+ !     printf(str);
+ !     scanf("%s",userInput);
+ !     if (toupper(userInput[0]) == 'Y')
+       {
+           return 1;
+       }
+ --- 1053,1060 ----
+   int HpmGetUserInput(char *str)
+   {
+       char userInput[2];
+ !     printf("%s",str);
+ !     if ( 1 == scanf("%s",userInput) && toupper(userInput[0]) == 'Y')
+       {
+           return 1;
+       }
+ ***************
+ *** 1125,1131 ****
+       if (totalSent== displayFWLength)
+       {
+           /* Display the time taken to complete the upgrade */
+ !         printf("| %02d.%02d | %05x |\n",timeElapsed/60,timeElapsed%60,totalSent);
+       }
+   }        
+   
+ --- 1124,1130 ----
+       if (totalSent== displayFWLength)
+       {
+           /* Display the time taken to complete the upgrade */
+ !         printf("| %02jd.%02jd | %05x |\n",(intmax_t)timeElapsed/60,(intmax_t)timeElapsed%60,totalSent);
+       }
+   }        
+   
+ ***************
+ *** 2295,2301 ****
+                               }
+                               if (displayFWLength == totalSent)
+                               {
+ !                                printf("\n Time Taken %02d:%02d",(end-start)/60, (end-start)%60);
+                                  printf("\n\n");
+                               }
+                           }
+ --- 2294,2300 ----
+                               }
+                               if (displayFWLength == totalSent)
+                               {
+ !                                printf("\n Time Taken %02jd:%02jd",(intmax_t)(end-start)/60, (intmax_t)(end-start)%60);
+                                  printf("\n\n");
+                               }
+                           }
+ ***************
+ *** 2431,2437 ****
+         rewind(pImageFile);
+         if ( pFwupgCtx->pImageData != NULL )
+         {
+ !          fread(pFwupgCtx->pImageData, sizeof(unsigned char), pFwupgCtx->imageSize, pImageFile);
+         }
+         else
+         {
+ --- 2430,2437 ----
+         rewind(pImageFile);
+         if ( pFwupgCtx->pImageData != NULL )
+         {
+ !          if ( pFwupgCtx->imageSize != fread(pFwupgCtx->pImageData, sizeof(unsigned char), pFwupgCtx->imageSize, pImageFile) )
+ ! 			rc = HPMFWUPG_ERROR;
+         }
+         else
+         {
+ diff -cNr ipmitool-1.8.11.orig//lib/ipmi_mc.c ipmitool-1.8.11/lib/ipmi_mc.c
+ *** ipmitool-1.8.11.orig//lib/ipmi_mc.c	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/lib/ipmi_mc.c	2012-08-06 14:16:35.039419782 -0500
+ ***************
+ *** 82,87 ****
+ --- 82,90 ----
+   	return 0;
+   }
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct bmc_enables_data {
+   #if WORDS_BIGENDIAN
+   	uint8_t oem2		: 1;
+ ***************
+ *** 102,108 ****
+   	uint8_t oem1		: 1;
+   	uint8_t oem2		: 1;
+   #endif
+ ! } __attribute__ ((packed));
+   
+   struct bitfield_data {
+   	const char * name;
+ --- 105,115 ----
+   	uint8_t oem1		: 1;
+   	uint8_t oem2		: 1;
+   #endif
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   struct bitfield_data {
+   	const char * name;
+ ***************
+ *** 396,401 ****
+ --- 403,411 ----
+   	return 0;
+   }
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct ipmi_guid {
+   	uint32_t  time_low;	/* timestamp low field */
+   	uint16_t  time_mid;	/* timestamp middle field */
+ ***************
+ *** 403,409 ****
+   	uint8_t   clock_seq_hi_variant;/* clock sequence high field and variant */
+   	uint8_t   clock_seq_low; /* clock sequence low field */
+   	uint8_t   node[6];	/* node */
+ ! } __attribute__((packed));
+   
+   /* ipmi_mc_get_guid  -  print this MC GUID
+    *
+ --- 413,423 ----
+   	uint8_t   clock_seq_hi_variant;/* clock sequence high field and variant */
+   	uint8_t   clock_seq_low; /* clock sequence low field */
+   	uint8_t   node[6];	/* node */
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ;
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   /* ipmi_mc_get_guid  -  print this MC GUID
+    *
+ diff -cNr ipmitool-1.8.11.orig//lib/ipmi_picmg.c ipmitool-1.8.11/lib/ipmi_picmg.c
+ *** ipmitool-1.8.11.orig//lib/ipmi_picmg.c	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/lib/ipmi_picmg.c	2012-08-06 15:35:28.193797474 -0500
+ ***************
+ *** 1073,1079 ****
+         printf("  - Index:  %d\n", rsp->data[2]);
+         printf("  - Family: %d\n", rsp->data[3]);
+         printf("  - AccLVL: %d\n", rsp->data[4]);
+ !       printf("  - Freq:   %d\n", freq);
+      }
+   
+   	return 0;
+ --- 1073,1079 ----
+         printf("  - Index:  %d\n", rsp->data[2]);
+         printf("  - Family: %d\n", rsp->data[3]);
+         printf("  - AccLVL: %d\n", rsp->data[4]);
+ !       printf("  - Freq:   %ld\n", freq);
+      }
+   
+   	return 0;
+ ***************
+ *** 1118,1124 ****
+   printf("## setting: 0x02x\n", msg_data[3]);
+   printf("## family:  %d\n", msg_data[4]);
+   printf("## acc:     %d\n", msg_data[5]);
+ ! printf("## freq:    %d\n", freq );
+   printf("## res:     %d\n", msg_data[10]);
+   #endif
+   
+ --- 1118,1124 ----
+   printf("## setting: 0x02x\n", msg_data[3]);
+   printf("## family:  %d\n", msg_data[4]);
+   printf("## acc:     %d\n", msg_data[5]);
+ ! printf("## freq:    %ld\n", freq );
+   printf("## res:     %d\n", msg_data[10]);
+   #endif
+   
+ diff -cNr ipmitool-1.8.11.orig//lib/ipmi_sdradd.c ipmitool-1.8.11/lib/ipmi_sdradd.c
+ *** ipmitool-1.8.11.orig//lib/ipmi_sdradd.c	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/lib/ipmi_sdradd.c	2012-08-06 14:16:35.047419560 -0500
+ ***************
+ *** 52,57 ****
+ --- 52,60 ----
+   
+   #define ADD_PARTIAL_SDR 0x25
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct sdr_add_rq {
+     uint16_t reserve_id;  /* reservation ID */
+     uint16_t id;          /* record ID */
+ ***************
+ *** 60,66 ****
+   #define PARTIAL_ADD (0)
+   #define LAST_RECORD (1)
+     uint8_t data[1];      /* SDR record data */
+ ! } __attribute__ ((packed));
+   
+   static int sdr_max_write_len = 24;
+   
+ --- 63,74 ----
+   #define PARTIAL_ADD (0)
+   #define LAST_RECORD (1)
+     uint8_t data[1];      /* SDR record data */
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+ ! 
+   
+   static int sdr_max_write_len = 24;
+   
+ diff -cNr ipmitool-1.8.11.orig//src/plugins/imb/imbapi.c ipmitool-1.8.11/src/plugins/imb/imbapi.c
+ *** ipmitool-1.8.11.orig//src/plugins/imb/imbapi.c	2009-02-25 14:38:53.000000000 -0600
+ --- ipmitool-1.8.11/src/plugins/imb/imbapi.c	2012-08-06 15:53:07.285516751 -0500
+ ***************
+ *** 1967,1973 ****
+   	unsigned int 		diff;
+   	caddr_t 			startvAddress;
+   
+ ! 	if ((startAddress == (int) NULL) || (addressLength <= 0))
+   		return ACCESN_ERROR;
+   
+   	if ( (fd = open("/dev/mem", O_RDONLY)) < 0) {
+ --- 1967,1973 ----
+   	unsigned int 		diff;
+   	caddr_t 			startvAddress;
+   
+ ! 	if ((startAddress == 0) || (addressLength <= 0))
+   		return ACCESN_ERROR;
+   
+   	if ( (fd = open("/dev/mem", O_RDONLY)) < 0) {
+ diff -cNr ipmitool-1.8.11.orig//src/plugins/imb/imbapi.h ipmitool-1.8.11/src/plugins/imb/imbapi.h
+ *** ipmitool-1.8.11.orig//src/plugins/imb/imbapi.h	2009-02-25 14:38:53.000000000 -0600
+ --- ipmitool-1.8.11/src/plugins/imb/imbapi.h	2012-08-06 14:16:35.267413435 -0500
+ ***************
+ *** 262,268 ****
+   #define		SD_NO_ACTION				0
+   #define		SD_RESET				1
+   #define		SD_POWER_OFF				2
+ ! #pragma pack(1)
+   /*
+    * This is the generic IMB packet format, the final checksum cant be
+    * represented in this structure and will show up as the last data byte
+ --- 262,268 ----
+   #define		SD_NO_ACTION				0
+   #define		SD_RESET				1
+   #define		SD_POWER_OFF				2
+ ! #pragma pack(push,1)
+   /*
+    * This is the generic IMB packet format, the final checksum cant be
+    * represented in this structure and will show up as the last data byte
+ ***************
+ *** 344,350 ****
+   } ImbResponseBuffer;
+   #define MIN_IMB_RESP_BUF_SIZE	1	
+   #define MAX_IMB_RESP_SIZE		(MIN_IMB_RESP_BUF_SIZE + MAX_IMB_RESPONSE_SIZE)
+ ! #pragma pack()
+   /*
+    * Async message access structures and types
+    */
+ --- 344,350 ----
+   } ImbResponseBuffer;
+   #define MIN_IMB_RESP_BUF_SIZE	1	
+   #define MAX_IMB_RESP_SIZE		(MIN_IMB_RESP_BUF_SIZE + MAX_IMB_RESPONSE_SIZE)
+ ! #pragma pack(pop)
+   /*
+    * Async message access structures and types
+    */
+ ***************
+ *** 479,485 ****
+   	ACCESN_INVALID_TRANSACTION,
+   	ACCESN_TIMED_OUT
+   } ACCESN_STATUS;
+ ! #pragma pack(1)
+   /*
+    * Request structure provided to SendTimedImbpRequest()
+   */
+ --- 479,485 ----
+   	ACCESN_INVALID_TRANSACTION,
+   	ACCESN_TIMED_OUT
+   } ACCESN_STATUS;
+ ! #pragma pack(push,1)
+   /*
+    * Request structure provided to SendTimedImbpRequest()
+   */
+ ***************
+ *** 502,508 ****
+   	unsigned char *	data;			
+   	int		dataLength;	
+   } I2CREQUESTDATA;
+ ! #pragma pack()
+   /*#ifdef IMB_API
+    *
+    * This section is provided to be able to compile using imb_if.h
+ --- 502,508 ----
+   	unsigned char *	data;			
+   	int		dataLength;	
+   } I2CREQUESTDATA;
+ ! #pragma pack(pop)
+   /*#ifdef IMB_API
+    *
+    * This section is provided to be able to compile using imb_if.h
+ ***************
+ *** 527,533 ****
+   } INTERFACE_TYPE, * PINTERFACE_TYPE;
+   #ifdef WIN32
+   /* From memIf.h */
+ ! #pragma pack(1)
+   typedef struct
+   {
+       INTERFACE_TYPE   InterfaceType; // Isa, Eisa, etc....
+ --- 527,533 ----
+   } INTERFACE_TYPE, * PINTERFACE_TYPE;
+   #ifdef WIN32
+   /* From memIf.h */
+ ! #pragma pack(push,1)
+   typedef struct
+   {
+       INTERFACE_TYPE   InterfaceType; // Isa, Eisa, etc....
+ ***************
+ *** 536,542 ****
+       ULONG            AddressSpace;  // 0 is memory, 1 is I/O
+       ULONG            Length;        // Length of section to map
+   } PHYSICAL_MEMORY_INFO, * PPHYSICAL_MEMORY_INFO;
+ ! #pragma pack()
+   #endif
+   /*#else	// not IMB_API */
+   /*
+ --- 536,542 ----
+       ULONG            AddressSpace;  // 0 is memory, 1 is I/O
+       ULONG            Length;        // Length of section to map
+   } PHYSICAL_MEMORY_INFO, * PPHYSICAL_MEMORY_INFO;
+ ! #pragma pack(pop)
+   #endif
+   /*#else	// not IMB_API */
+   /*
+ diff -cNr ipmitool-1.8.11.orig//src/plugins/lan/asf.h ipmitool-1.8.11/src/plugins/lan/asf.h
+ *** ipmitool-1.8.11.orig//src/plugins/lan/asf.h	2009-02-25 14:38:53.000000000 -0600
+ --- ipmitool-1.8.11/src/plugins/lan/asf.h	2012-08-06 14:16:35.307412321 -0500
+ ***************
+ *** 55,60 ****
+ --- 55,63 ----
+   	{ 0x00, NULL }
+   };
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   /* ASF message header */
+   struct asf_hdr {
+   	uint32_t	iana;
+ ***************
+ *** 62,68 ****
+   	uint8_t		tag;
+   	uint8_t		__reserved;
+   	uint8_t		len;
+ ! } __attribute__((packed));
+   
+   int handle_asf(struct ipmi_intf * intf, uint8_t * data, int data_len);
+   
+ --- 65,75 ----
+   	uint8_t		tag;
+   	uint8_t		__reserved;
+   	uint8_t		len;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   int handle_asf(struct ipmi_intf * intf, uint8_t * data, int data_len);
+   
+ diff -cNr ipmitool-1.8.11.orig//src/plugins/lan/rmcp.h ipmitool-1.8.11/src/plugins/lan/rmcp.h
+ *** ipmitool-1.8.11.orig//src/plugins/lan/rmcp.h	2009-02-25 14:38:52.000000000 -0600
+ --- ipmitool-1.8.11/src/plugins/lan/rmcp.h	2012-08-06 14:16:35.311412210 -0500
+ ***************
+ *** 64,77 ****
+   	{ 0,			NULL }
+   };
+   
+   /* RMCP message header */
+   struct rmcp_hdr {
+   	uint8_t ver;
+   	uint8_t __reserved;
+   	uint8_t seq;
+   	uint8_t class;
+ ! } __attribute__((packed));
+   
+   struct rmcp_pong {
+   	struct rmcp_hdr rmcp;
+   	struct asf_hdr asf;
+ --- 64,87 ----
+   	{ 0,			NULL }
+   };
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   /* RMCP message header */
+   struct rmcp_hdr {
+   	uint8_t ver;
+   	uint8_t __reserved;
+   	uint8_t seq;
+   	uint8_t class;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   struct rmcp_pong {
+   	struct rmcp_hdr rmcp;
+   	struct asf_hdr asf;
+ ***************
+ *** 80,86 ****
+   	uint8_t sup_entities;
+   	uint8_t sup_interact;
+   	uint8_t reserved[6];
+ ! } __attribute__((packed));
+   
+   int handle_rmcp(struct ipmi_intf * intf, uint8_t * data, int data_len);
+   
+ --- 90,101 ----
+   	uint8_t sup_entities;
+   	uint8_t sup_interact;
+   	uint8_t reserved[6];
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+ ! 
+   
+   int handle_rmcp(struct ipmi_intf * intf, uint8_t * data, int data_len);
+   
+ diff -cNr ipmitool-1.8.11.orig//src/plugins/lanplus/asf.h ipmitool-1.8.11/src/plugins/lanplus/asf.h
+ *** ipmitool-1.8.11.orig//src/plugins/lanplus/asf.h	2009-02-25 14:38:53.000000000 -0600
+ --- ipmitool-1.8.11/src/plugins/lanplus/asf.h	2012-08-06 14:16:35.215414883 -0500
+ ***************
+ *** 55,60 ****
+ --- 55,63 ----
+   	{ 0x00, NULL }
+   };
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   /* ASF message header */
+   struct asf_hdr {
+   	uint32_t iana;
+ ***************
+ *** 62,68 ****
+   	uint8_t tag;
+   	uint8_t __reserved;
+   	uint8_t len;
+ ! } __attribute__((packed));
+   
+   int handle_asf(struct ipmi_intf * intf, uint8_t * data, int data_len);
+   
+ --- 65,77 ----
+   	uint8_t tag;
+   	uint8_t __reserved;
+   	uint8_t len;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+ ! 
+ ! 
+   
+   int handle_asf(struct ipmi_intf * intf, uint8_t * data, int data_len);
+   
+ diff -cNr ipmitool-1.8.11.orig//src/plugins/lanplus/rmcp.h ipmitool-1.8.11/src/plugins/lanplus/rmcp.h
+ *** ipmitool-1.8.11.orig//src/plugins/lanplus/rmcp.h	2009-02-25 14:38:53.000000000 -0600
+ --- ipmitool-1.8.11/src/plugins/lanplus/rmcp.h	2012-08-06 14:16:35.243414103 -0500
+ ***************
+ *** 63,75 ****
+   	{ 0,			NULL }
+   };
+   
+   /* RMCP message header */
+   struct rmcp_hdr {
+   	uint8_t ver;
+   	uint8_t __reserved;
+   	uint8_t seq;
+   	uint8_t class;
+ ! } __attribute__((packed));
+   
+   int handle_rmcp(struct ipmi_intf * intf, uint8_t * data, int data_len);
+   
+ --- 63,82 ----
+   	{ 0,			NULL }
+   };
+   
+ + #ifdef HAVE_PRAGMA_PACK
+ + #pragma pack(push,1)
+ + #endif
+   /* RMCP message header */
+   struct rmcp_hdr {
+   	uint8_t ver;
+   	uint8_t __reserved;
+   	uint8_t seq;
+   	uint8_t class;
+ ! }
+ ! GCC_ATTRIBUTE_PACKED ; 
+ ! #ifdef HAVE_PRAGMA_PACK
+ ! #pragma pack(pop)
+ ! #endif
+   
+   int handle_rmcp(struct ipmi_intf * intf, uint8_t * data, int data_len);
+   
diff -crN package/ipmitool.orig/ipmitool.mk package/ipmitool/ipmitool.mk
*** package/ipmitool.orig/ipmitool.mk	1969-12-31 16:00:00.000000000 -0800
--- package/ipmitool/ipmitool.mk	2012-08-06 15:06:32.911312000 -0700
***************
*** 0 ****
--- 1,27 ----
+ #############################################################
+ #
+ # ipmitool
+ #
+ #############################################################
+ 
+ IPMITOOL_VERSION = 1.8.11
+ IPMITOOL_SITE = http://sourceforge.net/projects/ipmitool/files/ipmitool/$(IPMITOOL_VERSION)/
+ IPMITOOL_TARGET_BINS = ipmitool
+ IPMITOOL_MAKE =	$(MAKE) MULTI=1 SCPPROGRESS=1 \
+ 		PROGRAMS="ipmitool"
+ 
+ IPMITOOL_INSTALL_TARGET=YES
+ 
+ ifeq ($(BR2_PREFER_STATIC_LIB),y)
+ IPMITOOL_MAKE += STATIC=1
+ endif
+ 
+ define IPMITOOL_INSTALL_TARGET_CMDS
+ 	$(INSTALL) -m 755 $(@D)/src/ipmitool $(TARGET_DIR)/usr/bin/ipmitool
+ endef
+ 
+ define IPMITOOL_UNINSTALL_TARGET_CMDS
+ 	rm -f $(TARGET_DIR)/usr/bin/ipmitool
+ endef
+ 
+ $(eval $(autotools-package))
*** package/Config.in.orig	2014-09-15 09:57:49.000000000 -0700
--- package/Config.in	2014-09-15 09:58:16.000000000 -0700
***************
*** 321,326 ****
--- 321,327 ----
  	source "package/input-tools/Config.in"
  	source "package/intel-microcode/Config.in"
  	source "package/iostat/Config.in"
+ 	source "package/ipmitool/Config.in"
  	source "package/irda-utils/Config.in"
  	source "package/iucode-tool/Config.in"
  	source "package/kbd/Config.in"
